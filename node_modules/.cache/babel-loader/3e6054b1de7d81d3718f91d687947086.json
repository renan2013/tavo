{"remainingRequest":"D:\\proyetos2020vue\\TAVOCR\\node_modules\\thread-loader\\dist\\cjs.js!D:\\proyetos2020vue\\TAVOCR\\node_modules\\babel-loader\\lib\\index.js!D:\\proyetos2020vue\\TAVOCR\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\proyetos2020vue\\TAVOCR\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\proyetos2020vue\\TAVOCR\\src\\divisoft\\uploadFile\\UploadEmbebedPre.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\proyetos2020vue\\TAVOCR\\src\\divisoft\\uploadFile\\UploadEmbebedPre.vue","mtime":1596148894000},{"path":"D:\\proyetos2020vue\\TAVOCR\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\proyetos2020vue\\TAVOCR\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\proyetos2020vue\\TAVOCR\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\proyetos2020vue\\TAVOCR\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\proyetos2020vue\\TAVOCR\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.index-of\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// lector basico de documentos o imagenes\nimport { eventBus } from \"@/main\"; // para que se hablen los componentes\n\nimport VuePerfectScrollbar from \"vue-perfect-scrollbar\"; //componente lee B64\n\nimport file64Reader from \"./file64Reader\";\nimport * as divilib from \"@/divisoftlibs/utilDivisoftJS.js\";\nexport default {\n  created: function created() {\n    var _this = this;\n\n    //\t cuando se createReadStream\n    eventBus.$on(\"cargaDocUploadEmbe\", function (respuestaCMSUP) {\n      //respuestaCMSUP[0].Referencia;\n      _this.LlaveExterna = respuestaCMSUP[0].LlaveExterna;\n      _this.NumNivel = respuestaCMSUP[0].NumNivel;\n      _this.NumDoc = respuestaCMSUP[0].NumDoc;\n      _this.EntidadCodigo = respuestaCMSUP[0].EntidadCodigo;\n      if (!(_this.LlaveExterna > \"0\")) _this.mensajeBd = \"Datos Incorrectos para Cargar IMAGEN\";\n      console.log(\"Cargando Uploda \", respuestaCMSUP);\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    //Crea un bus  OYENTE\n    // SI HAY PROMPT\n    eventBus.$off(\"cargaDocUpload\");\n  },\n  props: {\n    tituloUpload: {\n      type: String,\n      required: false\n    },\n    isSidebarActive: {\n      type: Boolean,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      mensajeBd: \"\",\n      activaalerta: true,\n      yasubio: false,\n      Credencial: \"\",\n      Referencia: \"0\",\n      LlaveExterna: \"\",\n      NumNivel: \"\",\n      NumDoc: \"\",\n      EntidadCodigo: \"\",\n      DocumentoMimeType: \"\",\n      DescripcionDoc: \"\",\n      bdCMS: divilib.BdCMS,\n      CMSpeticion: divilib.CMSpeticion,\n      ManipulacionCMS: divilib.ManipulacionCMS,\n      textBase64: \"\",\n      textMS: \"\",\n      imageType: 0,\n      subeArchivo: false,\n      editKey: 0\n    };\n  },\n  components: {\n    file64Reader: file64Reader,\n    VuePerfectScrollbar: VuePerfectScrollbar\n  },\n  computed: {\n    getCodCia: function getCodCia() {\n      return this.$store.state.CodCia;\n    },\n    getProfile: function getProfile() {\n      return this.$store.state.dsoaLogin.profile[0];\n    },\n    CMSDataRespuesta: function CMSDataRespuesta() {\n      return this.$store.state.DataCMS;\n    },\n    isSidebarActiveLocal: {\n      get: function get() {\n        return this.isSidebarActive;\n      },\n      set: function set(val) {\n        if (!val) {\n          this.$emit(\"closeSidebar\"); //this.initValues();\n        }\n      }\n    }\n  },\n  methods: {\n    //Metodo para recibir  Los datos del componente\n    EnviaBase64: function EnviaBase64(archivoBase64, datosRespuesta) {\n      this.textBase64 = \"\";\n      this.DocumentoMimeType = datosRespuesta[0].DocumentoMimeType;\n      this.DescripcionDoc = datosRespuesta[0].descripcionDoc;\n      if (this.DescripcionDoc == \"\") this.DescripcionDoc = \"Documento\";\n\n      if (datosRespuesta[0].DocumentoMimeType.indexOf(\"PDF\") > 0 || datosRespuesta[0].DocumentoMimeType.indexOf(\"pdf\") > 0) {\n        this.imageType = 1;\n        this.textBase64 = archivoBase64;\n      }\n\n      if (datosRespuesta[0].DocumentoMimeType.indexOf(\"mage\") > 0 || datosRespuesta[0].DocumentoMimeType.indexOf(\"MAGE\") > 0) {\n        this.imageType = 2;\n        this.textBase64 = archivoBase64;\n      }\n    },\n    uploadFile: function uploadFile() {\n      var extension = \"\";\n      this.yasubio = true;\n      extension = divilib.getValueExtension(divilib.CMSMimeToExtension, this.DocumentoMimeType);\n\n      try {\n        if (this.getProfile.Credencial > \"0\") this.Credencial = this.getProfile.Credencial;\n      } catch (error) {\n        this.Credencial = \"125060666\";\n      }\n\n      var img = new Image();\n      img.src = this.textBase64;\n      alert(\"cargo Imagen\", img.width);\n      alert(\"cargo Imagen\", img.height); //alert(\"credencial \"+this.getCodCia+\"  y  \"+this.Credencial+\"  \"+this.EntidadCodigo+this.textBase64.substr(\",\"));\n\n      var respuestaCMS = {\n        CodCia: this.getCodCia,\n        CodigoPeticion: \"14\",\n        Repositorio: \"\",\n        GuardaArchivo: \"B\",\n        RutaOrigen: this.textBase64.substr(\",\"),\n        ExtensionFinal: \"\",\n        RutaDestino: \"\",\n        EntidadCodigo: this.EntidadCodigo,\n        LlaveExterna: this.LlaveExterna,\n        NumNivel: this.NumNivel,\n        NumDoc: this.NumDoc,\n        ReferenciaPadre: \"\",\n        Referencia: this.Referencia,\n        hashDoc: \"\",\n        ReferenciaPersonalizada: \"\",\n        IndicadorAtiendeWs: \"\",\n        FormatoImagen: \"\",\n        DirectorioCrear: \"\",\n        DestinoFisico: \"\",\n        DirectorioSeparatorOrigen: \"\",\n        InsertarBd: \"\",\n        DocumentoMimeType: this.DocumentoMimeType,\n        NombreObjeto: this.descripcionDoc,\n        Descripcion: this.descripcionDoc,\n        Extension: extension,\n        NuevoNombre: this.descripcionDoc,\n        Thumb: \"\",\n        Lote: \"\",\n        FormatoArchivoDestino: \"\",\n        Credencial: this.Credencial\n      };\n      this.bdCMS[0].Encriptado = \"\";\n      this.bdCMS[0].TipoGuardado = \"\";\n      this.bdCMS[0].EntidadCodigo = \"\";\n      this.bdCMS[0].InformacionBusqueda = \"\";\n      this.bdCMS[0].TipoRespuesta = \"\";\n      this.bdCMS[0].DirectorioSeparadorOrigen = \"\";\n      this.bdCMS[0].GuardarImagenDestino = \"\";\n      this.bdCMS[0].Directorio = \"\";\n      this.bdCMS[0].IndMultipleEntidad = \"\";\n      this.bdCMS[0].Size = \"\"; //Peticion Minuscula\n\n      var peticionAvatar = \"<data>\" + divilib.dataCMSToXml(respuestaCMS) + divilib.manipulaCMSToXml(this.ManipulacionCMS[0]) + divilib.bdCMSToXml(this.bdCMS[0]) + \"</data>\";\n      console.log(\"peticion CMS2 \", peticionAvatar);\n      peticionAvatar = btoa(peticionAvatar); //  console.log(\"peticion CMS3 \", peticionAvatar); \n\n      if (this.LlaveExterna > \"0\") eventBus.$emit(\"RecogeDatosAvatar\", peticionAvatar); //this.$store.dispatch(\"CMSacDsoa\", this.CMSpeticion[0]);\n      else {\n          this.mensajeBd = \"No hay datos correctos para Guardar  llave extrerna no presente \";\n        }\n    }\n  }\n};",{"version":3,"sources":["UploadEmbebedPre.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- =========================================================================================\n  File Name: AddNewDataSidebar.vue\n  Description: Add New Data - Sidebar component\n  ----------------------------------------------------------------------------------------\n  Item Name: Vuesax Admin - VueJS Dashboard Admin Template\n  Author: Pixinvent\n  Author URL: http://www.themeforest.net/user/pixinvent\n========================================================================================== -->\n\n<template>\n<div id=\"data-list-list-view\" class=\"vx-col md:w-1/2 w-full mb-base\">\n\n    <VuePerfectScrollbar class=\"scroll-area--data-list-add-new pt-4 pb-6\">\n        <div class=\"p-6\">\n            <br />\n           \n             \n            <iframe v-show=\"imageType==1\" :src=\"textBase64\" type=\"application/pdf\"></iframe>\n            <div>\n                <img v-show=\"imageType==2\" style=\"display:block; width:100px;height:100px;\" id=\"base64image\" :src=\"textBase64\" />\n            </div>\n\n            <file64Reader @EnviaBase64=\"EnviaBase64\"></file64Reader>\n            <br>\n            \n            <button type=\"submit\" class=\"btn btn-success\" @click=\"uploadFile()\">Subir a BD</button>\n\n        </div>\n    </VuePerfectScrollbar>\n\n</div>\n</template>\n\n<script>\n // lector basico de documentos o imagenes\n import {\n     eventBus\n } from \"@/main\"; // para que se hablen los componentes\n import VuePerfectScrollbar from \"vue-perfect-scrollbar\";\n\n //componente lee B64\n import file64Reader from \"./file64Reader\";\n\n import * as divilib from \"@/divisoftlibs/utilDivisoftJS.js\";\n\n export default {\n     created() {\n         //\t cuando se createReadStream\n    \n         eventBus.$on(\"cargaDocUploadEmbe\", respuestaCMSUP => {\n                 //respuestaCMSUP[0].Referencia;\n             this.LlaveExterna = respuestaCMSUP[0].LlaveExterna;\n             \n             this.NumNivel = respuestaCMSUP[0].NumNivel;\n             this.NumDoc = respuestaCMSUP[0].NumDoc;\n             this.EntidadCodigo=respuestaCMSUP[0].EntidadCodigo;\n\n\n           \n\n\n             if (!(this.LlaveExterna > \"0\"))\n                 this.mensajeBd = \"Datos Incorrectos para Cargar IMAGEN\";\n\n             console.log(\"Cargando Uploda \", respuestaCMSUP);\n         });\n     },\n     beforeDestroy: function () {\n         //Crea un bus  OYENTE\n         // SI HAY PROMPT\n         eventBus.$off(\"cargaDocUpload\");\n     },\n\n     props: {\n         tituloUpload: {\n             type: String,\n             required: false\n         },\n         isSidebarActive: {\n             type: Boolean,\n             required: true\n         }\n     },\n\n     data() {\n         return {\n             mensajeBd: \"\",\n             activaalerta: true,\n             yasubio: false,\n             Credencial:\"\",\n\n             Referencia: \"0\",\n             LlaveExterna: \"\",\n             NumNivel: \"\",\n             NumDoc: \"\",\n             EntidadCodigo:\"\",\n\n             DocumentoMimeType: \"\",\n             DescripcionDoc: \"\",\n\n             bdCMS: divilib.BdCMS,\n             CMSpeticion: divilib.CMSpeticion,\n             ManipulacionCMS: divilib.ManipulacionCMS,\n             textBase64: \"\",\n             textMS: \"\",\n             imageType: 0,\n             subeArchivo: false,\n             editKey: 0\n         };\n     },\n     components: {\n         file64Reader,\n         VuePerfectScrollbar\n     },\n     computed: {\n         getCodCia() {\n             return this.$store.state.CodCia;\n         },\n         getProfile() {\n             return this.$store.state.dsoaLogin.profile[0];\n         },\n\n         CMSDataRespuesta() {\n             return this.$store.state.DataCMS;\n         },\n\n         isSidebarActiveLocal: {\n             get() {\n                 return this.isSidebarActive;\n             },\n             set(val) {\n                 if (!val) {\n                     this.$emit(\"closeSidebar\");\n                     //this.initValues();\n                 }\n             }\n         }\n     },\n     methods: {\n         //Metodo para recibir  Los datos del componente\n\n         EnviaBase64(archivoBase64, datosRespuesta) {\n             this.textBase64 = \"\";\n\n             this.DocumentoMimeType = datosRespuesta[0].DocumentoMimeType;\n             this.DescripcionDoc = datosRespuesta[0].descripcionDoc;\n             if (this.DescripcionDoc == \"\") this.DescripcionDoc = \"Documento\";\n\n             if (\n                 datosRespuesta[0].DocumentoMimeType.indexOf(\"PDF\") > 0 ||\n                 datosRespuesta[0].DocumentoMimeType.indexOf(\"pdf\") > 0\n             ) {\n                 this.imageType = 1;\n                 this.textBase64 = archivoBase64;\n             }\n\n             if (\n                 datosRespuesta[0].DocumentoMimeType.indexOf(\"mage\") > 0 ||\n                 datosRespuesta[0].DocumentoMimeType.indexOf(\"MAGE\") > 0\n             ) {\n                 this.imageType = 2;\n                 this.textBase64 = archivoBase64;\n             }\n         },\n         uploadFile() {\n\n             let extension = \"\";\n             this.yasubio = true;\n             extension = divilib.getValueExtension(\n                 divilib.CMSMimeToExtension,\n                 this.DocumentoMimeType\n             );\n\n               \n               try {\n                    if (this.getProfile.Credencial>\"0\")\n                  this.Credencial=this.getProfile.Credencial\n \n               } catch (error) {\n                    this.Credencial=\"125060666\" \n               }\n\n                var img = new Image();\n\n                    img.src=this.textBase64;\n\n\n\n                    \n                     \n                    alert(\"cargo Imagen\",img.width)\n                     alert(\"cargo Imagen\",img.height)\n\n              \n             //alert(\"credencial \"+this.getCodCia+\"  y  \"+this.Credencial+\"  \"+this.EntidadCodigo+this.textBase64.substr(\",\"));\n\n             let respuestaCMS = {\n                 CodCia: this.getCodCia,\n                 CodigoPeticion: \"14\",\n                 Repositorio: \"\",\n                 GuardaArchivo: \"B\",\n                 RutaOrigen: this.textBase64.substr(\",\"),\n                 ExtensionFinal: \"\",\n                 RutaDestino: \"\",\n                 EntidadCodigo: this.EntidadCodigo,\n                 LlaveExterna: this.LlaveExterna,\n                 NumNivel: this.NumNivel,\n                 NumDoc: this.NumDoc,\n                 ReferenciaPadre: \"\",\n                 Referencia: this.Referencia,\n                 hashDoc: \"\",\n                 ReferenciaPersonalizada: \"\",\n                 IndicadorAtiendeWs: \"\",\n                 FormatoImagen: \"\",\n                 DirectorioCrear: \"\",\n                 DestinoFisico: \"\",\n                 DirectorioSeparatorOrigen: \"\",\n                 InsertarBd: \"\",\n                 DocumentoMimeType: this.DocumentoMimeType,\n                 NombreObjeto: this.descripcionDoc,\n                 Descripcion: this.descripcionDoc,\n                 Extension: extension,\n                 NuevoNombre: this.descripcionDoc,\n                 Thumb: \"\",\n                 Lote: \"\",\n                 FormatoArchivoDestino: \"\",\n                 Credencial:this.Credencial\n             };\n\n             this.bdCMS[0].Encriptado = \"\";\n             this.bdCMS[0].TipoGuardado = \"\";\n             this.bdCMS[0].EntidadCodigo = \"\";\n             this.bdCMS[0].InformacionBusqueda = \"\";\n             this.bdCMS[0].TipoRespuesta = \"\";\n             this.bdCMS[0].DirectorioSeparadorOrigen = \"\";\n             this.bdCMS[0].GuardarImagenDestino = \"\";\n             this.bdCMS[0].Directorio = \"\";\n             this.bdCMS[0].IndMultipleEntidad = \"\";\n             this.bdCMS[0].Size = \"\";\n\n             //Peticion Minuscula\n \n\n             \n             let peticionAvatar=\"<data>\"\n                +divilib.dataCMSToXml(respuestaCMS)\n                + divilib.manipulaCMSToXml( this.ManipulacionCMS[0]  )\n                +divilib.bdCMSToXml(this.bdCMS[0])+\"</data>\";\n                  console.log(\"peticion CMS2 \", peticionAvatar); \n\n                 \n\n                peticionAvatar=btoa(peticionAvatar)\n              //  console.log(\"peticion CMS3 \", peticionAvatar); \n\n             if (this.LlaveExterna > \"0\")\n                   eventBus.$emit(\"RecogeDatosAvatar\",peticionAvatar  );\n                 //this.$store.dispatch(\"CMSacDsoa\", this.CMSpeticion[0]);\n\n             else {\n                 this.mensajeBd = \"No hay datos correctos para Guardar  llave extrerna no presente \";\n             }\n\n         }\n     }, \n     \n };\n</script>\n\n<style lang=\"scss\" scoped>\n.add-new-data-sidebar {\n    /deep/ .vs-sidebar--background {\n        z-index: 52010;\n    }\n\n    /deep/ .vs-sidebar {\n        z-index: 52010;\n        width: 70%;\n        max-width: 90vw;\n    }\n}\n</style>\n"],"sourceRoot":"src/divisoft/uploadFile"}]}