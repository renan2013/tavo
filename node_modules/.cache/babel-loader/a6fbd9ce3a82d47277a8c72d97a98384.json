{"remainingRequest":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\src\\divisoft\\filtrosDivisoft.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\src\\divisoft\\filtrosDivisoft.vue","mtime":1604601624348},{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1604601561321},{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\babel-loader\\lib\\index.js","mtime":1604601556483},{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1604601561321},{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\vue-loader\\lib\\index.js","mtime":1604601615297}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport VuePerfectScrollbar from \"vue-perfect-scrollbar\";\nimport * as divilib from \"@/divisoftlibs/utilDivisoftJS.js\"; //import { mapState } from \"vuex\";\n\nexport default {\n  props: {\n    header: {\n      // header Es recibido del padre\n      type: String,\n      required: true\n    },\n    filtros: {\n      // filtros por tabla  es para armar los campos que son buscadores\n      type: Array,\n      required: true\n    },\n    isSidebarActive: {\n      type: Boolean,\n      required: true\n    },\n    filas: {\n      // filtros por tabla, un xml listo de las mismas filas del padre.\n      type: String,\n      required: true\n    },\n    ObjectID: {\n      // filtros por tabla, un xml listo de las mismas filas del padre.\n      type: Number,\n      required: false\n    }\n  },\n  data: function data() {\n    return {\n      datosaqui: true,\n      parametros: [],\n      paramtxt: \"\",\n      locallastheader: \"\",\n      //guarda el ultimo header de este objeto\n      locallaststrParametros: \"\",\n      //guarda el ultimo  parametros de este objeto\n      locallaststrFilas: \"\" //guarda el ultimo filas de este objeto\n\n    };\n  },\n  computed: {\n    isSidebarActiveLocal: {\n      get: function get() {\n        return this.isSidebarActive;\n      },\n      set: function set(val) {\n        if (!val) {\n          this.$emit(\"closeSidebar\"); //this.initValues();\n        }\n      }\n    },\n    getProfile: function getProfile() {\n      return this.$store.state.dsoaLogin.profile[0];\n    }\n  },\n  methods: {\n    //TRAE DATOS PARA MOSTRAR EN TABLA\n    ejecutaBusqueda: function ejecutaBusqueda() {\n      var origenUrl = \"O\";\n\n      if (this.getProfile.Username == null) {\n        this.$vs.notify({\n          title: \"Informe de Procedimiento Almacenado\",\n          time: 6000,\n          text: \"Usuario No esta Identificado\",\n          color: \"warning\"\n        });\n        this.$emit('closeSidebar');\n      }\n\n      if (this.getProfile.Credencial == null) {\n        this.$vs.notify({\n          title: \"Informe de Procedimiento Almacenado\",\n          time: 6000,\n          text: \"No tiene Autorizacion de Ejecucion o Credencial No presente \",\n          color: \"warning\"\n        });\n        this.$emit('closeSidebar');\n        reurn;\n      } // PREPARANDO PARAMETROS\n      // recorro los  parametros y sus Valores\n      //agrego los parametros\n\n\n      var parametros = [];\n      var parametro1 = {}; //var xmlParametros = \"\";\n\n      var contador = 0;\n      this.filtros.forEach(function callback(item) {\n        if (item.VALOR.length > 0) {\n          parametro1 = {\n            NOMBRE: item.NOMBRE_INTERNO,\n            OPERADOR: item.OPERADOR,\n            VALOR1: item.VALOR,\n            VALOR2: \"\",\n            CDATA: \"0\"\n          };\n          parametros.push(parametro1);\n          contador++;\n        } // tu iterador\n\n      }); //entrega arreglo de parametros recibe texto de parametros\n\n      this.paramtxt = divilib.paramArraytoStrintg(parametros); // de add parametros\n\n      this.$store.commit(\"MUTSETURL\", \"O\"); // carga los parametros\n\n      var petFiltro = {\n        header: this.header,\n        parametros: this.paramtxt,\n        filas: this.filas\n      };\n      this.$store.commit(\"MUTSETPETICIONTXT\", petFiltro);\n      var pedido = {\n        dml: \"JJ\",\n        Credencial: this.getProfile.Credencial,\n        ObjectId: this.ObjectID,\n        formatoenvio: \"N\",\n        formatorecibe: \"N\",\n        indicador: \"1\",\n        // CRUD\n        origenUrl: origenUrl\n      }; //cambia a acDsoaPrueba // acDsoa\n\n      this.$store.dispatch(\"acDsoa\", pedido);\n      this.locallastheader = this.header;\n      this.locallaststrParametros = this.paramtxt;\n      this.locallaststrFilas = this.filas;\n      this.$emit(\"ajustaUltimoParam\", this.paramtxt);\n      this.$emit(\"closeSidebar\");\n    } // fin de  metodo\n\n  },\n  // fin de  methods\n  components: {\n    VuePerfectScrollbar: VuePerfectScrollbar\n  }\n};",{"version":3,"sources":["filtrosDivisoft.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- =========================================================================================\r\n  File Name: AddNewDataSidebar.vue\r\n  Description: Add New Data - Sidebar component\r\n  ----------------------------------------------------------------------------------------\r\n  Item Name: Vuesax Admin - VueJS Dashboard Admin Template\r\n  Author: Pixinvent\r\n  Author URL: http://www.themeforest.net/user/pixinvent\r\n========================================================================================== -->\r\n \r\n<template>\r\n<div id=\"data-list-list-view\" class=\"vx-col md:w-1/2 w-full mb-base\">\r\n\r\n    <vs-sidebar click-not-close position-right parent=\"body\" default-index=\"1\" color=\"primary\" class=\"add-new-data-sidebar items-no-padding\" spacer v-model=\"isSidebarActiveLocal\">\r\n        <div class=\"mt-6 flex items-center justify-between px-6\">\r\n            <h4>Nueva Busqueda</h4>\r\n            {{ObjectID}}\r\n            <feather-icon icon=\"XIcon\" @click.stop=\"isSidebarActiveLocal = false\" class=\"cursor-pointer\"></feather-icon>\r\n        </div>\r\n        <vs-divider class=\"mb-0\"></vs-divider>\r\n        <VuePerfectScrollbar class=\"scroll-area--data-list-add-new pt-4 pb-6\">\r\n            <div class=\"p-6\">\r\n                <!-- CAMPOS BUSQUEDA -->\r\n                <table class=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th scope=\"col\">Campo</th>\r\n                            <th scope=\"col\">Operador</th>\r\n                            <th scope=\"col\">Valor</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr :key=\"indextr\" v-for=\"(item, indextr) in filtros\">\r\n                            <td>{{item.NOMBRE_CAMPO}}</td>\r\n                            <td>\r\n                                <select class=\"custom-select\" id=\"inputGroupSelect01\" v-model=\" item.OPERADOR\">\r\n                                    <option :key=\"item2.TIPO\" :value=\"item2.TIPO\" :text=\"item2.LABEL\" v-for=\"item2 in item.TIPO_FILTRO\">{{item2.LABEL}}</option>\r\n                                </select>\r\n                            </td>\r\n                            <td>\r\n                                <input type=\"text\" class=\"form-control\" placeholder=\"Ingrese el valor\" v-model=\"item.VALOR\" />\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <button type=\"submit\" class=\"btn btn-primary\" @click=\"ejecutaBusqueda\">Buscar</button>\r\n            </div>\r\n        </VuePerfectScrollbar>\r\n    </vs-sidebar>\r\n</div>\r\n</template>\r\n\r\n \r\n<script>\r\nimport VuePerfectScrollbar from \"vue-perfect-scrollbar\";\r\nimport * as divilib from \"@/divisoftlibs/utilDivisoftJS.js\";\r\n//import { mapState } from \"vuex\";\r\n\r\nexport default {\r\n    props: {\r\n        header: {\r\n            // header Es recibido del padre\r\n            type: String,\r\n            required: true\r\n        },\r\n\r\n        filtros: {\r\n            // filtros por tabla  es para armar los campos que son buscadores\r\n            type: Array,\r\n            required: true\r\n        },\r\n\r\n        isSidebarActive: {\r\n            type: Boolean,\r\n            required: true\r\n        },\r\n        filas: {\r\n            // filtros por tabla, un xml listo de las mismas filas del padre.\r\n            type: String,\r\n            required: true\r\n        },\r\n        ObjectID: {\r\n            // filtros por tabla, un xml listo de las mismas filas del padre.\r\n            type: Number,\r\n            required: false\r\n        }\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            datosaqui: true,\r\n            parametros: [],\r\n\r\n            paramtxt: \"\",\r\n            locallastheader: \"\", //guarda el ultimo header de este objeto\r\n            locallaststrParametros: \"\", //guarda el ultimo  parametros de este objeto\r\n            locallaststrFilas: \"\" //guarda el ultimo filas de este objeto\r\n        };\r\n    },\r\n    computed: {\r\n        isSidebarActiveLocal: {\r\n            get() {\r\n                return this.isSidebarActive;\r\n            },\r\n            set(val) {\r\n                if (!val) {\r\n                    this.$emit(\"closeSidebar\");\r\n                    //this.initValues();\r\n                }\r\n            }\r\n        },\r\n        getProfile() {\r\n            return this.$store.state.dsoaLogin.profile[0];\r\n        },\r\n    },\r\n    methods: {\r\n        //TRAE DATOS PARA MOSTRAR EN TABLA\r\n\r\n        ejecutaBusqueda: function () {\r\n            var origenUrl = \"O\";\r\n\r\n            if (this.getProfile.Username == null) {\r\n                this.$vs.notify({\r\n                    title: \"Informe de Procedimiento Almacenado\",\r\n                    time: 6000,\r\n                    text: \"Usuario No esta Identificado\",\r\n                    color: \"warning\"\r\n                });\r\n                this.$emit('closeSidebar');\r\n            }\r\n            if (this.getProfile.Credencial == null) {\r\n                this.$vs.notify({\r\n                    title: \"Informe de Procedimiento Almacenado\",\r\n                    time: 6000,\r\n                    text: \"No tiene Autorizacion de Ejecucion o Credencial No presente \",\r\n                    color: \"warning\"\r\n                });\r\n                this.$emit('closeSidebar');\r\n                reurn;\r\n            }\r\n\r\n            // PREPARANDO PARAMETROS\r\n            // recorro los  parametros y sus Valores\r\n\r\n            //agrego los parametros\r\n            let parametros = [];\r\n\r\n            let parametro1 = {}; \r\n\r\n            //var xmlParametros = \"\";\r\n            let  contador = 0;\r\n            this.filtros.forEach(function callback(item) {\r\n                if (item.VALOR.length > 0) {\r\n                    parametro1 = {\r\n                        NOMBRE: item.NOMBRE_INTERNO,\r\n                        OPERADOR: item.OPERADOR,\r\n                        VALOR1: item.VALOR,\r\n                        VALOR2: \"\",\r\n                        CDATA: \"0\"\r\n                    };\r\n                    parametros.push(parametro1);\r\n                    contador++;\r\n                }\r\n                // tu iterador\r\n            });\r\n            //entrega arreglo de parametros recibe texto de parametros\r\n            this.paramtxt = divilib.paramArraytoStrintg(parametros);\r\n            // de add parametros\r\n            this.$store.commit(\"MUTSETURL\", \"O\");\r\n            // carga los parametros\r\n            var petFiltro = {\r\n                header: this.header,\r\n                parametros: this.paramtxt,\r\n                filas: this.filas\r\n            };\r\n            this.$store.commit(\"MUTSETPETICIONTXT\", petFiltro);\r\n\r\n            var pedido = {\r\n                dml: \"JJ\",\r\n                Credencial: this.getProfile.Credencial,\r\n                 ObjectId: this.ObjectID,\r\n                formatoenvio: \"N\",\r\n                formatorecibe: \"N\",\r\n                indicador: \"1\", // CRUD\r\n                origenUrl: origenUrl\r\n            };\r\n \r\n            //cambia a acDsoaPrueba // acDsoa\r\n            this.$store.dispatch(\"acDsoa\", pedido);\r\n\r\n            this.locallastheader = this.header;\r\n            this.locallaststrParametros = this.paramtxt;\r\n            this.locallaststrFilas = this.filas;\r\n\r\n            this.$emit(\"ajustaUltimoParam\", this.paramtxt);\r\n            this.$emit(\"closeSidebar\");\r\n        } // fin de  metodo\r\n    }, // fin de  methods\r\n    components: {\r\n        VuePerfectScrollbar\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.add-new-data-sidebar {\r\n    /deep/ .vs-sidebar--background {\r\n        z-index: 52010;\r\n    }\r\n\r\n    /deep/ .vs-sidebar {\r\n        z-index: 52010;\r\n        width: 50%;\r\n        max-width: 90vw;\r\n    }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/divisoft"}]}