{"remainingRequest":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\src\\store\\eCommerce\\moduleECommerceActions.js","dependencies":[{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\src\\store\\eCommerce\\moduleECommerceActions.js","mtime":1604601625216},{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1604601561321},{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\babel-loader\\lib\\index.js","mtime":1604601556483}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Renan Galvan\\\\Desktop\\\\sincronizados_git\\\\tavo_nov_2020\\\\tavo\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.array.find-index\";\n\n/*=========================================================================================\r\n  File Name: moduleEcommerceActions.js\r\n  Description: Ecommerce Module Actions\r\n  ----------------------------------------------------------------------------------------\r\n  Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\r\n  Author: Pixinvent\r\n  Author URL: http://www.themeforest.net/user/pixinvent\r\n==========================================================================================*/\nimport axios from 'axios';\nimport router from '@/router';\nimport * as divilib from '@/divisoftlibs/utilDivisoftJS.js';\nexport default {\n  // agrega a mis deseos \n  // cuarda local y bd  wish\n  toggleItemInWishList: function toggleItemInWishList(_ref, item) {\n    var dispatch = _ref.dispatch,\n        state = _ref.state,\n        commit = _ref.commit;\n    var profile = item.profile;\n    delete item.profile;\n    var index = state.wishList.findIndex(function (i) {\n      return i.objectID === item.objectID;\n    }); // lo agrega a deseos \n\n    commit('TOGGLE_ITEM_IN_WISH_LIST', item); // guarda en base datos el deseo \n\n    var headertxt = \"\";\n    var dml = \"I\";\n    if (index == 0) dml = \"D\";\n    if (index == -1) dml = \"I\"; // alert(\" esta \" + item.objectID + \" \" + index + \" accion \" + dml);\n\n    var origenUrl = \"O\";\n    var header = {\n      MODO: dml,\n      OBJECTID: \"2545\",\n      CREDENCIAL: profile.Credencial,\n      USERNAME: profile.Username,\n      REGISTROSXPAGINA: \"0\",\n      PAGINA: \"0\",\n      ORDERBY: \"\"\n    };\n    headertxt = divilib.GetHeaderString(header); //console.log(\"heder CARRITO\", headertxt);\n    // AGREGO LAS FILAS \n\n    var filastxt = \"<Filas>\";\n    filastxt += \"<FilaItem><Nombre>COD_CLIENTE</Nombre><Valor>\" + profile.num_user + \"</Valor></FilaItem>\";\n    filastxt += \" <FilaItem><Nombre>COD_PATNER</Nombre><Valor>5069</Valor></FilaItem>\";\n    filastxt += \" <FilaItem><Nombre>COD_PRODUCTO</Nombre><Valor>\" + item.objectID + \"</Valor></FilaItem>\";\n    filastxt += \"</Filas>\";\n    var paramtxt = \"<Param/>\"; //console.log(\"Filas carrito CARRITO\", filastxt);\n    // cargo la peticion texto\n\n    var petTxt = {\n      header: headertxt,\n      parametros: paramtxt,\n      filas: filastxt\n    };\n    commit(\"MUTSETURL\", \"O\");\n    commit(\"MUTSETPETICIONTXT\", petTxt);\n    console.log(\"Filas carrito CARRITO\", petTxt);\n    var pedido = {\n      dml: \"I\",\n      // LLAMA A BUSCAR PRODUCTOS\n      Credencial: profile.Credencial,\n      ObjectId: \"2545\",\n      formatoenvio: \"N\",\n      formatorecibe: \"N\",\n      indicador: 4,\n      // wish\n      origenUrl: origenUrl\n    }; //llamo a insertar \n\n    dispatch('acDsoa', pedido);\n  },\n  toggleItemInCart: function toggleItemInCart(_ref2, item) {\n    var getters = _ref2.getters,\n        commit = _ref2.commit,\n        dispatch = _ref2.dispatch;\n    var profile = item.profile;\n\n    if (getters.isInCart(item.objectID)) {\n      delete item.profile;\n      commit(\"eCommerce/MUTSETPETICIONTXT\", \"\");\n      var headertxt = \"\";\n      var origenUrl = \"O\";\n      var header = {\n        MODO: \"D\",\n        OBJECTID: \"2546\",\n        CREDENCIAL: profile.Credencial,\n        USERNAME: profile.Username,\n        REGISTROSXPAGINA: \"0\"\n      };\n      headertxt = divilib.GetHeaderString(header); // AGREGO LAS FILAS \n\n      var filastxt = \"<Filas>\";\n      filastxt += \"<FilaItem><Nombre>COD_CLIENTE</Nombre><Valor>\" + profile.num_user + \"</Valor></FilaItem>\";\n      filastxt += \" <FilaItem><Nombre>COD_PATNER</Nombre><Valor>5069</Valor></FilaItem>\";\n      filastxt += \" <FilaItem><Nombre>COD_PRODUCTO</Nombre><Valor>\" + item.objectID + \"</Valor></FilaItem>\";\n      filastxt += \"</Filas>\";\n      var paramtxt = \"<Param/>\"; // cargo la peticion texto\n\n      var petTxt = {\n        header: headertxt,\n        parametros: paramtxt,\n        filas: filastxt\n      };\n      commit(\"MUTSETPETICIONTXT\", petTxt);\n      var pedido = {\n        dml: \"D\",\n        // LLAMA A BUSCAR PRODUCTOS\n        Credencial: profile.Credencial,\n        ObjectId: \"2546\",\n        formatoenvio: \"N\",\n        formatorecibe: \"N\",\n        indicador: 5,\n        //AGREGA A CARRITO\n        origenUrl: origenUrl\n      }; //llamo a BORRAR\n\n      dispatch('acDsoa', pedido);\n    } else {\n      dispatch('additemInCart', item);\n    }\n\n    getters.isInCart(item.objectID) ? commit('REMOVE_ITEM_FROM_CART', item) : dispatch('additemInCart', item);\n  },\n  additemInCart: function additemInCart(_ref3, item) {\n    var dispatch = _ref3.dispatch,\n        state = _ref3.state,\n        commit = _ref3.commit;\n    var profile = item.profile;\n    delete item.profile;\n    commit(\"eCommerce/MUTSETPETICIONTXT\", \"\");\n    var headertxt = \"\"; // Below properties should be added as per requirement from back-end\n    // This is added just for demo purpose\n\n    item['quantity'] = 1;\n    item['discount_in_percentage'] = 5;\n    item['offers_count'] = 2;\n    item['delivery_date'] = new Date(new Date().getTime()).toDateString(); // agrega el carrito a la variable de carrito de la STATE\n\n    commit('ADD_ITEM_IN_CART', item);\n    var adicionalCar = '\"quantity\": 1,\"discount_in_percentage\":5,\"offers_count\":2,\"delivery_date\":\"' + new Date(new Date().getTime()).toDateString() + '\"';\n    var origenUrl = \"O\";\n    var header = {\n      MODO: \"I\",\n      OBJECTID: \"2546\",\n      CREDENCIAL: profile.Credencial,\n      USERNAME: profile.Username,\n      REGISTROSXPAGINA: \"0\",\n      PAGINA: \"0\",\n      ORDERBY: \"\"\n    };\n    headertxt = divilib.GetHeaderString(header);\n    console.log(\"heder CARRITO\", headertxt); // AGREGO LAS FILAS \n\n    var filastxt = \"<Filas>\";\n    filastxt += \"<FilaItem><Nombre>COD_CLIENTE</Nombre><Valor>\" + profile.num_user + \"</Valor></FilaItem>\";\n    filastxt += \" <FilaItem><Nombre>COD_PATNER</Nombre><Valor>5069</Valor></FilaItem>\";\n    filastxt += \" <FilaItem><Nombre>COD_PRODUCTO</Nombre><Valor>\" + item.objectID + \"</Valor></FilaItem>\";\n    filastxt += \"<FilaItem><Nombre>CAN_ITEM</Nombre><Valor>\" + 1 + \"</Valor></FilaItem>\";\n    filastxt += \" <FilaItem><Nombre>POR_DESCUENTO</Nombre><Valor>5069</Valor></FilaItem>\";\n    filastxt += \" <FilaItem><Nombre>CAN_OFERTA</Nombre><Valor>\" + 1 + \"</Valor></FilaItem>\"; //filastxt += \" <FilaItem><Nombre>FEC_ENTREGA</Nombre><Valor>\" + adicionalCar.delivery_date + \"</Valor></FilaItem>\";\n\n    filastxt += \" <FilaItem><Nombre>PRODUCTO_JSON</Nombre><Valor>\" + adicionalCar + \"</Valor></FilaItem>\";\n    filastxt += \"</Filas>\";\n    var paramtxt = \"<Param/>\";\n    console.log(\"Filas carrito CARRITO\", filastxt); // cargo la peticion texto\n\n    var petTxt = {\n      header: headertxt,\n      parametros: paramtxt,\n      filas: filastxt\n    };\n    commit(\"MUTSETURL\", \"O\");\n    commit(\"MUTSETPETICIONTXT\", petTxt);\n    console.log(\"Filas carrito CARRITO\", petTxt);\n    var pedido = {\n      dml: \"I\",\n      // LLAMA A BUSCAR PRODUCTOS\n      Credencial: profile.Credencial,\n      ObjectId: \"2546\",\n      formatoenvio: \"N\",\n      formatorecibe: \"N\",\n      indicador: 5,\n      //AGREGA A CARRITO\n      origenUrl: origenUrl\n    }; //llamo a insertar \n\n    dispatch('acDsoa', pedido);\n  },\n  updateItemQuantity: function updateItemQuantity(_ref4, payload) {\n    var commit = _ref4.commit;\n    commit('UPDATE_ITEM_QUANTITY', payload);\n  },\n  //  DIVISOFT  DIVISOFT  DIVISOFT  DIVISOFT  DIVISOFT  DIVISOFT  DIVISOFT  DIVISOFT  DIVISOFT \n  /// llama a Solicitud de Datos\n  acDsoa: function () {\n    var _acDsoa = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref5, pet) {\n      var commit, state, datos, url, jsonError, dsoaModel, res;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              commit = _ref5.commit, state = _ref5.state;\n              //alert(\"ecomerce DESOA\");\n              datos = state.peticion;\n              url = state.urlDsoa; //console.log(\"peticion \", JSON.stringify(pet))\n              //alert(\"ecomerce DESOA\" + url);\n\n              jsonError = {\n                codigoError: '',\n                msgError: ''\n              };\n              commit('MUTREGISTRAERROR', jsonError);\n\n              if (!(pet.Credencial == null || pet.ObjectId == null)) {\n                _context.next = 12;\n                break;\n              }\n\n              alert('adentro Con Error  credencial' + pet.Credencial + '  objeto ' + pet.ObjectId);\n              if (pet.Credencial == null) jsonError = {\n                codigoError: '90',\n                msgError: 'Credencial Nulo'\n              };\n              if (pet.ObjectId == null) jsonError = {\n                codigoError: '91',\n                msgError: 'Objeto BD no identificado'\n              };\n              commit('MUTREGISTRAERROR', jsonError);\n              _context.next = 24;\n              break;\n\n            case 12:\n              dsoaModel = {\n                datos: datos,\n                manipula: '',\n                bd: '',\n                dml: pet.dml,\n                formato: pet.formatoenvio,\n                formatoRequest: pet.formatorecibe,\n                credencial: pet.credencial,\n                tecnologia: '',\n                datosJson: '',\n                objectId: pet.ObjectId\n              };\n              commit('MUTPROCESANDOTRUE');\n              _context.prev = 14;\n              _context.next = 17;\n              return axios({\n                method: 'POST',\n                url: url,\n                headers: {\n                  'content-type': 'application/json'\n                },\n                processData: false,\n                contentType: false,\n                mimeType: 'multipart/form-data',\n                sync: false,\n                crossDomain: true,\n                data: dsoaModel\n              }).then(function (response) {\n                commit('MUTPROCESANDOFALSE');\n\n                if (pet.indicador == 1 || pet.indicador == 2 || pet.indicador == 3 || pet.indicador == 9 || pet.indicador == 10) {\n                  if (response.data.codigoerror == '2000' // No AUTORIZADO  Enviar  login\n                  ) //router\n                    router.push('/pages/login').catch(function () {});else {\n                    console.log('INDICADOR', pet.indicador);\n                    response.data['indicador'] = pet.indicador; //console.log('LARGO DE RESPUESTA  acDsoa', response.data.datos);\n\n                    commit('MUTSETRESPUESTAE', response.data); //carga variable con los datos\n                  }\n                } //Inserta carrito\n\n\n                if (pet.indicador == 5) {\n                  // llena un grid\n                  if (response.data.codigoerror == '2000' // No AUTORIZADO  Enviar  login\n                  ) //router\n                    router.push('/pages/login').catch(function () {});else {\n                    console.log('INDICADOR', pet.indicador); //console.log('LARGO DE RESPUESTA  acDsoa', response.data.datos);\n\n                    commit('MUTSETRESPUESTAGRID', response.data); //carga variable con los datos\n                  }\n                } //Inserta lista de deseos\n\n\n                if (pet.indicador == 4) {\n                  // llena un grid\n                  if (response.data.codigoerror == '2000' // No AUTORIZADO  Enviar  login\n                  ) //router\n                    router.push('/pages/login').catch(function () {});else {\n                    console.log('INDICADOR', pet.indicador); //console.log('LARGO DE RESPUESTA  acDsoa', response.data.datos);\n\n                    commit('MUTSETRESPUESTAGRID', response.data); //carga variable con los datos\n                  }\n                } //evalua el indicador\n\n\n                if (pet.indicador == 2) {\n                  // llena un grid\n                  if (response.data.codigoerror == '2000' // No AUTORIZADO  Enviar  login\n                  ) //router\n                    router.push('/pages/login').catch(function () {});else {\n                    console.log('INDICADOR', pet.indicador); //console.log('LARGO DE RESPUESTA  acDsoa', response.data.datos);\n\n                    commit('MUTSETRESPUESTAGRID', response.data); //carga variable con los datos\n                  }\n                }\n\n                if (pet.indicador == 8) {\n                  //  query de respuesta Unica\n                  // console.log(\"Enviando a MUTSETRESPUESTAE\", JSON.stringify(response.data));\n                  commit('MUTSETRESPUESTAGENERICO', response.data);\n                } //MUTSETRESPUESTAGENERICO\n\n              }).catch(function (error) {\n                alert(\"error1\");\n                commit('MUTPROCESANDOFALSE');\n\n                if (error.response) {\n                  // Request made and server responded\n                  console.log(error.response.data);\n                  console.log(error.response.status);\n                  console.log(error.response.headers);\n                } else if (error.request) {\n                  // The request was made but no response was received\n                  console.log(error.request);\n                } else {\n                  // Something happened in setting up the request that triggered an Error\n                  console.log('SE PRODUJO ERROR ' + error);\n                }\n              });\n\n            case 17:\n              res = _context.sent;\n              _context.next = 24;\n              break;\n\n            case 20:\n              _context.prev = 20;\n              _context.t0 = _context[\"catch\"](14);\n              alert(\"error2\" + _context.t0);\n              commit('MUTPROCESANDOFALSE');\n\n            case 24:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[14, 20]]);\n    }));\n\n    function acDsoa(_x, _x2) {\n      return _acDsoa.apply(this, arguments);\n    }\n\n    return acDsoa;\n  }(),\n  ///  MULTIMEDIA MULTIMEDIA  MULTIMEDIA MULTIMEDIA  MULTIMEDIA MULTIMEDIA  MULTIMEDIA MULTIMEDIA  MULTIMEDIA MULTIMEDIA\n  CMSacDsoa: function () {\n    var _CMSacDsoa = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(_ref6, pet) {\n      var commit, state, jsonError, url, CMSres;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              commit = _ref6.commit, state = _ref6.state;\n\n              if (!(pet.Credencial == null)) {\n                _context2.next = 6;\n                break;\n              }\n\n              if (pet.Credencial == null) jsonError = {\n                codigoError: '90',\n                msgError: 'Credencial Nulo CMSacDsoa'\n              };\n              commit('MUTREGISTRAERROR', jsonError);\n              _context2.next = 19;\n              break;\n\n            case 6:\n              commit('MUTSETDATOSDEFAULTCMS', divilib.DataCMS[0]);\n              url = state.urlDsoaCMS;\n              commit('MUTPROCESANDOTRUE');\n              _context2.prev = 9;\n              _context2.next = 12;\n              return axios({\n                method: 'POST',\n                url: url,\n                headers: {\n                  'content-type': 'application/json'\n                },\n                processData: false,\n                contentType: false,\n                mimeType: 'multipart/form-data',\n                sync: false,\n                crossDomain: true,\n                data: pet\n              }).then(function (response) {\n                commit('MUTPROCESANDOFALSE');\n                console.log('LARGO DE RESPUESTA  CMSacDsoa  ', JSON.stringify(response.data).length); // console.log(\"LARGO DE RESPUESTA  CMSacDsoa  \", JSON.stringify(response.data));\n\n                var data = response.data.datos; // console.log(\"imagen\", data.RutaDestino)\n\n                if (!divilib.isObject(data)) data = JSON.parse(response.data.datos);\n                console.log('imagen', data.RutaDestino);\n                commit('MUTSETDATA', data);\n              }).catch(function (error) {\n                commit('MUTPROCESANDOFALSE');\n\n                if (error.response) {\n                  // Request made and server responded\n                  console.log(error.response.data);\n                  console.log(error.response.status);\n                  console.log(error.response.headers);\n                } else if (error.request) {\n                  // The request was made but no response was received\n                  console.log(error.request);\n                } else {\n                  // Something happened in setting up the request that triggered an Error\n                  console.log('SE PRODUJO ERROR ' + error);\n                }\n              });\n\n            case 12:\n              CMSres = _context2.sent;\n              _context2.next = 19;\n              break;\n\n            case 15:\n              _context2.prev = 15;\n              _context2.t0 = _context2[\"catch\"](9);\n              commit('MUTPROCESANDOFALSE');\n              console.log(\"ERROR 3\", _context2.t0);\n\n            case 19:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[9, 15]]);\n    }));\n\n    function CMSacDsoa(_x3, _x4) {\n      return _CMSacDsoa.apply(this, arguments);\n    }\n\n    return CMSacDsoa;\n  }(),\n  CMSacDsoaLimpia: function () {\n    var _CMSacDsoaLimpia = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(_ref7, pet) {\n      var commit, state;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              commit = _ref7.commit, state = _ref7.state;\n              // console.log(\"limpiando la Peticion \", pet)\n              commit('MUTSETDATOSDEFAULTCMS', pet);\n\n            case 2:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    function CMSacDsoaLimpia(_x5, _x6) {\n      return _CMSacDsoaLimpia.apply(this, arguments);\n    }\n\n    return CMSacDsoaLimpia;\n  }()\n};",{"version":3,"sources":["C:/Users/Renan Galvan/Desktop/sincronizados_git/tavo_nov_2020/tavo/src/store/eCommerce/moduleECommerceActions.js"],"names":["axios","router","divilib","toggleItemInWishList","item","dispatch","state","commit","profile","index","wishList","findIndex","i","objectID","headertxt","dml","origenUrl","header","MODO","OBJECTID","CREDENCIAL","Credencial","USERNAME","Username","REGISTROSXPAGINA","PAGINA","ORDERBY","GetHeaderString","filastxt","num_user","paramtxt","petTxt","parametros","filas","console","log","pedido","ObjectId","formatoenvio","formatorecibe","indicador","toggleItemInCart","getters","isInCart","additemInCart","Date","getTime","toDateString","adicionalCar","updateItemQuantity","payload","acDsoa","pet","datos","peticion","url","urlDsoa","jsonError","codigoError","msgError","alert","dsoaModel","manipula","bd","formato","formatoRequest","credencial","tecnologia","datosJson","objectId","method","headers","processData","contentType","mimeType","sync","crossDomain","data","then","response","codigoerror","push","catch","error","status","request","res","CMSacDsoa","DataCMS","urlDsoaCMS","JSON","stringify","length","isObject","parse","RutaDestino","CMSres","CMSacDsoaLimpia"],"mappings":"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","sourcesContent":["/*=========================================================================================\r\n  File Name: moduleEcommerceActions.js\r\n  Description: Ecommerce Module Actions\r\n  ----------------------------------------------------------------------------------------\r\n  Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\r\n  Author: Pixinvent\r\n  Author URL: http://www.themeforest.net/user/pixinvent\r\n==========================================================================================*/\r\nimport axios from 'axios';\r\nimport router from '@/router';\r\nimport * as divilib from '@/divisoftlibs/utilDivisoftJS.js';\r\n\r\nexport default {\r\n    // agrega a mis deseos \r\n    // cuarda local y bd  wish\r\n    toggleItemInWishList({ dispatch, state, commit }, item) {\r\n\r\n        let profile = item.profile;\r\n        delete item.profile;\r\n        const index = state.wishList.findIndex(i => i.objectID === item.objectID)\r\n\r\n\r\n\r\n        // lo agrega a deseos \r\n        commit('TOGGLE_ITEM_IN_WISH_LIST', item)\r\n            // guarda en base datos el deseo \r\n        let headertxt = \"\";\r\n        let dml = \"I\";\r\n        if (index == 0)\r\n            dml = \"D\";\r\n\r\n        if (index == -1)\r\n            dml = \"I\";\r\n\r\n        // alert(\" esta \" + item.objectID + \" \" + index + \" accion \" + dml);\r\n\r\n        let origenUrl = \"O\";\r\n        let header = {\r\n            MODO: dml,\r\n            OBJECTID: \"2545\",\r\n            CREDENCIAL: profile.Credencial,\r\n            USERNAME: profile.Username,\r\n            REGISTROSXPAGINA: \"0\",\r\n            PAGINA: \"0\",\r\n            ORDERBY: \"\"\r\n        };\r\n        headertxt = divilib.GetHeaderString(header);\r\n        //console.log(\"heder CARRITO\", headertxt);\r\n\r\n        // AGREGO LAS FILAS \r\n\r\n\r\n        let filastxt = \"<Filas>\"\r\n        filastxt += \"<FilaItem><Nombre>COD_CLIENTE</Nombre><Valor>\" + profile.num_user + \"</Valor></FilaItem>\";\r\n        filastxt += \" <FilaItem><Nombre>COD_PATNER</Nombre><Valor>5069</Valor></FilaItem>\";\r\n        filastxt += \" <FilaItem><Nombre>COD_PRODUCTO</Nombre><Valor>\" + item.objectID + \"</Valor></FilaItem>\";\r\n\r\n        filastxt += \"</Filas>\";\r\n        let paramtxt = \"<Param/>\";\r\n\r\n        //console.log(\"Filas carrito CARRITO\", filastxt);\r\n\r\n        // cargo la peticion texto\r\n        var petTxt = {\r\n            header: headertxt,\r\n            parametros: paramtxt,\r\n            filas: filastxt\r\n        };\r\n\r\n        commit(\"MUTSETURL\", \"O\");\r\n        commit(\"MUTSETPETICIONTXT\", petTxt);\r\n\r\n        console.log(\"Filas carrito CARRITO\", petTxt);\r\n\r\n\r\n        var pedido = {\r\n            dml: \"I\", // LLAMA A BUSCAR PRODUCTOS\r\n            Credencial: profile.Credencial,\r\n            ObjectId: \"2545\",\r\n            formatoenvio: \"N\",\r\n            formatorecibe: \"N\",\r\n            indicador: 4, // wish\r\n            origenUrl: origenUrl\r\n        };\r\n\r\n        //llamo a insertar \r\n        dispatch('acDsoa', pedido);\r\n\r\n\r\n\r\n\r\n    },\r\n\r\n    toggleItemInCart({ getters, commit, dispatch }, item) {\r\n\r\n\r\n        let profile = item.profile;\r\n\r\n\r\n        if (getters.isInCart(item.objectID)) {\r\n            delete item.profile;\r\n\r\n            commit(\"eCommerce/MUTSETPETICIONTXT\", \"\");\r\n            let headertxt = \"\";\r\n\r\n            let origenUrl = \"O\";\r\n            let header = {\r\n                MODO: \"D\",\r\n                OBJECTID: \"2546\",\r\n                CREDENCIAL: profile.Credencial,\r\n                USERNAME: profile.Username,\r\n                REGISTROSXPAGINA: \"0\",\r\n            };\r\n            headertxt = divilib.GetHeaderString(header);\r\n            // AGREGO LAS FILAS \r\n            let filastxt = \"<Filas>\"\r\n            filastxt += \"<FilaItem><Nombre>COD_CLIENTE</Nombre><Valor>\" + profile.num_user + \"</Valor></FilaItem>\";\r\n            filastxt += \" <FilaItem><Nombre>COD_PATNER</Nombre><Valor>5069</Valor></FilaItem>\";\r\n            filastxt += \" <FilaItem><Nombre>COD_PRODUCTO</Nombre><Valor>\" + item.objectID + \"</Valor></FilaItem>\";\r\n\r\n            filastxt += \"</Filas>\";\r\n            let paramtxt = \"<Param/>\";\r\n            // cargo la peticion texto\r\n            var petTxt = {\r\n                header: headertxt,\r\n                parametros: paramtxt,\r\n                filas: filastxt\r\n            };\r\n            commit(\"MUTSETPETICIONTXT\", petTxt);\r\n\r\n            var pedido = {\r\n                dml: \"D\", // LLAMA A BUSCAR PRODUCTOS\r\n                Credencial: profile.Credencial,\r\n                ObjectId: \"2546\",\r\n                formatoenvio: \"N\",\r\n                formatorecibe: \"N\",\r\n                indicador: 5, //AGREGA A CARRITO\r\n                origenUrl: origenUrl\r\n            };\r\n\r\n            //llamo a BORRAR\r\n            dispatch('acDsoa', pedido);\r\n\r\n        } else {\r\n\r\n            dispatch('additemInCart', item);\r\n        }\r\n\r\n        getters.isInCart(item.objectID) ? commit('REMOVE_ITEM_FROM_CART', item) : dispatch('additemInCart', item)\r\n    },\r\n\r\n    additemInCart({ dispatch, state, commit }, item) {\r\n        let profile = item.profile;\r\n        delete item.profile;\r\n\r\n\r\n        commit(\"eCommerce/MUTSETPETICIONTXT\", \"\");\r\n        let headertxt = \"\";\r\n\r\n        // Below properties should be added as per requirement from back-end\r\n        // This is added just for demo purpose\r\n        item['quantity'] = 1\r\n        item['discount_in_percentage'] = 5\r\n        item['offers_count'] = 2\r\n        item['delivery_date'] = new Date(new Date().getTime()).toDateString()\r\n            // agrega el carrito a la variable de carrito de la STATE\r\n        commit('ADD_ITEM_IN_CART', item)\r\n\r\n        let adicionalCar = '\"quantity\": 1,\"discount_in_percentage\":5,\"offers_count\":2,\"delivery_date\":\"' + new Date(new Date().getTime()).toDateString() + '\"';\r\n\r\n        let origenUrl = \"O\";\r\n        let header = {\r\n            MODO: \"I\",\r\n            OBJECTID: \"2546\",\r\n            CREDENCIAL: profile.Credencial,\r\n            USERNAME: profile.Username,\r\n            REGISTROSXPAGINA: \"0\",\r\n            PAGINA: \"0\",\r\n            ORDERBY: \"\"\r\n        };\r\n        headertxt = divilib.GetHeaderString(header);\r\n\r\n        console.log(\"heder CARRITO\", headertxt);\r\n\r\n        // AGREGO LAS FILAS \r\n\r\n\r\n        let filastxt = \"<Filas>\"\r\n        filastxt += \"<FilaItem><Nombre>COD_CLIENTE</Nombre><Valor>\" + profile.num_user + \"</Valor></FilaItem>\";\r\n        filastxt += \" <FilaItem><Nombre>COD_PATNER</Nombre><Valor>5069</Valor></FilaItem>\";\r\n        filastxt += \" <FilaItem><Nombre>COD_PRODUCTO</Nombre><Valor>\" + item.objectID + \"</Valor></FilaItem>\";\r\n\r\n        filastxt += \"<FilaItem><Nombre>CAN_ITEM</Nombre><Valor>\" + 1 + \"</Valor></FilaItem>\";\r\n        filastxt += \" <FilaItem><Nombre>POR_DESCUENTO</Nombre><Valor>5069</Valor></FilaItem>\";\r\n        filastxt += \" <FilaItem><Nombre>CAN_OFERTA</Nombre><Valor>\" + 1 + \"</Valor></FilaItem>\";\r\n        //filastxt += \" <FilaItem><Nombre>FEC_ENTREGA</Nombre><Valor>\" + adicionalCar.delivery_date + \"</Valor></FilaItem>\";\r\n\r\n        filastxt += \" <FilaItem><Nombre>PRODUCTO_JSON</Nombre><Valor>\" + adicionalCar + \"</Valor></FilaItem>\";\r\n\r\n        filastxt += \"</Filas>\";\r\n        let paramtxt = \"<Param/>\";\r\n\r\n        console.log(\"Filas carrito CARRITO\", filastxt);\r\n\r\n        // cargo la peticion texto\r\n        var petTxt = {\r\n            header: headertxt,\r\n            parametros: paramtxt,\r\n            filas: filastxt\r\n        };\r\n\r\n        commit(\"MUTSETURL\", \"O\");\r\n        commit(\"MUTSETPETICIONTXT\", petTxt);\r\n\r\n        console.log(\"Filas carrito CARRITO\", petTxt);\r\n\r\n\r\n        var pedido = {\r\n            dml: \"I\", // LLAMA A BUSCAR PRODUCTOS\r\n            Credencial: profile.Credencial,\r\n            ObjectId: \"2546\",\r\n            formatoenvio: \"N\",\r\n            formatorecibe: \"N\",\r\n            indicador: 5, //AGREGA A CARRITO\r\n            origenUrl: origenUrl\r\n        };\r\n\r\n        //llamo a insertar \r\n        dispatch('acDsoa', pedido);\r\n\r\n\r\n    },\r\n    updateItemQuantity({ commit }, payload) {\r\n        commit('UPDATE_ITEM_QUANTITY', payload)\r\n    },\r\n\r\n\r\n    //  DIVISOFT  DIVISOFT  DIVISOFT  DIVISOFT  DIVISOFT  DIVISOFT  DIVISOFT  DIVISOFT  DIVISOFT \r\n    /// llama a Solicitud de Datos\r\n    async acDsoa({ commit, state }, pet) {\r\n\r\n        //alert(\"ecomerce DESOA\");\r\n\r\n        const datos = state.peticion;\r\n        const url = state.urlDsoa;\r\n        //console.log(\"peticion \", JSON.stringify(pet))\r\n        //alert(\"ecomerce DESOA\" + url);\r\n        var jsonError = { codigoError: '', msgError: '' };\r\n        commit('MUTREGISTRAERROR', jsonError);\r\n        if (pet.Credencial == null || pet.ObjectId == null) {\r\n            alert('adentro Con Error  credencial' + pet.Credencial + '  objeto ' + pet.ObjectId);\r\n\r\n            if (pet.Credencial == null) var jsonError = { codigoError: '90', msgError: 'Credencial Nulo' };\r\n\r\n            if (pet.ObjectId == null) var jsonError = { codigoError: '91', msgError: 'Objeto BD no identificado' };\r\n            commit('MUTREGISTRAERROR', jsonError);\r\n        } else {\r\n\r\n            var dsoaModel = {\r\n                datos: datos,\r\n                manipula: '',\r\n                bd: '',\r\n                dml: pet.dml,\r\n                formato: pet.formatoenvio,\r\n                formatoRequest: pet.formatorecibe,\r\n                credencial: pet.credencial,\r\n                tecnologia: '',\r\n                datosJson: '',\r\n                objectId: pet.ObjectId\r\n            };\r\n\r\n\r\n            commit('MUTPROCESANDOTRUE');\r\n\r\n            try {\r\n\r\n                // fetch data from a url web service\r\n                //alert(\"ecomerce DESOA222 \" + url);\r\n                //console.log(\"pidiendo \", JSON.stringify(dsoaModel))\r\n\r\n                let res = await axios({\r\n                        method: 'POST',\r\n                        url,\r\n                        headers: {\r\n                            'content-type': 'application/json'\r\n                        },\r\n                        processData: false,\r\n                        contentType: false,\r\n                        mimeType: 'multipart/form-data',\r\n                        sync: false,\r\n                        crossDomain: true,\r\n                        data: dsoaModel\r\n                    })\r\n                    .then((response) => {\r\n\r\n                        commit('MUTPROCESANDOFALSE');\r\n\r\n\r\n                        if (pet.indicador == 1 || pet.indicador == 2 || pet.indicador == 3 ||\r\n                            pet.indicador == 9 ||\r\n                            pet.indicador == 10) {\r\n\r\n                            if (\r\n                                response.data.codigoerror == '2000' // No AUTORIZADO  Enviar  login\r\n                            )\r\n\r\n                            //router\r\n                                router.push('/pages/login').catch(() => {});\r\n                            else {\r\n                                console.log('INDICADOR', pet.indicador);\r\n                                response.data['indicador'] = pet.indicador\r\n\r\n                                //console.log('LARGO DE RESPUESTA  acDsoa', response.data.datos);\r\n\r\n                                commit('MUTSETRESPUESTAE', response.data); //carga variable con los datos\r\n                            }\r\n\r\n                        }\r\n\r\n\r\n                        //Inserta carrito\r\n                        if (pet.indicador == 5) {\r\n                            // llena un grid\r\n                            if (\r\n                                response.data.codigoerror == '2000' // No AUTORIZADO  Enviar  login\r\n                            )\r\n\r\n                            //router\r\n                                router.push('/pages/login').catch(() => {});\r\n                            else {\r\n                                console.log('INDICADOR', pet.indicador);\r\n                                //console.log('LARGO DE RESPUESTA  acDsoa', response.data.datos);\r\n                                commit('MUTSETRESPUESTAGRID', response.data); //carga variable con los datos\r\n                            }\r\n                        }\r\n\r\n                        //Inserta lista de deseos\r\n                        if (pet.indicador == 4) {\r\n                            // llena un grid\r\n                            if (\r\n                                response.data.codigoerror == '2000' // No AUTORIZADO  Enviar  login\r\n                            )\r\n\r\n                            //router\r\n                                router.push('/pages/login').catch(() => {});\r\n                            else {\r\n                                console.log('INDICADOR', pet.indicador);\r\n                                //console.log('LARGO DE RESPUESTA  acDsoa', response.data.datos);\r\n                                commit('MUTSETRESPUESTAGRID', response.data); //carga variable con los datos\r\n                            }\r\n                        }\r\n\r\n                        //evalua el indicador\r\n                        if (pet.indicador == 2) {\r\n                            // llena un grid\r\n                            if (\r\n                                response.data.codigoerror == '2000' // No AUTORIZADO  Enviar  login\r\n                            )\r\n\r\n                            //router\r\n                                router.push('/pages/login').catch(() => {});\r\n                            else {\r\n                                console.log('INDICADOR', pet.indicador);\r\n                                //console.log('LARGO DE RESPUESTA  acDsoa', response.data.datos);\r\n                                commit('MUTSETRESPUESTAGRID', response.data); //carga variable con los datos\r\n                            }\r\n                        }\r\n\r\n\r\n\r\n                        if (pet.indicador == 8) {\r\n                            //  query de respuesta Unica\r\n                            // console.log(\"Enviando a MUTSETRESPUESTAE\", JSON.stringify(response.data));\r\n                            commit('MUTSETRESPUESTAGENERICO', response.data);\r\n                        }\r\n\r\n                        //MUTSETRESPUESTAGENERICO\r\n                    })\r\n                    .catch(function(error) {\r\n                        alert(\"error1\");\r\n                        commit('MUTPROCESANDOFALSE');\r\n                        if (error.response) {\r\n                            // Request made and server responded\r\n                            console.log(error.response.data);\r\n                            console.log(error.response.status);\r\n                            console.log(error.response.headers);\r\n                        } else if (error.request) {\r\n                            // The request was made but no response was received\r\n                            console.log(error.request);\r\n                        } else {\r\n                            // Something happened in setting up the request that triggered an Error\r\n                            console.log('SE PRODUJO ERROR ' + error);\r\n                        }\r\n                    });\r\n            } catch (error) {\r\n                alert(\"error2\" + error);\r\n                commit('MUTPROCESANDOFALSE');\r\n\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    ///  MULTIMEDIA MULTIMEDIA  MULTIMEDIA MULTIMEDIA  MULTIMEDIA MULTIMEDIA  MULTIMEDIA MULTIMEDIA  MULTIMEDIA MULTIMEDIA\r\n    async CMSacDsoa({ commit, state }, pet) {\r\n        if (pet.Credencial == null) {\r\n            if (pet.Credencial == null) var jsonError = { codigoError: '90', msgError: 'Credencial Nulo CMSacDsoa' };\r\n\r\n\r\n            commit('MUTREGISTRAERROR', jsonError);\r\n        } else {\r\n            commit('MUTSETDATOSDEFAULTCMS', divilib.DataCMS[0]);\r\n\r\n            const url = state.urlDsoaCMS;\r\n            commit('MUTPROCESANDOTRUE');\r\n            try {\r\n                // fetch data from a url web service\r\n\r\n                let CMSres = await axios({\r\n                        method: 'POST',\r\n                        url,\r\n                        headers: {\r\n                            'content-type': 'application/json'\r\n                        },\r\n                        processData: false,\r\n                        contentType: false,\r\n                        mimeType: 'multipart/form-data',\r\n                        sync: false,\r\n                        crossDomain: true,\r\n                        data: pet\r\n                    })\r\n                    .then((response) => {\r\n                        commit('MUTPROCESANDOFALSE');\r\n\r\n                        console.log('LARGO DE RESPUESTA  CMSacDsoa  ', JSON.stringify(response.data).length);\r\n                        // console.log(\"LARGO DE RESPUESTA  CMSacDsoa  \", JSON.stringify(response.data));\r\n\r\n                        let data = response.data.datos;\r\n                        // console.log(\"imagen\", data.RutaDestino)\r\n                        if (!divilib.isObject(data)) data = JSON.parse(response.data.datos);\r\n\r\n                        console.log('imagen', data.RutaDestino);\r\n\r\n                        commit('MUTSETDATA', data);\r\n                    })\r\n                    .catch(function(error) {\r\n                        commit('MUTPROCESANDOFALSE');\r\n                        if (error.response) {\r\n                            // Request made and server responded\r\n                            console.log(error.response.data);\r\n                            console.log(error.response.status);\r\n                            console.log(error.response.headers);\r\n                        } else if (error.request) {\r\n                            // The request was made but no response was received\r\n                            console.log(error.request);\r\n                        } else {\r\n                            // Something happened in setting up the request that triggered an Error\r\n                            console.log('SE PRODUJO ERROR ' + error);\r\n                        }\r\n                    });\r\n            } catch (error) {\r\n                commit('MUTPROCESANDOFALSE');\r\n                console.log(\"ERROR 3\", error)\r\n            }\r\n        }\r\n    },\r\n\r\n    async CMSacDsoaLimpia({ commit, state }, pet) {\r\n        // console.log(\"limpiando la Peticion \", pet)\r\n        commit('MUTSETDATOSDEFAULTCMS', pet);\r\n    }\r\n}"]}]}