{"remainingRequest":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\src\\views\\pages\\login\\LoginDsoa.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\src\\views\\pages\\login\\LoginDsoa.vue","mtime":1604601625403},{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1604601561321},{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\babel-loader\\lib\\index.js","mtime":1604601556483},{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1604601561321},{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\vue-loader\\lib\\index.js","mtime":1604601615297}],"contextDependencies":[],"result":["import \"core-js/modules/es6.date.now\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport * as divilib from \"@/divisoftlibs/utilDivisoftJS.js\";\nimport router from \"@/router\";\nexport default {\n  data: function data() {\n    return {\n      action: \"L\",\n      username: \"\",\n      password: \"\",\n      // en B64  RrQK8n/T0OM=\n      checkbox_remember_me: false,\n      paramtxt: \"\",\n      headertxt: \"\",\n      AlertColor: \"primary\",\n      mensajeLogin: \"\"\n    };\n  },\n  created: function created() {\n    //BUSCA IP\n    this.$store.commit(\"dsoaLogin/MUTSETENCRIPTA\", \"\");\n    this.$store.dispatch(\"dsoaLogin/acLoginGetip\");\n  },\n  watch: {\n    getEncripta: function getEncripta() {\n      if (this.getEncripta.length > 5) this.inicioSesion(this.action, this.getEncripta);\n    },\n    getProfile: function getProfile() {\n      if (this.getProfile.Celular > \"0\") router.push(\"/pages/forgot-password\").catch(function () {});else this.$vs.notify({\n        title: \"GoP informa\",\n        text: \"Usuario No Existe o no Tiene Celular registrado \",\n        iconPack: \"feather\",\n        icon: \"icon-alert-circle\",\n        color: \"warning\"\n      });\n    },\n    // SI HAY PROMPT\n    getErrorLogin: function getErrorLogin() {\n      if (this.getErrorLogin != \"0\") if (this.getErrorLogin == \"1002\") {\n        this.mensajeLogin = \"Hay un proceso de Recuperacion de Clave Iniciado, Debe de Concluirlo \";\n        this.$vs.notify({\n          title: \"GoP informa\",\n          text: \"Hay un proceso de Recuperacion de Clave Iniciado, Debe de Concluirlo \",\n          iconPack: \"feather\",\n          icon: \"icon-alert-circle\",\n          color: \"warning\"\n        });\n      } else {\n        this.$vs.notify({\n          title: \"GoP informa\",\n          text: \"Se ha producido un error en Login \",\n          iconPack: \"feather\",\n          icon: \"icon-alert-circle\",\n          color: \"warning\"\n        });\n      }\n    }\n  },\n  computed: {\n    inputValid: function inputValid() {\n      if (this.getErrorLogin > \"0\") {\n        this.AlertColor = \"danger\";\n        if (this.getErrorLogin == \"1002\") this.mensajeLogin = \"Hay un proceso de Recuperacion de Clave Iniciado, Debe de Concluirlo \";else this.mensajeLogin = \"Error en el Ingreso Credenciales Invalidas\";\n        return true;\n      } else {\n        return false;\n      }\n    },\n    getRuta: function getRuta() {\n      return process.env.VUE_APP_ENCRIPTA;\n    },\n    // recupera el profile\n    getProfile: function getProfile() {\n      return this.$store.state.profile;\n    },\n    // escucha si el login  respondio error\n    getErrorLogin: function getErrorLogin() {\n      return this.$store.state.dsoaLogin.errorProfile;\n    },\n    validateForm: function validateForm() {\n      return !this.errors.any() && this.email !== \"\" && this.password !== \"\";\n    },\n    validateUsername: function validateUsername() {\n      return !this.errors.any() && this.email !== \"\";\n    },\n    getPublicIp: function getPublicIp() {\n      return this.$store.state.dsoaLogin.myPublicIP;\n    },\n    getEncripta: function getEncripta() {\n      return this.$store.state.dsoaLogin.respuestaEncriptado;\n    }\n  },\n  methods: {\n    inicioSesionPrevia: function inicioSesionPrevia(indicadorTipoLogin) {\n      this.action = indicadorTipoLogin;\n      this.$store.dispatch(\"dsoaLogin/acLoginEncripta\", this.password);\n    },\n    onchangeConsiguePass: function onchangeConsiguePass() {//GO_SHOPMARCA\n      // this.$store.dispatch(\"dsoaLogin/acLoginEncripta\", this.password);\n    },\n    // METODO busca clave\n    //función para iniciar sesión\n    inicioSesion: function inicioSesion(indicadorTipoLogin, clave) {\n      var origenUrl = \"O\";\n      var header = {\n        MODO: \"E\",\n        OBJECTID: \"97\",\n        CREDENCIAL: \"REPLACECREDENCIAL\",\n        USERNAME: this.username,\n        REGISTROSXPAGINA: \"\",\n        PAGINA: \"\",\n        ORDERBY: \"\"\n      }; //crea SdtLogin\n\n      var SdtLogin = {\n        action: indicadorTipoLogin,\n        username: this.username,\n        password: clave,\n        direccionIP: this.getPublicIp,\n        conexionADM: \"security\",\n        credencial: \"REPLACECREDENCIAL\",\n        celular: \"\",\n        email: \"\",\n        nombre: \"\",\n        empresa: \"100003\",\n        passwordOld: \"\",\n        keySecurity: \"\"\n      };\n\n      if (clave.length < 5) {\n        this.$vs.notify({\n          title: \"Login\",\n          text: \"Clave no Correcta\",\n          iconPack: \"feather\",\n          icon: \"icon-alert-circle\",\n          color: \"warning\"\n        });\n        return false;\n      }\n\n      var loginR = divilib.GetSdtLoginString(SdtLogin); //crea parametros\n\n      var parametros = [];\n      var parametro1 = {\n        NOMBRE: \"XML_SOLICITUD\",\n        OPERADOR: \"=\",\n        VALOR1: loginR,\n        VALOR2: \"\",\n        CDATA: \"1\"\n      };\n      parametros.push(parametro1); //entrega arreglo de parametros recibe texto de parametros\n\n      this.paramtxt = divilib.paramArraytoStrintg(parametros);\n      this.headertxt = divilib.GetHeaderString(header); //Crea peticion\n\n      var petTxt = {\n        header: this.headertxt,\n        parametros: this.paramtxt,\n        filas: \"\"\n      };\n      this.$store.commit(\"dsoaLogin/MUTSETURL\", \"O\");\n      this.$store.commit(\"dsoaLogin/MUTSETPETICIONTXT\", petTxt); //agregar usuario a la hora\n\n      var horaNumerico = Date.now();\n      console.log(\"The time elapsed in millisecond is: \" + horaNumerico); //Crea pedido\n\n      var pedido = {\n        dml: \"E\",\n        ObjectId: \"97\",\n        credencial: horaNumerico,\n        formatoenvio: \"N\",\n        formatorecibe: \"N\",\n        indicador: \"6\",\n        //LOGIN\n        origenUrl: origenUrl,\n        tipoLogin: indicadorTipoLogin\n      }; //llama action\n\n      this.$store.commit(\"dsoaLogin/MUTSETENCRIPTA\", \"\");\n      this.$store.dispatch(\"dsoaLogin/acLoginDsoa\", pedido);\n    },\n    checkLogin: function checkLogin() {\n      // If user is already logged in notify\n      if (this.$store.state.dsoaLogin.isUserLoggedIn()) {\n        // Close animation if passed as payload\n        // this.$vs.loading.close()\n        this.$vs.notify({\n          title: \"Login Attempt\",\n          text: \"You are already logged in!\",\n          iconPack: \"feather\",\n          icon: \"icon-alert-circle\",\n          color: \"warning\"\n        });\n        return false;\n      }\n\n      return true;\n    },\n    registerUser: function registerUser() {\n      this.$router.push(\"/pages/register\").catch(function () {});\n    }\n  }\n};",{"version":3,"sources":["LoginDsoa.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- =========================================================================================\r\n    File Name: LoginDsoa.vue\r\n    Description: Login Dsoa\r\n    ----------------------------------------------------------------------------------------\r\n========================================================================================== -->\r\n\r\n<template>\r\n  <div >\r\n    \r\n\r\n    <vs-alert :active=\"inputValid\" :color=\"AlertColor\" class=\"text-dark mt-5\">\r\n      {{ mensajeLogin }}\r\n    </vs-alert>\r\n    <br>\r\n\r\n    <vs-input\r\n      v-validate=\"'required|min:1'\"\r\n      data-vv-validate-on=\"blur\"\r\n      name=\"email\"\r\n      icon-no-border\r\n      icon=\"icon icon-user\"\r\n      icon-pack=\"feather\"\r\n      label-placeholder=\"Usuario\"\r\n      v-model=\"username\"\r\n      class=\"w-full\"\r\n    />\r\n    <span class=\"text-danger text-sm\">{{ errors.first(\"email\") }}</span>\r\n    <br />\r\n    <vs-input\r\n      data-vv-validate-on=\"blur\"\r\n      v-validate=\"'required|min:1|max:15'\"\r\n      type=\"password\"\r\n      name=\"password\"\r\n      icon-no-border\r\n      icon=\"icon icon-lock\"\r\n      icon-pack=\"feather\"\r\n      label-placeholder=\"Contraseña\"\r\n      v-model=\"password\"\r\n      class=\"w-full mt-6\"\r\n      v-on:change=\"onchangeConsiguePass\"\r\n    />\r\n    <span class=\"text-danger text-sm\">{{ errors.first(\"password\") }}</span>\r\n\r\n    <div class=\"flex flex-wrap justify-between my-5\">\r\n      <vs-button\r\n        v-show=\"username\"\r\n        :disabled=\"!validateUsername\"\r\n        @click=\"inicioSesion('U')\"\r\n        color=\"rgb(11, 189, 135)\"\r\n        type=\"flat\"\r\n        >Olvidó su Contraseña</vs-button\r\n      >\r\n    </div>\r\n\r\n    <div class=\"flex flex-wrap justify-between mb-3\">\r\n      <vs-button type=\"border\" @click=\"registerUser\">Registrarse</vs-button>\r\n      <vs-button :disabled=\"!validateForm\" @click=\"inicioSesionPrevia('L')\"\r\n        >Ingresar</vs-button\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as divilib from \"@/divisoftlibs/utilDivisoftJS.js\";\r\nimport router from \"@/router\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      action: \"L\",\r\n      username: \"\",\r\n      password: \"\", // en B64  RrQK8n/T0OM=\r\n      checkbox_remember_me: false,\r\n      paramtxt: \"\",\r\n      headertxt: \"\",\r\n      AlertColor: \"primary\",\r\n      mensajeLogin: \"\",\r\n    };\r\n  },\r\n\r\n  created() {\r\n    //BUSCA IP\r\n\r\n    this.$store.commit(\"dsoaLogin/MUTSETENCRIPTA\", \"\");\r\n    this.$store.dispatch(\"dsoaLogin/acLoginGetip\");\r\n  },\r\n\r\n  watch: {\r\n    getEncripta: function () {\r\n      if (this.getEncripta.length > 5)\r\n        this.inicioSesion(this.action, this.getEncripta);\r\n    },\r\n\r\n    getProfile: function () {\r\n      if (this.getProfile.Celular > \"0\")\r\n        router.push(\"/pages/forgot-password\").catch(() => {});\r\n      else\r\n        this.$vs.notify({\r\n          title: \"GoP informa\",\r\n\r\n          text: \"Usuario No Existe o no Tiene Celular registrado \",\r\n          iconPack: \"feather\",\r\n          icon: \"icon-alert-circle\",\r\n          color: \"warning\",\r\n        });\r\n    },\r\n\r\n    // SI HAY PROMPT\r\n    getErrorLogin: function () {\r\n      if (this.getErrorLogin != \"0\")\r\n        if (this.getErrorLogin == \"1002\") {\r\n          this.mensajeLogin =\r\n            \"Hay un proceso de Recuperacion de Clave Iniciado, Debe de Concluirlo \";\r\n\r\n          this.$vs.notify({\r\n            title: \"GoP informa\",\r\n            text:\r\n              \"Hay un proceso de Recuperacion de Clave Iniciado, Debe de Concluirlo \",\r\n            iconPack: \"feather\",\r\n            icon: \"icon-alert-circle\",\r\n            color: \"warning\",\r\n          });\r\n        } else {\r\n          this.$vs.notify({\r\n            title: \"GoP informa\",\r\n\r\n            text: \"Se ha producido un error en Login \",\r\n            iconPack: \"feather\",\r\n            icon: \"icon-alert-circle\",\r\n            color: \"warning\",\r\n          });\r\n        }\r\n    },\r\n  },\r\n  computed: {\r\n    inputValid() {\r\n      if (this.getErrorLogin > \"0\") {\r\n        this.AlertColor = \"danger\";\r\n\r\n        if (this.getErrorLogin == \"1002\")\r\n          this.mensajeLogin =\r\n            \"Hay un proceso de Recuperacion de Clave Iniciado, Debe de Concluirlo \";\r\n        else this.mensajeLogin = \"Error en el Ingreso Credenciales Invalidas\";\r\n\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    getRuta() {\r\n      return process.env.VUE_APP_ENCRIPTA;\r\n    },\r\n    // recupera el profile\r\n    getProfile() {\r\n      return this.$store.state.profile;\r\n    },\r\n    // escucha si el login  respondio error\r\n    getErrorLogin() {\r\n      return this.$store.state.dsoaLogin.errorProfile;\r\n    },\r\n\r\n    validateForm() {\r\n      return !this.errors.any() && this.email !== \"\" && this.password !== \"\";\r\n    },\r\n    validateUsername() {\r\n      return !this.errors.any() && this.email !== \"\";\r\n    },\r\n    getPublicIp() {\r\n      return this.$store.state.dsoaLogin.myPublicIP;\r\n    },\r\n    getEncripta() {\r\n      return this.$store.state.dsoaLogin.respuestaEncriptado;\r\n    },\r\n  },\r\n  methods: {\r\n    inicioSesionPrevia: function (indicadorTipoLogin) {\r\n      this.action = indicadorTipoLogin;\r\n      this.$store.dispatch(\"dsoaLogin/acLoginEncripta\", this.password);\r\n    },\r\n    onchangeConsiguePass() {\r\n      //GO_SHOPMARCA\r\n      // this.$store.dispatch(\"dsoaLogin/acLoginEncripta\", this.password);\r\n    }, // METODO busca clave\r\n\r\n    //función para iniciar sesión\r\n    inicioSesion: function (indicadorTipoLogin, clave) {\r\n      var origenUrl = \"O\";\r\n\r\n      var header = {\r\n        MODO: \"E\",\r\n        OBJECTID: \"97\",\r\n        CREDENCIAL: \"REPLACECREDENCIAL\",\r\n        USERNAME: this.username,\r\n        REGISTROSXPAGINA: \"\",\r\n        PAGINA: \"\",\r\n        ORDERBY: \"\",\r\n      };\r\n\r\n      //crea SdtLogin\r\n      var SdtLogin = {\r\n        action: indicadorTipoLogin,\r\n        username: this.username,\r\n        password: clave,\r\n        direccionIP: this.getPublicIp,\r\n        conexionADM: \"security\",\r\n        credencial: \"REPLACECREDENCIAL\",\r\n        celular: \"\",\r\n        email: \"\",\r\n        nombre: \"\",\r\n        empresa: \"100003\",\r\n        passwordOld: \"\",\r\n        keySecurity: \"\",\r\n      };\r\n      if (clave.length < 5) {\r\n        this.$vs.notify({\r\n          title: \"Login\",\r\n          text: \"Clave no Correcta\",\r\n          iconPack: \"feather\",\r\n          icon: \"icon-alert-circle\",\r\n          color: \"warning\",\r\n        });\r\n\r\n        return false;\r\n      }\r\n\r\n      var loginR = divilib.GetSdtLoginString(SdtLogin);\r\n\r\n      //crea parametros\r\n      var parametros = [];\r\n      var parametro1 = {\r\n        NOMBRE: \"XML_SOLICITUD\",\r\n        OPERADOR: \"=\",\r\n        VALOR1: loginR,\r\n        VALOR2: \"\",\r\n        CDATA: \"1\",\r\n      };\r\n      parametros.push(parametro1);\r\n\r\n      //entrega arreglo de parametros recibe texto de parametros\r\n      this.paramtxt = divilib.paramArraytoStrintg(parametros);\r\n      this.headertxt = divilib.GetHeaderString(header);\r\n\r\n      //Crea peticion\r\n      var petTxt = {\r\n        header: this.headertxt,\r\n        parametros: this.paramtxt,\r\n        filas: \"\",\r\n      };\r\n\r\n      this.$store.commit(\"dsoaLogin/MUTSETURL\", \"O\");\r\n      this.$store.commit(\"dsoaLogin/MUTSETPETICIONTXT\", petTxt);\r\n\r\n      //agregar usuario a la hora\r\n      var horaNumerico = Date.now();\r\n      console.log(\"The time elapsed in millisecond is: \" + horaNumerico);\r\n\r\n      //Crea pedido\r\n      var pedido = {\r\n        dml: \"E\",\r\n        ObjectId: \"97\",\r\n        credencial: horaNumerico,\r\n        formatoenvio: \"N\",\r\n        formatorecibe: \"N\",\r\n        indicador: \"6\", //LOGIN\r\n        origenUrl: origenUrl,\r\n        tipoLogin: indicadorTipoLogin,\r\n      };\r\n      //llama action\r\n\r\n      this.$store.commit(\"dsoaLogin/MUTSETENCRIPTA\", \"\");\r\n      this.$store.dispatch(\"dsoaLogin/acLoginDsoa\", pedido);\r\n    },\r\n\r\n    checkLogin() {\r\n      // If user is already logged in notify\r\n      if (this.$store.state.dsoaLogin.isUserLoggedIn()) {\r\n        // Close animation if passed as payload\r\n        // this.$vs.loading.close()\r\n\r\n        this.$vs.notify({\r\n          title: \"Login Attempt\",\r\n          text: \"You are already logged in!\",\r\n          iconPack: \"feather\",\r\n          icon: \"icon-alert-circle\",\r\n          color: \"warning\",\r\n        });\r\n\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n\r\n    registerUser() {\r\n      this.$router.push(\"/pages/register\").catch(() => {});\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.disabled {\r\n  pointer-events: none;\r\n  opacity: 0.6;\r\n}\r\n\r\n</style>\r\n"],"sourceRoot":"src/views/pages/login"}]}