{"remainingRequest":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\src\\divisoft\\storeProcDivisoft.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\src\\divisoft\\storeProcDivisoft.vue","mtime":1604601624761},{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1604601561321},{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\babel-loader\\lib\\index.js","mtime":1604601556483},{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1604601561321},{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\vue-loader\\lib\\index.js","mtime":1604601615297}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\nimport _defineProperty from \"C:\\\\Users\\\\Renan Galvan\\\\Desktop\\\\sincronizados_git\\\\tavo_nov_2020\\\\tavo\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport VuePerfectScrollbar from 'vue-perfect-scrollbar';\nimport * as divilib from '@/divisoftlibs/utilDivisoftJS.js';\nimport 'vue-form-wizard/dist/vue-form-wizard.min.css';\nimport { eventBus } from '@/main'; // para que se hablen los componentes\n\nexport default {\n  components: _defineProperty({\n    VuePerfectScrollbar: VuePerfectScrollbar\n  }, \"VuePerfectScrollbar\", VuePerfectScrollbar),\n  watch: {\n    // SI HAY PROMPT\n    getRespuestaProcedimiento: function getRespuestaProcedimiento() {\n      var respuestaProc = '';\n      var txtdefault = []; //console.log(\"watch getRespuestaProcedimiento\",this.getRespuestaProcedimiento);\n\n      if (this.getRespuestaProcedimiento == 'ERROR') {\n        this.$vs.notify({\n          title: 'Informe de Procedimiento Almacenado',\n          time: 6000,\n          text: 'No se Ejecuto el proceso ID ' + this.camposProce.ObjectId + '  ' + this.getRespuestaProceERROR,\n          color: 'warning'\n        });\n      }\n\n      if (this.getRespuestaProcedimiento.length > 4) {\n        respuestaProc = '';\n\n        if (this.camposProce.tipoRespuestaProc == 'J') {\n          respuestaProc = divilib.xmlToJson(this.getRespuestaProcedimiento, 'GN_ERROR');\n          this.$store.commit('MUTSETOBJETOJSONPROC', respuestaProc);\n        } else {\n          respuestaProc = this.getRespuestaProcedimiento;\n          this.$store.commit('MUTSETOBJETOJSONPROC', txtdefault);\n        } //PONE EN STORE LA RESPUESTA DEL PROCEDIMIENTO\n\n\n        eventBus.$emit('datosProcedure', respuestaProc, this.camposProce.ObjectId);\n      }\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    //\t cuando se createReadStream\n    eventBus.$on('cargaStoreProcedure', function (CamposProce) {\n      // LIMPIA VARIABLES\n      _this.popupActive = true;\n      _this.camposProce = CamposProce;\n\n      if (_this.camposProce.Username == null) {\n        _this.$vs.notify({\n          title: 'Informe de Procedimiento Almacenado',\n          time: 6000,\n          text: 'Usuario No esta Identificado',\n          color: 'warning'\n        });\n\n        _this.$emit('closeSidebar');\n      }\n\n      if (_this.camposProce.Credencial == null) {\n        _this.$vs.notify({\n          title: 'Informe de Procedimiento Almacenado',\n          time: 6000,\n          text: 'No tiene Autorizacion de Ejecucion o Credencial No presente ',\n          color: 'warning'\n        });\n\n        _this.$emit('closeSidebar');\n\n        reurn;\n      }\n\n      if (_this.camposProce.ObjectId == null) {\n        _this.$vs.notify({\n          title: 'Informe de Procedimiento Almacenado',\n          time: 6000,\n          text: 'Procedimiento o Funcion no esta Identificado',\n          color: 'warning'\n        });\n      }\n\n      _this.respuestaProc = [];\n\n      _this.$store.commit('MUTSETOBJETOJSONPROC', _this.respuestaProc);\n\n      _this.$store.commit('MUTSETRESPUESTAProc', '');\n\n      if (_this.camposProce.interfase == 'I') {\n        // INTERNO  SE EJECUTA Y REGRESA\n        _this.popupActive = false;\n\n        _this.formSubmitted();\n      }\n    });\n  },\n  reDestroy: function reDestroy() {\n    //Crea un bus  OYENTE\n    // SI HAY PROMPT\n    eventBus.$off(\"cargaStoreProcedure\");\n  },\n  data: function data() {\n    return {\n      tipoRespuestaProc: 'J',\n      popupActive: false,\n      respuestaProc: [],\n      camposProce: {\n        Credencial: '123',\n        ObjectId: '123',\n        Username: '',\n        camposProce: [{\n          NOMBRE_CAMPO: 'Cod Compania',\n          NOMBRE_INTERNO: 'COD_COMPANIA',\n          VALOR: ''\n        }]\n      },\n      datosaqui: true,\n      parametros: [],\n      paramtxt: ''\n    };\n  },\n  computed: {\n    getProfile: function getProfile() {\n      return this.$store.state.dsoaLogin.profile[0];\n    },\n    isSidebarActiveLocal: {\n      get: function get() {\n        return this.isSidebarActive;\n      },\n      set: function set(val) {\n        if (!val) {\n          this.$emit('closeSidebar'); //this.initValues();\n        }\n      }\n    },\n    getRespuestaProcedimiento: function getRespuestaProcedimiento() {\n      return this.$store.state.procRESPUESTAXML;\n    },\n    getRespuestaProceERROR: {\n      get: function get() {\n        return this.$store.state.lastBdmsage;\n      }\n    }\n  },\n  // fin de computados\n  methods: {\n    //TRAE DATOS PARA MOSTRAR EN TABLA\n    formSubmitted: function formSubmitted() {\n      this.respuestaProc = [];\n      this.$store.commit('MUTSETOBJETOJSONPROC', this.respuestaProc);\n      this.$store.commit('MUTSETRESPUESTAProc', '');\n\n      if (this.camposProce.Username == null) {\n        this.$vs.notify({\n          title: 'Informe de Procedimiento Almacenado',\n          time: 6000,\n          text: 'Usuario No esta Identificado',\n          color: 'warning'\n        });\n        this.$emit('closeSidebar');\n        reurn;\n      }\n\n      if (this.camposProce.Credencial == null) {\n        this.$vs.notify({\n          title: 'Informe de Procedimiento Almacenado',\n          time: 6000,\n          text: 'No tiene Autorizacion de Ejecucion o Credencial No presente ',\n          color: 'warning'\n        });\n        this.$emit('closeSidebar');\n        reurn;\n      }\n\n      if (this.camposProce.ObjectId == null) {\n        this.$vs.notify({\n          title: 'Informe de Procedimiento Almacenado',\n          time: 6000,\n          text: 'Procedimiento o Funcion no esta Identificado',\n          color: 'warning'\n        });\n        this.$emit('closeSidebar');\n      } else {\n        var origenUrl = 'O';\n        var header = {\n          MODO: this.camposProce.DML,\n          OBJECTID: this.camposProce.ObjectId,\n          CREDENCIAL: this.getProfile.Credencial,\n          USERNAME: this.getProfile.Username,\n          REGISTROSXPAGINA: '0',\n          PAGINA: '0',\n          ORDERBY: ''\n        };\n        this.headertxt = divilib.GetHeaderString(header); //agrego los parametros\n\n        var parametros = [];\n        var parametro1 = {\n          NOMBRE: '',\n          OPERADOR: '=',\n          VALOR1: '',\n          VALOR2: '',\n          CDATA: '0'\n        };\n        var xmlParametros = '';\n        var contador = 0;\n        this.camposProce.camposProce.forEach(function callback(item) {\n          // alert(item.TIPO+\"  y \"+item.VALOR);\n          if (item.TIPO == 2 || item.TIPO == 3) {\n            if (item.VALOR != null) {\n              parametro1 = {\n                NOMBRE: item.NOMBRE_INTERNO,\n                OPERADOR: item.OPERADOR,\n                VALOR1: item.VALOR,\n                VALOR2: '',\n                CDATA: '0'\n              };\n              parametros.push(parametro1);\n              contador++;\n            } else {\n              parametro1 = {\n                NOMBRE: item.NOMBRE_INTERNO,\n                OPERADOR: item.OPERADOR,\n                VALOR1: '',\n                VALOR2: '',\n                CDATA: '0'\n              };\n              parametros.push(parametro1);\n              contador++;\n            }\n          } else {\n            if (item.VALOR.length > 0) {\n              parametro1 = {\n                NOMBRE: item.NOMBRE_INTERNO,\n                OPERADOR: item.OPERADOR,\n                VALOR1: item.VALOR,\n                VALOR2: '',\n                CDATA: '0'\n              };\n              parametros.push(parametro1);\n              contador++;\n            } else {\n              parametro1 = {\n                NOMBRE: item.NOMBRE_INTERNO,\n                OPERADOR: item.OPERADOR,\n                VALOR1: '',\n                VALOR2: '',\n                CDATA: '0'\n              };\n              parametros.push(parametro1);\n              contador++;\n            }\n          } // tu iterador\n\n        }); //entrega arreglo de parametros recibe texto de parametros\n\n        this.paramtxt = divilib.paramArraytoStrintg(parametros); // de add parametros\n\n        this.$store.commit('MUTSETURL', 'O');\n        this.filastxt = ''; // carga los parametros\n\n        var petTxt = {\n          header: this.headertxt,\n          parametros: this.paramtxt,\n          filas: this.filastxt\n        };\n        this.$store.commit('MUTSETURL', 'O');\n        this.$store.commit('MUTSETPETICIONTXT', petTxt);\n        var pedido = {\n          dml: 'E',\n          Credencial: this.camposProce.Credencial,\n          ObjectId: this.camposProce.ObjectId,\n          formatoenvio: 'N',\n          formatorecibe: 'N',\n          indicador: '7',\n          //EXECUTE\n          origenUrl: origenUrl\n        };\n      } //cambia a acDsoaPrueba\n\n\n      this.$store.dispatch('acDsoa', pedido);\n      this.$emit('closeSidebar');\n    } // fin de ejecutaProcedimiento\n\n  } // fin de  methods\n\n};",{"version":3,"sources":["storeProcDivisoft.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\r\n\r\n<vs-popup fullscreen title=\"Ejecuta Procedimientos Almacenados\" :active.sync=\"popupActive\">\r\n    <vx-card code-toggler>\r\n        <div>\r\n            <h1>{{camposProce.Titulo}}</h1>\r\n        </div>\r\n        <!-- TITULO DEL ENCABEZADO -->\r\n        <div class=\"mt-6 flex items-center justify-between px-6\">\r\n            <div class=\"vx-col w-1/2\">\r\n                <button type=\"submit\" class=\"btn btn-primary\" @click=\"formSubmitted\">Ejecutar</button>\r\n            </div>\r\n            <div class=\"vx-col w-1/2\">\r\n                <vs-button @click=\"popupActive=false\" color=\"primary\">Regresar</vs-button>\r\n            </div>\r\n\r\n        </div>\r\n        <vs-divider class=\"mb-0\"></vs-divider>\r\n        <VuePerfectScrollbar class=\"scroll-area--data-list-add-new pt-4 pb-6\">\r\n            <vx-input-group class=\"mb-base\">\r\n                <div class=\"vx-row\">\r\n                    <div class=\"vx-row\">\r\n\r\n                        <div class=\"vx-col w-1/2\" :key=\"indextr\" v-for=\"(item, indextr) in camposProce.camposProce\">\r\n\r\n                            <vs-input v-if=\"item.TIPO==1\" size=\"large\" v-validate=\"'required'\" placeholder=\"Ingrese el valor\" :label=\"item.NOMBRE_CAMPO\" v-model=\"item.VALOR\" class=\"mt-5 w-full\" />\r\n\r\n                            <vs-input v-if=\"item.TIPO==2\" size=\"large\" v-validate=\"'numeric'\" placeholder=\"Ingrese el valor\" :label=\"item.NOMBRE_CAMPO\" v-model=\"item.VALOR\" class=\"mt-5 w-full\" />\r\n\r\n                            <vs-input v-if=\"item.TIPO==3\" size=\"large\" placeholder=\"Ingrese el valor\" :label=\"item.NOMBRE_CAMPO\" v-model=\"item.VALOR\" class=\"mt-5 w-full\" />\r\n\r\n                            <template>\r\n\r\n                                <flat-pickr v-if=\"item.TIPO==4\" :config=\"configdateTimePicker\" v-model=\"item.VALOR\" :placeholder=\"item.NOMBRE_CAMPO\" />\r\n                            </template>\r\n\r\n                            <vs-input v-if=\"item.TIPO==5\" size=\"large\" name=\"item.NOMBRE_INTERNO\" placeholder=\"item.NOMBRE_CAMPO\" v-model=\"item.VALOR\" class=\"mt-5 w-full\" />\r\n\r\n                            <ul class=\"centerx\" v-if=\"item.TIPO==6\">\r\n                                <li :keyVal=\"index\" v-for=\"(itemVal, index) in item.VALORES\">\r\n                                    <vs-radio v-model=\"item.VALOR\" :vs-value=\"itemVal.value\">{{itemVal.text}}</vs-radio>\r\n                                </li>\r\n                            </ul>\r\n\r\n                            <vs-select v-if=\"item.TIPO==7   ||item.TIPO==8\" v-model=\"item.VALOR\" class=\"w-full select-large\">\r\n                                <vs-select-item :key=\"index2\" :value=\"itemVal.value\" :text=\"itemVal.text\" v-for=\"(itemVal,index2)\r\n                        in item.VALORES\" class=\"w-full\" />\r\n                            </vs-select>\r\n\r\n                            <vs-input v-if=\"item.TIPO==12\" size=\"large\" v-validate=\"'email'\" v-model=\"item.VALOR\" placeholder=\"item.NOMBRE_CAMPO\" name=\"item.NOMBRE_INTERNO\" class=\"mt-5 w-full\" />\r\n\r\n                            <template>\r\n                                <div v-if=\"item.TIPO==44\" class=\"centerx\">\r\n                                    <vs-input-number v-model=\"item.VALOR\" />\r\n                                </div>\r\n                            </template>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <button type=\"submit\" class=\"btn btn-primary\" @click=\"formSubmitted\">Ejecutar</button>\r\n\r\n            </vx-input-group>\r\n        </VuePerfectScrollbar>\r\n    </vx-card>\r\n</vs-popup>\r\n</template>\r\n \r\n<script>\r\nimport VuePerfectScrollbar from 'vue-perfect-scrollbar';\r\nimport * as divilib from '@/divisoftlibs/utilDivisoftJS.js'; \r\nimport 'vue-form-wizard/dist/vue-form-wizard.min.css';\r\n\r\nimport {\r\n    eventBus\r\n} from '@/main'; // para que se hablen los componentes\r\n\r\nexport default {\r\n    components: {\r\n        VuePerfectScrollbar,\r\n        VuePerfectScrollbar\r\n    },\r\n    watch: {\r\n        // SI HAY PROMPT\r\n        getRespuestaProcedimiento: function () {\r\n            let respuestaProc = '';\r\n            let txtdefault = [];\r\n            //console.log(\"watch getRespuestaProcedimiento\",this.getRespuestaProcedimiento);\r\n            if (this.getRespuestaProcedimiento == 'ERROR') {\r\n                this.$vs.notify({\r\n                    title: 'Informe de Procedimiento Almacenado',\r\n                    time: 6000,\r\n                    text: 'No se Ejecuto el proceso ID ' + this.camposProce.ObjectId + '  ' + this.getRespuestaProceERROR,\r\n                    color: 'warning'\r\n                });\r\n            }\r\n\r\n            if (this.getRespuestaProcedimiento.length > 4) {\r\n                respuestaProc = '';\r\n\r\n                if (this.camposProce.tipoRespuestaProc == 'J') {\r\n                    respuestaProc = divilib.xmlToJson(this.getRespuestaProcedimiento, 'GN_ERROR');\r\n                    this.$store.commit('MUTSETOBJETOJSONPROC', respuestaProc);\r\n                } else {\r\n                    respuestaProc = this.getRespuestaProcedimiento;\r\n                    this.$store.commit('MUTSETOBJETOJSONPROC', txtdefault);\r\n                }\r\n\r\n                //PONE EN STORE LA RESPUESTA DEL PROCEDIMIENTO\r\n\r\n                eventBus.$emit('datosProcedure', respuestaProc, this.camposProce.ObjectId);\r\n            }\r\n        }\r\n    },\r\n\r\n    created() {\r\n        //\t cuando se createReadStream\r\n        eventBus.$on('cargaStoreProcedure', CamposProce => {\r\n            // LIMPIA VARIABLES\r\n            this.popupActive = true;\r\n            this.camposProce = CamposProce;\r\n\r\n            if (this.camposProce.Username == null) {\r\n                this.$vs.notify({\r\n                    title: 'Informe de Procedimiento Almacenado',\r\n                    time: 6000,\r\n                    text: 'Usuario No esta Identificado',\r\n                    color: 'warning'\r\n                });\r\n                this.$emit('closeSidebar');\r\n            }\r\n            if (this.camposProce.Credencial == null) {\r\n                this.$vs.notify({\r\n                    title: 'Informe de Procedimiento Almacenado',\r\n                    time: 6000,\r\n                    text: 'No tiene Autorizacion de Ejecucion o Credencial No presente ',\r\n                    color: 'warning'\r\n                });\r\n                this.$emit('closeSidebar');\r\n                reurn;\r\n            }\r\n            if (this.camposProce.ObjectId == null) {\r\n                this.$vs.notify({\r\n                    title: 'Informe de Procedimiento Almacenado',\r\n                    time: 6000,\r\n                    text: 'Procedimiento o Funcion no esta Identificado',\r\n                    color: 'warning'\r\n                });\r\n            }\r\n            this.respuestaProc = [];\r\n\r\n            this.$store.commit('MUTSETOBJETOJSONPROC', this.respuestaProc);\r\n            this.$store.commit('MUTSETRESPUESTAProc', '');\r\n            if (this.camposProce.interfase == 'I') {\r\n                // INTERNO  SE EJECUTA Y REGRESA\r\n                this.popupActive = false;\r\n                this.formSubmitted();\r\n            }\r\n        });\r\n    },\r\n    reDestroy: function() {\r\n    //Crea un bus  OYENTE\r\n    // SI HAY PROMPT\r\n    eventBus.$off(\"cargaStoreProcedure\");   \r\n  },\r\n    data() {\r\n        return {\r\n            tipoRespuestaProc: 'J',\r\n            popupActive: false,\r\n            respuestaProc: [],\r\n\r\n            camposProce: {\r\n                Credencial: '123',\r\n                ObjectId: '123',\r\n                Username: '',\r\n                camposProce: [{\r\n                    NOMBRE_CAMPO: 'Cod Compania',\r\n                    NOMBRE_INTERNO: 'COD_COMPANIA',\r\n                    VALOR: ''\r\n                }]\r\n            },\r\n\r\n            datosaqui: true,\r\n            parametros: [],\r\n            paramtxt: ''\r\n        };\r\n    },\r\n    computed: {\r\n        getProfile() {\r\n      return this.$store.state.dsoaLogin.profile[0];\r\n    },\r\n        isSidebarActiveLocal: {\r\n            get() {\r\n                return this.isSidebarActive;\r\n            },\r\n            set(val) {\r\n                if (!val) {\r\n                    this.$emit('closeSidebar');\r\n                    //this.initValues();\r\n                }\r\n            }\r\n        },\r\n        getRespuestaProcedimiento() {\r\n            return this.$store.state.procRESPUESTAXML;\r\n        },\r\n        getRespuestaProceERROR: {\r\n            get() {\r\n                return this.$store.state.lastBdmsage;\r\n            }\r\n        }\r\n    }, // fin de computados\r\n    methods: {\r\n        //TRAE DATOS PARA MOSTRAR EN TABLA\r\n        formSubmitted: function () {\r\n            this.respuestaProc = [];\r\n            this.$store.commit('MUTSETOBJETOJSONPROC', this.respuestaProc);\r\n            this.$store.commit('MUTSETRESPUESTAProc', '');\r\n            if (this.camposProce.Username == null) {\r\n                this.$vs.notify({\r\n                    title: 'Informe de Procedimiento Almacenado',\r\n                    time: 6000,\r\n                    text: 'Usuario No esta Identificado',\r\n                    color: 'warning'\r\n                });\r\n                this.$emit('closeSidebar');\r\n                reurn;\r\n            }\r\n            if (this.camposProce.Credencial == null) {\r\n                this.$vs.notify({\r\n                    title: 'Informe de Procedimiento Almacenado',\r\n                    time: 6000,\r\n                    text: 'No tiene Autorizacion de Ejecucion o Credencial No presente ',\r\n                    color: 'warning'\r\n                });\r\n                this.$emit('closeSidebar');\r\n                reurn;\r\n            }\r\n            if (this.camposProce.ObjectId == null) {\r\n                this.$vs.notify({\r\n                    title: 'Informe de Procedimiento Almacenado',\r\n                    time: 6000,\r\n                    text: 'Procedimiento o Funcion no esta Identificado',\r\n                    color: 'warning'\r\n                });\r\n                this.$emit('closeSidebar');\r\n            } else {\r\n                var origenUrl = 'O';\r\n                var header = {\r\n                    MODO: this.camposProce.DML,\r\n                    OBJECTID: this.camposProce.ObjectId,\r\n                    CREDENCIAL:this.getProfile.Credencial,\r\n                    USERNAME:  this.getProfile.Username,\r\n                    REGISTROSXPAGINA: '0',\r\n                    PAGINA: '0',\r\n                    ORDERBY: ''\r\n                };\r\n                this.headertxt = divilib.GetHeaderString(header);\r\n                //agrego los parametros\r\n                var parametros = [];\r\n                var parametro1 = {\r\n                    NOMBRE: '',\r\n                    OPERADOR: '=',\r\n                    VALOR1: '',\r\n                    VALOR2: '',\r\n                    CDATA: '0'\r\n                };\r\n                var xmlParametros = '';\r\n                var contador = 0;\r\n\r\n                this.camposProce.camposProce.forEach(function callback(item) {\r\n                 // alert(item.TIPO+\"  y \"+item.VALOR);\r\n                    if (item.TIPO == 2 || item.TIPO == 3) {\r\n                        if (item.VALOR != null) {\r\n                            parametro1 = {\r\n                                NOMBRE: item.NOMBRE_INTERNO,\r\n                                OPERADOR: item.OPERADOR,\r\n                                VALOR1: item.VALOR,\r\n                                VALOR2: '',\r\n                                CDATA: '0'\r\n                            };\r\n                            parametros.push(parametro1);\r\n                            contador++;\r\n                        } else {\r\n                            parametro1 = {\r\n                                NOMBRE: item.NOMBRE_INTERNO,\r\n                                OPERADOR: item.OPERADOR,\r\n                                VALOR1: '',\r\n                                VALOR2: '',\r\n                                CDATA: '0'\r\n                            };\r\n                            parametros.push(parametro1);\r\n                            contador++;\r\n                        }\r\n                    } else {\r\n                        if (item.VALOR.length > 0) {\r\n                            parametro1 = {\r\n                                NOMBRE: item.NOMBRE_INTERNO,\r\n                                OPERADOR: item.OPERADOR,\r\n                                VALOR1: item.VALOR,\r\n                                VALOR2: '',\r\n                                CDATA: '0'\r\n                            };\r\n                            parametros.push(parametro1);\r\n                            contador++;\r\n                        } else {\r\n                            parametro1 = {\r\n                                NOMBRE: item.NOMBRE_INTERNO,\r\n                                OPERADOR: item.OPERADOR,\r\n                                VALOR1: '',\r\n                                VALOR2: '',\r\n                                CDATA: '0'\r\n                            };\r\n                            parametros.push(parametro1);\r\n                            contador++;\r\n                        }\r\n                    }\r\n\r\n                    // tu iterador\r\n                });\r\n                //entrega arreglo de parametros recibe texto de parametros\r\n                this.paramtxt = divilib.paramArraytoStrintg(parametros);\r\n                // de add parametros\r\n                this.$store.commit('MUTSETURL', 'O');\r\n\r\n                this.filastxt = '';\r\n                // carga los parametros\r\n                var petTxt = {\r\n                    header: this.headertxt,\r\n                    parametros: this.paramtxt,\r\n                    filas: this.filastxt\r\n                };\r\n\r\n                this.$store.commit('MUTSETURL', 'O');\r\n                this.$store.commit('MUTSETPETICIONTXT', petTxt);\r\n\r\n                var pedido = {\r\n                    dml: 'E',\r\n                    Credencial: this.camposProce.Credencial,\r\n                    ObjectId: this.camposProce.ObjectId,\r\n                    formatoenvio: 'N',\r\n                    formatorecibe: 'N',\r\n                    indicador: '7', //EXECUTE\r\n                    origenUrl: origenUrl\r\n                };\r\n            }\r\n            //cambia a acDsoaPrueba\r\n            this.$store.dispatch('acDsoa', pedido);\r\n            this.$emit('closeSidebar');\r\n        } // fin de ejecutaProcedimiento\r\n    } // fin de  methods\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.add-new-data-sidebar {\r\n    /deep/ .vs-sidebar--background {\r\n        z-index: 52010;\r\n    }\r\n\r\n    /deep/ .vs-sidebar {\r\n        z-index: 52010;\r\n        width: 80%;\r\n        max-width: 90vw;\r\n    }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/divisoft"}]}