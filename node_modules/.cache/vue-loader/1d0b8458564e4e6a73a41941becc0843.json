{"remainingRequest":"C:\\Users\\Usuario\\Documents\\VUE\\vuesax_marzo_2020\\vuexy-full-version\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Usuario\\Documents\\VUE\\vuesax_marzo_2020\\vuexy-full-version\\src\\divisoft\\storeProcDivisoft.vue?vue&type=style&index=0&id=17c3d505&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\Usuario\\Documents\\VUE\\vuesax_marzo_2020\\vuexy-full-version\\src\\divisoft\\storeProcDivisoft.vue","mtime":1586883402552},{"path":"C:\\Users\\Usuario\\Documents\\VUE\\vuesax_marzo_2020\\vuexy-full-version\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\Usuario\\Documents\\VUE\\vuesax_marzo_2020\\vuexy-full-version\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Usuario\\Documents\\VUE\\vuesax_marzo_2020\\vuexy-full-version\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Usuario\\Documents\\VUE\\vuesax_marzo_2020\\vuexy-full-version\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Usuario\\Documents\\VUE\\vuesax_marzo_2020\\vuexy-full-version\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Usuario\\Documents\\VUE\\vuesax_marzo_2020\\vuexy-full-version\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.add-new-data-sidebar {\n  /deep/ .vs-sidebar--background {\n    z-index: 52010;\n  }\n\n  /deep/ .vs-sidebar {\n    z-index: 52010;\n    width: 80%;\n    max-width: 90vw;\n     \n    }\n  } \n \n",{"version":3,"sources":["storeProcDivisoft.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+SA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA","file":"storeProcDivisoft.vue","sourceRoot":"src/divisoft","sourcesContent":[" \n<template>\n   <vs-popup fullscreen  title=\"Ejecuta Procedimientos Almacenados\" :active.sync=\"popupActive\">\n  <vx-card  code-toggler>\n    <div><h1>{{camposProce.Titulo}}</h1></div>\n    <!-- TITULO DEL ENCABEZADO -->\n    <div class=\"mt-6 flex items-center justify-between px-6\">\n      <div class=\"vx-col w-1/2\" >  \n          <button type=\"submit\" class=\"btn btn-primary\" @click=\"formSubmitted\">Ejecutar</button>\n      </div>   \n      <div class=\"vx-col w-1/2\" > \n         <vs-button @click=\"popupActive=false\" color=\"primary\">Regresar</vs-button>  \n     </div> \n      \n    </div> \n    <vs-divider class=\"mb-0\"></vs-divider> \n    <VuePerfectScrollbar class=\"scroll-area--data-list-add-new pt-4 pb-6\"> \n        <vx-input-group class=\"mb-base\">\n            <div class=\"vx-row\"> \n              <div class=\"vx-row\"> \n        \n          <div class=\"vx-col w-1/2\"  :key=\"indextr\" v-for=\"(item, indextr) in camposProce.camposProce\"> \n              <vs-input  v-if=\"item.TIPO==1\"  size=\"large\" v-validate=\"'required'\"   placeholder=\"Ingrese el valor\" :label=\"item.NOMBRE_CAMPO\"   v-model=\"item.VALOR\" class=\"mt-5 w-full\" />\n   \n             <vs-input v-if=\"item.TIPO==2\" size=\"large\" v-validate=\"'numeric'\"   placeholder=\"Ingrese el valor\" :label=\"item.NOMBRE_CAMPO\"   v-model=\"item.VALOR\" class=\"mt-5 w-full\" />\n \n         \n                 <vs-input v-if=\"item.TIPO==3\" size=\"large\" v-validate=\"{regex: '^([0-9]+)$' }\"   placeholder=\"Ingrese el valor\" :label=\"item.NOMBRE_CAMPO\"   v-model=\"item.VALOR\" class=\"mt-5 w-full\" />\n   \n               \n                <template>\n                   \n                  <flat-pickr  v-if=\"item.TIPO==4\"\n                    :config=\"configdateTimePicker\"\n                    v-model=\"item.VALOR\"\n                    :placeholder=\"item.NOMBRE_CAMPO\" /> \n                  </template>\n                    \n            \n        <vs-input v-if=\"item.TIPO==5\" size=\"large\"   \n              name=\"item.NOMBRE_INTERNO\"\n              placeholder=\"item.NOMBRE_CAMPO\"\n              v-model=\"item.VALOR\"\n              class=\"mt-5 w-full\" />  \n               \n                              <ul class=\"centerx\"  v-if=\"item.TIPO==6\" >\n                                <li :keyVal=\"index\"  v-for=\"(itemVal, index) in item.VALORES\">\n                                    <vs-radio v-model=\"item.VALOR\" :vs-value=\"itemVal.value\" >{{itemVal.text}}</vs-radio>\n                                </li>\n                              </ul>  \n          \n                    <vs-select  v-if=\"item.TIPO==7   ||item.TIPO==8\" v-model=\"item.VALOR\"  class=\"w-full select-large\"  >\n                        <vs-select-item :key=\"index2\" :value=\"itemVal.value\" :text=\"itemVal.text\" v-for=\"(itemVal,index2)\n                        in item.VALORES\" class=\"w-full\" />\n                    </vs-select> \n        \n          \n              <vs-input  v-if=\"item.TIPO==12\" size=\"large\" v-validate=\"'email'\"\n               v-model=\"item.VALOR\"\n               placeholder=\"item.NOMBRE_CAMPO\"\n                name=\"item.NOMBRE_INTERNO\"\n                 class=\"mt-5 w-full\" /> \n            \n                <template>\n                    <div   v-if=\"item.TIPO==44\"class=\"centerx\">\n                      <vs-input-number v-model=\"item.VALOR\" />\n                    </div>\n                  </template> \n         </div>   \n      </div> \n            </div> \n            <button type=\"submit\" class=\"btn btn-primary\" @click=\"formSubmitted\">Ejecutar</button>\n            \n        </vx-input-group>\n    </VuePerfectScrollbar>\n  </vx-card>\n   </vs-popup>\n</template>  \n <script>\n\n  import VuePerfectScrollbar from 'vue-perfect-scrollbar'\n  import * as divilib from '@/divisoftlibs/utilDivisoftJS.js';\n \n \n   import \"vue-form-wizard/dist/vue-form-wizard.min.css\"; \n\n  import {eventBus} from \"@/main\";  // para que se hablen los componentes\n  \n  export default { \n components: {\n    VuePerfectScrollbar,\n   VuePerfectScrollbar,\n  },\n   watch: { \n    // SI HAY PROMPT\n      \"getRespuestaProcedimiento\": function() {   \n             if (this.getRespuestaProcedimiento==\"ERROR\")\n              { \n                \n                this.$vs.notify({\n                    title:\"Informe de Procedimiento Almacenado\",\n                    time: 6000,\n                    text:\"No se Ejecuto el proceso ID \"+this.camposProce.ObjectId +\"  \"+this.getRespuestaProceERROR,\n                    color:\"warning\"});\n               } \n             else\n            \n       \n            if (this.getRespuestaProcedimiento.length>5)\n             { \n              this.respuestaProc=divilib.xmlToJson(this.getRespuestaProcedimiento ,\"GN_ERROR\"); \n            //PONE EN STORE LA RESPUESTA DEL PROCEDIMIENTO  \n\n              this.$store.commit(\"mutsetObjetoJsonProc\", this.respuestaProc);  \n              eventBus.$emit('datosProcedure',this.respuestaProc,this.camposProce.ObjectId);\n             } \n        } \n  },\n  \n  created() { \t \n\t\t\t//\t cuando se createReadStream\n         eventBus.$on('cargaStoreProcedure', (CamposProce) => {\n             // LIMPIA VARIABLES \n              this.popupActive= true;\n              this.camposProce=CamposProce;\t\n              if(this.camposProce.Username == null){\n                 this.$vs.notify({\n                        title:\"Informe de Procedimiento Almacenado\",\n                        time: 6000,\n                        text:\"Usuario No esta Identificado\",\n                        color:\"warning\"});\n                          this.$emit('closeSidebar'); \n                }    \n            if(this.camposProce.Credencial== null){\n              this.$vs.notify({\n                        title:\"Informe de Procedimiento Almacenado\",\n                        time: 6000,\n                        text:\"No tiene Autorizacion de Ejecucion o Credencial No presente \",\n                        color:\"warning\"});\n                          this.$emit('closeSidebar'); \n                        reurn;\n            }    \n            if(this.camposProce.ObjectId == null){\n                  this.$vs.notify({\n                              title:\"Informe de Procedimiento Almacenado\",\n                              time: 6000,\n                              text:\"Procedimiento o Funcion no esta Identificado\",\n                              color:\"warning\"});\n                }    \n              this.respuestaProc= []; \n              this.$store.commit(\"mutsetObjetoJsonProc\", this.respuestaProc);\n              this.$store.commit(\"mutsetRespuestaProc\", \"\");\n            \n             \n         }); \n       },\n    data() {\n    return {\n         popupActive: false,\n      respuestaProc: [], \n\n      camposProce:{ \n        Credencial:\"123\",\n        ObjectId:\"123\",   \n        Username:\"\",\n        camposProce:  [\n                       {\"NOMBRE_CAMPO\": \"Cod Compania\",\"NOMBRE_INTERNO\": \"COD_COMPANIA\",\"VALOR\": \"\" }\n                       ],\n        }, \n       \n       datosaqui: true,\n       parametros:[], \n       paramtxt:\"\",\n       \n          \n    }\n  },\n  computed: { \n    isSidebarActiveLocal: {\n      get() {\n        return this.isSidebarActive\n      },\n      set(val) {\n        if(!val) {\n          this.$emit('closeSidebar');\n          //this.initValues();\n        }\n      }\n    }, \n\n    getRespuestaProcedimiento: {\n            get() { \n                return this.$store.state.procRESPUESTAXML;  \n            }\n        },\n     getRespuestaProceERROR: {\n            get() { \n                return this.$store.state.lastBdmsage;  \n            }\n        },   \n         \n  }, // fin de computados\n  methods: {\n    //TRAE DATOS PARA MOSTRAR EN TABLA \n    formSubmitted: function() {  \n\n       this.respuestaProc= []; \n       this.$store.commit(\"mutsetObjetoJsonProc\", this.respuestaProc);\n       this.$store.commit(\"mutsetRespuestaProc\", \"\");\n       if(this.camposProce.Username == null){\n            this.$vs.notify({\n                        title:\"Informe de Procedimiento Almacenado\",\n                        time: 6000,\n                        text:\"Usuario No esta Identificado\",\n                        color:\"warning\"});\n                          this.$emit('closeSidebar'); \n                        reurn;\n          }    \n          if(this.camposProce.Credencial== null){\n            this.$vs.notify({\n                        title:\"Informe de Procedimiento Almacenado\",\n                        time: 6000,\n                        text:\"No tiene Autorizacion de Ejecucion o Credencial No presente \",\n                        color:\"warning\"});\n                          this.$emit('closeSidebar'); \n                        reurn;\n          }    \n       if(this.camposProce.ObjectId == null){\n            this.$vs.notify({\n                        title:\"Informe de Procedimiento Almacenado\",\n                        time: 6000,\n                        text:\"Procedimiento o Funcion no esta Identificado\",\n                        color:\"warning\"});\n                          this.$emit('closeSidebar'); \n          }    \n        else\n         {\n       var origenUrl = \"O\";   \n        var header = {\n            MODO: \"E\",\n            OBJECTID:   this.camposProce.ObjectId,\n            CREDENCIAL: this.camposProce.Credencial,\n            USERNAME:   this.camposProce.Username,\n            REGISTROSXPAGINA: \"0\",\n            PAGINA: \"0\",\n            ORDERBY: \"\"\n        };\n      this.headertxt =divilib.GetHeaderString(header);   \n      //agrego los parametros \n      var parametros=[]; \n       var parametro1 = { NOMBRE: \"\", OPERADOR: \"=\", VALOR1: \"\", VALOR2: \"\", CDATA: \"0\"};\n       var xmlParametros=\"\";\n       var contador=0; \n       this.camposProce.camposProce.forEach(function callback(item) { \n              if (item.VALOR.length>0)\n              { \n              parametro1 = { NOMBRE: item.NOMBRE_INTERNO, OPERADOR: \"=\" , VALOR1:item.VALOR, VALOR2: \"\", CDATA: \"0\"};\n              parametros.push(parametro1); \n             contador++;\n             }\n    // tu iterador\n         }); \n       //entrega arreglo de parametros recibe texto de parametros\n      this.paramtxt=divilib.paramArraytoStrintg(parametros); \n      // de add parametros  \n      this.$store.commit(\"mutsetURL\", \"O\");\n\n     this.filastxt=\"\";\n      // carga los parametros   \n       var petTxt = {\n           header: this.headertxt,\n           parametros: this.paramtxt,\n          filas: this.filastxt\n         };\n\n      this.$store.commit(\"mutsetURL\", \"O\");\n      this.$store.commit(\"mutSetPeticiontxt\", petTxt);\n\n\n      var pedido = {\n        dml: \"E\",\n       Credencial: this.camposProce.Credencial,\n        ObjectId:this.camposProce.ObjectId,\n        formatoenvio: \"N\",\n        formatorecibe: \"N\",\n        indicador: \"7\", //EXECUTE\n        origenUrl: origenUrl\n      }; \n      }\n       //cambia a acDsoaPrueba  \n      this.$store.dispatch(\"acDsoa\", pedido);  \n      this.$emit('closeSidebar'); \n\n    }, // fin de ejecutaProcedimiento\n \n  },  // fin de  methods \n  \n\n}\n</script>\n\n\n<style lang=\"scss\" scoped>\n.add-new-data-sidebar {\n  /deep/ .vs-sidebar--background {\n    z-index: 52010;\n  }\n\n  /deep/ .vs-sidebar {\n    z-index: 52010;\n    width: 80%;\n    max-width: 90vw;\n     \n    }\n  } \n \n</style>\n"]}]}