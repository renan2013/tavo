{"remainingRequest":"C:\\Users\\Usuario\\Documents\\VUE\\vuesax_marzo_2020\\vuexy-full-version\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Usuario\\Documents\\VUE\\vuesax_marzo_2020\\vuexy-full-version\\src\\divisoft\\ob6001\\Edit6001.vue?vue&type=style&index=0&id=46783232&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\Usuario\\Documents\\VUE\\vuesax_marzo_2020\\vuexy-full-version\\src\\divisoft\\ob6001\\Edit6001.vue","mtime":1585087799368},{"path":"C:\\Users\\Usuario\\Documents\\VUE\\vuesax_marzo_2020\\vuexy-full-version\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\Usuario\\Documents\\VUE\\vuesax_marzo_2020\\vuexy-full-version\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Usuario\\Documents\\VUE\\vuesax_marzo_2020\\vuexy-full-version\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Usuario\\Documents\\VUE\\vuesax_marzo_2020\\vuexy-full-version\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Usuario\\Documents\\VUE\\vuesax_marzo_2020\\vuexy-full-version\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Usuario\\Documents\\VUE\\vuesax_marzo_2020\\vuexy-full-version\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.add-new-data-sidebar {\n  /deep/ .vs-sidebar--background {\n    z-index: 52010;\n  }\n\n  /deep/ .vs-sidebar {\n    z-index: 52010;\n    width: 80%;\n    max-width: 90vw;\n  }\n}\n",{"version":3,"sources":["Edit6001.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAs5BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Edit6001.vue","sourceRoot":"src/divisoft/ob6001","sourcesContent":["<!-- =========================================================================================\n  MODELO VUE.JS  VUAX DIVISOFT  2020  \n\tAUTOR: ADEMAR DIAZ \n\tMODELO DE EDICION DE TABLAS CONFIGURABLE \n\tCREADO POR  DIVISOFT SOA 2020\n========================================================================================== -->\n<template>\n  <vx-card :title=\"getAction\" code-toggler>\n    <div><h1>Mantenimiento de Clientes</h1></div>\n    <!-- TITULO DEL ENCABEZADO -->\n    <div class=\"mt-6 flex items-center justify-between px-6\">\n      <feather-icon\n        icon=\"XIcon\"\n        @click.stop=\"isSidebarActiveLocal = false\"\n        class=\"cursor-pointer\"\n      ></feather-icon>\n    </div>\n\n    <vs-divider class=\"mb-0\"></vs-divider>\n\n    <VuePerfectScrollbar class=\"scroll-area--data-list-add-new pt-4 pb-6\">\n      <!-- DATOS FORMULARIO -->\n      <div class=\"p-6\">\n        <!--@onComplete es el metodo que activa al dar guardar en el formulario-->\n        <form-wizard\n          color=\"rgba(var(--vs-success), 1)\"\n          @on-complete=\"GuardaRegistro()\"\n          errorColor=\"rgba(var(--vs-danger), 1)\"\n          :title=\"null\"\n          :subtitle=\"null\"\n          finishButtonText=\"Guardar\"\n          nextButtonText=\"Siguiente\"\n          backButtonText=\"Atrás\"\n        >\n          <tab-content\n            title=\"Datos Personales\"\n            class=\"mb-5\"\n            icon=\"feather icon-user\"\n            :before-change=\"validateStep1\"\n          >\n            <form data-vv-scope=\"step-1\">\n              <div class=\"vx-row\">\n                <div class=\"vx-col md:w-1/3 w-full mt-5\">\n                  <vs-input\n                    label=\"Código\"\n                    disable\n                    :value=\"COD_CLIENTE\"\n                    v-model=\"COD_CLIENTE\"\n                    class=\"w-full\"\n                    name=\"NOM_CLIENTE\"\n                    v-validate=\"'required'\"\n                  />\n                </div>\n                <div class=\"vx-col md:w-1/3 w-full mt-5\">\n                  <vs-input\n                    label=\"Nombre\"\n                    :value=\"NOM_CLIENTE\"\n                    v-model=\"NOM_CLIENTE\"\n                    class=\"w-full\"\n                    name=\"NOM_CLIENTE\"\n                    v-validate=\"'required'\"\n                    placeholder=\"Ingrese Nombre de Cliente no puede ser Nulo \"\n                  />\n                  <span class=\"text-danger\">{{\n                    errors.first(\"step-1.NOM_CLIENTE\")\n                  }}</span>\n                </div>\n                <div class=\"vx-col md:w-1/3 w-full mt-5\">\n                  <vs-input\n                    type=\"email\"\n                    label=\"Email\"\n                    :value=\"DIR_EMAIL\"\n                    v-model=\"DIR_EMAIL\"\n                    class=\"w-full\"\n                    name=\"DIR_EMAIL\"\n                    v-validate=\"'required|email'\"\n                    placeholder=\"Ingrese un Correo Valido no puede ser Nulo\"\n                  />\n                  <span class=\"text-danger\">{{\n                    errors.first(\"step-1.DIR_EMAIL\")\n                  }}</span>\n                </div>\n                <div class=\"vx-col md:w-1/3 w-full mt-5\">\n                  <vs-input\n                    label=\"Cedula/Nit\"\n                    :value=\"NUM_IDENTIFICACION\"\n                    v-model=\"NUM_IDENTIFICACION\"\n                    class=\"w-full\"\n                    name=\"email\"\n                    placeholder=\"Identificacion cedula/Nit/Dimex puede ser Nulo\"\n                  />\n                </div>\n                <div class=\"vx-col md:w-1/3 w-full mt-2\">\n                  <span class=\"text-danger\">Foto Avatar</span>\n                  <downloadDefault v-show=\"REFERENCIA_FOTO > '0'\" />\n                  <upload-default\n                    v-show=\"activaUpload\"\n                    :isSidebarActive=\"activaUpload\"\n                    :tituloUpload=\"tituloAvatar\"\n                    @closeSidebar=\"activaUpload = false\"/>\n                  <div class=\"p-3 mb-4 mr-4 rounded-lg cursor-pointer flex items-center justify-between text-lg font-medium text-base text-primary border border-solid border-primary\"\n                       @click=\"llamaCargarAvatar\" >\n                    <feather-icon icon=\"PlusIcon\" svgClasses=\"h-4 w-4\" />\n                    <span class=\"ml-2 text-base text-primary\">{{ tituloAvatar }}</span>\n                  </div>\n                </div>\n              </div>\n            </form>\n          </tab-content>\n\n          <!-- tab 2 contenido -->\n          <tab-content\n            title=\"Datos Domicilio\"\n            class=\"mb-5\"\n            icon=\"feather icon-home\"\n          >\n            <form data-vv-scope=\"step-2\">\n              <div class=\"vx-row\">\n                <!--  prompt de pais, provincia, canton distro-->\n                <div class=\"vx-col md:w-1/3 w-full mt-4\">\n                  <vs-select\n                    :value=\"COD_PROVINCIA\"\n                    v-model=\"COD_PROVINCIA\"\n                    class=\"w-full select-large\"\n                    label=\"Provincia\"\n                  >\n                    <vs-select-item\n                      :key=\"index\"\n                      :value=\"item.value\"\n                      :text=\"item.text\"\n                      v-for=\"(item, index) in provincia\"\n                      class=\"w-full\"\n                    />\n                  </vs-select>\n                </div>\n\n                <div>\n                  <!-- Prepend Two Buttons -->\n                  <vx-input-group class=\"mb-base\">\n                    <template slot=\"prepend\">\n                      <vs-input\n                        :value=\"COD_CANTON\"\n                        v-model=\"COD_CANTON\"\n                        name=\"COD_CANTON\"\n                        label=\"Canton\"\n                      />\n                      <vs-button\n                        color=\"primary\"\n                        type=\"border\"\n                        @click=\"setActivaPromp6003\"\n                        >IR</vs-button\n                      >\n                      <vs-input\n                        :value=\"DES_CANTON\"\n                        v-model=\"DES_CANTON\"\n                        name=\"DES_CANTON\"\n                        label=\"Nombre Canton\"\n                      />\n                    </template>\n                  </vx-input-group>\n\n                  <vx-input-group class=\"mb-base\">\n                    <template slot=\"prepend\">\n                      <vs-input\n                        :value=\"COD_DISTRITO\"\n                        v-model=\"COD_DISTRITO\"\n                        name=\"COD_DISTRITO\"\n                        label=\"Distrito\"\n                      />\n                      <vs-button\n                        color=\"primary\"\n                        type=\"border\"\n                        @click=\"setActivaPromp6004\"\n                        >IR</vs-button\n                      >\n\n                      <vs-input\n                        :value=\"DES_DISTRITO\"\n                        v-model=\"DES_DISTRITO\"\n                        name=\"DES_DISTRITO\"\n                        label=\"Nombre Distrito\"\n                      />\n                    </template>\n                  </vx-input-group>\n                </div>\n                <div class=\"vx-col md:w-1/2 w-full\"> \n \n                  <flat-pickr\n                    :config=\"configdateTimePicker\"\n                    v-model=\"FEC_INGRESO\"\n                    placeholder=\"Escoja Fecha Ingreso\"\n                    label=\"Fecha Ingreso\"\n                  />\n                </div>\n                <div class=\"vx-col md:w-1/2 w-full\">\n                  <vs-textarea\n                    v-validate=\"'required'\"\n                    v-model=\"DES_OBSERVACIONES\"\n                    counter=\"150\"\n                    name=\"direccion\"\n                    label=\"Dirección Exacta\"\n                    :counter-danger.sync=\"counterDanger\"\n                    class=\"md:mt-10 mt-6 mb-0\"\n                    rows=\"3\"\n                    placeholder=\"Ingrese Alguna Observacion\"\n                  />\n                  <span\n                    class=\"text-danger text-sm\"\n                    v-show=\"errors.has('textarea')\"\n                    >{{ errors.first(\"textarea\") }}</span\n                  >\n                </div>\n              </div>\n            </form>\n          </tab-content>\n        </form-wizard>\n\n        <button type=\"submit\" class=\"btn btn-danger\" @click=\"regresa()\">\n          Regresar\n        </button>\n      </div>\n    </VuePerfectScrollbar>\n  </vx-card>\n</template>\n\n<script>\nimport { mapState } from \"vuex\"; //, mapMutations, mapActions\nimport VuePerfectScrollbar from \"vue-perfect-scrollbar\";\nimport { FormWizard, TabContent } from \"vue-form-wizard\";\nimport \"vue-form-wizard/dist/vue-form-wizard.min.css\";\nimport { eventBus } from \"@/main\"; // para que se hablen los componentes\n\n// mensajes de error personalizados\nimport { Validator } from \"vee-validate\";\nimport * as datos6001 from \"./js/divi6001.js\";\nimport * as divilib from \"@/divisoftlibs/utilDivisoftJS.js\";\n\n//datepicker\nimport flatPickr from \"vue-flatpickr-component\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport { Spanish } from \"flatpickr/dist/l10n/es.js\";\n\n// auto complete\nimport VueSimpleSuggest from \"vue-simple-suggest\";\nimport \"vue-simple-suggest/dist/styles.css\";\nimport Prism from \"vue-prism-component\";\n\n//  CMS IMPORT PARA CARGAR Y VER ARCHIVOS\nimport UploadDefault from \"@/divisoft/uploadFile/UploadDefault.vue\";\nimport downloadDefault from \"@/divisoft/downloadFile/downloadDefault.vue\";\n\nconst dict = datos6001.mensajesValidacion;\n// registra los mensajes personalizados\nValidator.localize(\"en\", dict);\n\nexport default {\n  name: \"Autocomplete\",\n  components: {\n    VuePerfectScrollbar,\n    FormWizard,\n    TabContent,\n    flatPickr,\n    // Auto comlete\n    VueSimpleSuggest,\n    Prism,\n    //subir una imagen\n    UploadDefault,\n    downloadDefault\n  },\n  props: {\n    datosEdit: {\n      type: Array,\n      required: true\n    }\n  },\n\n  beforeMount() {\n    //DEFINE COLUMNAS DE LA TABLA\n    this.defaultdatos = datos6001.datosDefault;\n    this.$store.commit(\"mutsetDatosDefault\", this.defaultdatos);\n  },\n  created() {\n    eventBus.$on(\"datosprompt\", (rowselectionprompt, indicadorPrompt) => {\n      this.rowselectionprompt = rowselectionprompt;\n      this.indicadorPrompt = indicadorPrompt;\n    });\n    eventBus.$on(\"cargaRegistro\", dinamicKey => {\n      if (dinamicKey[1].valor == \"0\") this.cargaCliente(this.defaultdatos[0]);\n      else this.buscarCliente(dinamicKey);\n    });\n  },\n  beforeDestroy: function() {\n    //Crea un bus  OYENTE\n    eventBus.$off(\"datosprompt\");\n    eventBus.$off(\"cargaRegistro\");\n  },\n  watch: {\n    rowselectionprompt: function() {\n      var datos = this.datosRow;\n      //console.log(\"datos  datosprompt 1   \",this.rowselectionprompt.CANTON);\n      if (this.indicadorPrompt == 1) {\n        this.COD_CANTON = this.rowselectionprompt.CANTON;\n        this.DES_CANTON = this.rowselectionprompt.NOMBRE;\n        this.COD_DISTRITO = \"1\";\n        this.DES_DISTRITO = \"\";\n      }\n\n      if (this.indicadorPrompt == 2) {\n        this.COD_DISTRITO = this.rowselectionprompt.DISTRITO;\n        this.DES_DISTRITO = this.rowselectionprompt.NOMBRE;\n      }\n    },\n\n    currentRecord: function() {\n      if (this.currentRecord.COD_CLIENTE > 0)\n        this.cargaCliente(this.currentRecord);\n    },\n\n    COD_PROVINCIA: function() {\n      ///\talertalert(this.COD_PROVINCIA +\"  \"+this.currentRecord.COD_PROVINCIA);\n      if (this.COD_PROVINCIA != this.currentRecord.COD_PROVINCIA) {\n        this.COD_CANTON = \"1\";\n        this.DES_CANTON = \"\";\n        this.COD_DISTRITO = \"1\";\n        this.DES_DISTRITO = \"\";\n      }\n    }\n  },\n  data() {\n    return {\n      // CMS CMS CMS CMS \t\t DatOS cms Para manejo de EXPEDIENTE DIGITAL  MULTIMEDIA Debe venir en una funcion de Datos con la consulta\n      CMSDATA6001: datos6001.CMSDATA6001,\n      PROPSDataCMS: divilib.DataCMS,\n      tituloAvatar: \"Para Cambiar Avatar\",\n      verDocumento1: false,\n      activaUpload: false,\n\n      ///////////////// FECHAS FECHAS\n      configdateTimePicker: {\n        locale: Spanish\n      },\n      valorAutocomplete: \"\",\n      //////////////// CAMPOS DEL MANTENIMIENTO\n      COD_CLIENTE: \"0\",\n      COD_COMPANIA: \"01\",\n      COD_PROVINCIA: \"1\",\n      COD_CANTON: \"1\",\n      COMENTARIO: \"\",\n      DES_OBSERVACIONES: \"\",\n      DIR_EMAIL: \"\",\n      IND_ESTADO: \"1\",\n      NOM_CLIENTE: \"Datos Iniciales\",\n      NUM_CELULAR: \"\",\n      NUM_IDENTIFICACION: \"\",\n      DES_DISTRITO: \"O\",\n      COD_DISTRITO: \"\",\n      DES_CANTON: \"\",\n      FEC_INGRESO: \"\",\n      REFERENCIA_FOTO: 0,\n      HASH_DOC: \"\",\n      CMSDATA: [],\n\n      actualizo: false,\n      iniciado: false,\n      defaultdatos: [],\n      indicadorPrompt: 0,\n\n      rowselectionprompt: [],\n      datosPrompt: [{ titulo: \"\" }],\n      //Formulario\n      textarea: \"\",\n      counterDanger: false,\n      origenUrl: \"J\",\n\n      secondes: 0,\n      activaPrompt: false,\n      provincia: [\n        { text: \"San José\", value: \"1\" },\n        { text: \"Alajuela\", value: \"2\" },\n        { text: \"Cartago\", value: \"3\" },\n        { text: \"Heredia\", value: \"4\" },\n        { text: \"Guanacaste\", value: \"5\" },\n        { text: \"Puntarenas\", value: \"6\" },\n        { text: \"Limón\", value: \"7\" }\n      ],\n      //scrollbar\n      settings: {\n        maxScrollbarLength: 60\n      },\n      datosaqui: true,\n      parametros: [],\n      locallastheader: \"\", //guarda el ultimo header de este objeto\n      locallaststrParametros: \"\", //guarda el ultimo  parametros de este objeto\n      locallaststrFilas: \"\", //guarda el ultimo filas de este objeto\n      paramtxt: \"\",\n      filastxt: \"\",\n      header: \"\"\n    };\n  },\n\n  computed: {\n    ...mapState([\"dsoaModel\", \"rowsForm\", \"DataCMS\", \"tableKey\", \"urlOrigen\"]),\n    getProfile() {\n      return this.$store.state.profile[0];\n    },\n\n    currentRecord() {\n      return this.$store.state.rowsForm[0];\n    },\n    CMSDataRespuesta() {\n      return this.$store.state.DataCMS;\n    },\n    getAction: {\n      get() {\n        return this.getindicadorDML == \"U\"\n          ? \"Editando Registro 2\"\n          : \"Insertando Registro\";\n      }\n    },\n    getindicadorDML() {\n      return this.datosEdit[0].indicadorDML;\n    },\n\n    lastDbmsg() {\n      return this.$store.state.lastBdmsage;\n    },\n    procesando() {\n      return this.$store.state.estadoProcesando;\n    },\n    lastDbmsgCode() {\n      return this.$store.state.lastBdmsgcode;\n    },\n    estadoProcesando() {\n      return this.$store.state.estadoProcesando;\n    }\n  },\n\n  methods: {\n    // METODO QUE CARGA LOS DATOS DEL FILTRO PARA LOS PROMPT\n    setActivaPromp6003() {\n      alert('busca cantones'+this.COD_PROVINCIA);\n      var filtros6003 = [\n        { nombre: \"CODIGO_PAIS\", valor: \"506\" },\n        { nombre: \"PROVINCIA\", valor: this.COD_PROVINCIA }\n      ];\n\n      this.$parent.cargaPrompt6003(filtros6003);\n    },\n    // METODO QUE CARGA LOS DATOS DEL FILTRO PARA LOS PROMPT\n    setActivaPromp6004() {\n      var filtros6004 = [\n        { nombre: \"CODIGO_PAIS\", valor: \"506\" },\n        { nombre: \"PROVINCIA\", valor: this.COD_PROVINCIA },\n        { nombre: \"CANTON\", valor: this.COD_CANTON }\n      ];\n\n      this.$parent.cargaPrompt6004(filtros6004);\n    },\n    // FIN DE  METODO QUE CARGA LOS DATOS DEL FILTRO PARA LOS PROMPT\n\n    regresa() {\n      this.$parent.activaEdit = false;\n    },\n\n    ajustaUltimoParam(parametros) {\n      var i = 1;\n    },\n\n    //FORMULARIO\n\n    validateStep1() {\n      return new Promise((resolve, reject) => {\n        this.$validator.validateAll(\"step-1\").then(result => {\n          if (result) {\n            resolve(true);\n          } else {\n            reject(\"correct all values\");\n          }\n        });\n      });\n    },\n    validateStep2() {\n      return new Promise((resolve, reject) => {\n        this.$validator.validateAll(\"step-2\").then(result => {\n          if (result) {\n            resolve(true);\n          } else {\n            reject(\"correct all values\");\n          }\n        });\n      });\n    },\n\n    addFilas: function() {\n      /// Filas par el INSERT UPDATE\n      var filas = [];\n      filas.push({\n        NOMBRE: \"COD_COMPANIA\",\n        VALOR1: this.COD_COMPANIA,\n        VALOR2: \"\",\n        CDATA: \"0\"\n      });\n      filas.push({\n        NOMBRE: \"COD_CLIENTE\",\n        VALOR1: this.COD_CLIENTE,\n        VALOR2: \"\",\n        CDATA: \"0\"\n      });\n      filas.push({\n        NOMBRE: \"NUM_IDENTIFICACION\",\n        VALOR1: this.NUM_IDENTIFICACION,\n        VALOR2: \"\",\n        CDATA: \"0\"\n      });\n      filas.push({\n        NOMBRE: \"NOM_CLIENTE\",\n        VALOR1: this.NOM_CLIENTE,\n        VALOR2: \"\",\n        CDATA: \"0\"\n      });\n      filas.push({\n        NOMBRE: \"DIR_EMAIL\",\n        VALOR1: this.DIR_EMAIL,\n        VALOR2: \"\",\n        CDATA: \"0\"\n      });\n      filas.push({\n        NOMBRE: \"IND_ESTADO\",\n        VALOR1: this.IND_ESTADO,\n        VALOR2: \"\",\n        CDATA: \"0\"\n      });\n      filas.push({\n        NOMBRE: \"NUM_CELULAR\",\n        VALOR1: this.NUM_CELULAR,\n        VALOR2: \"\",\n        CDATA: \"0\"\n      });\n      filas.push({\n        NOMBRE: \"COD_PROVINCIA\",\n        VALOR1: this.COD_PROVINCIA,\n        VALOR2: \"\",\n        CDATA: \"0\"\n      });\n      filas.push({\n        NOMBRE: \"DES_OBSERVACIONES\",\n        VALOR1: this.DES_OBSERVACIONES,\n        VALOR2: \"\",\n        CDATA: \"0\"\n      });\n      filas.push({\n        NOMBRE: \"FEC_INGRESO\",\n        VALOR1: this.FEC_INGRESO,\n        VALOR2: \"YYYY-MM-YYYY\",\n        CDATA: \"0\"\n      });\n      filas.push({\n        NOMBRE: \"COD_CANTON\",\n        VALOR1: this.COD_CANTON,\n        VALOR2: \"\",\n        CDATA: \"0\"\n      });\n      filas.push({\n        NOMBRE: \"COD_DISTRITO\",\n        VALOR1: this.COD_DISTRITO,\n        VALOR2: \"\",\n        CDATA: \"0\"\n      });\n      // CMS\n      filas.push({\n        NOMBRE: \"REFERENCIA_FOTO\",\n        VALOR1: this.CMSDataRespuesta.Referencia,\n        VALOR2: \"\",\n        CDATA: \"0\"\n      });\n      filas.push({\n        NOMBRE: \"HASH_DOC\",\n        VALOR1: this.CMSDataRespuesta.HashDoc,\n        VALOR2: \"\",\n        CDATA: \"0\"\n      });\n\n      this.filastxt = divilib.filaArraytoStrintg(filas, \"S\");\n    },\n\n    //TRAE DATOS PARA MOSTRAR EN FORMULARIO\n    GuardaRegistro: function() {\n      //HEADER\n      var header = {\n        MODO: this.getindicadorDML,\n        OBJECTID: \"6001\",\n        CREDENCIAL: this.getProfile.credencial,\n        USERNAME: this.getProfile.username,\n        REGISTROSXPAGINA: \"200\",\n        PAGINA: \"1\",\n        ORDERBY: \"COD_CLIENTE\"\n      };\n      this.headertxt = divilib.GetHeaderString(header);\n\n      // agrego las filas\n      this.addFilas();\n      this.paramtxt = \" <Param><ParamItem/></Param>\";\n      // cargo la peticion texto\n      var petTxt = {\n        header: this.headertxt,\n        parametros: this.paramtxt,\n        filas: this.filastxt\n      };\n\n      this.$store.commit(\"mutsetURL\", \"O\"); //indUrl\n      this.$store.commit(\"mutSetPeticiontxt\", petTxt);\n\n      var pedido = {\n        dml: this.getindicadorDML,\n        credencial: this.getProfile.credencial,\n        formatoenvio: \"N\",\n        formatorecibe: \"N\",\n        indicador: \"3\", // CRUD\n        origenUrl: this.origenUrl\n      };\n\n      //cambia a acDsoaPrueba // acDsoa\n      this.$store.dispatch(\"acDsoa\", pedido);\n\n      this.$parent.activaEdit = false;\n    }, // fin de  metodo\n\n    // CARGA DE una variable Bd a DOM\n    cargaCliente: function(datosRow) {\n      this.REFERENCIA_FOTO = \"0\";\n      this.COD_CLIENTE = datosRow.COD_CLIENTE;\n      this.COD_COMPANIA = datosRow.COD_COMPANIA;\n      this.COD_PROVINCIA = datosRow.COD_PROVINCIA;\n      this.COD_CANTON = datosRow.COD_CANTON;\n      this.COMENTARIO = datosRow.COMENTARIO;\n      this.DES_OBSERVACIONES = datosRow.DES_OBSERVACIONES;\n      this.DIR_EMAIL = datosRow.DIR_EMAIL;\n      this.IND_ESTADO = datosRow.IND_ESTADO;\n      this.NOM_CLIENTE = datosRow.NOM_CLIENTE;\n      this.NUM_CELULAR = datosRow.NUM_CELULAR;\n      this.NUM_IDENTIFICACION = datosRow.NUM_IDENTIFICACION;\n      this.DES_DISTRITO = datosRow.DES_DISTRITO;\n      this.COMENTARIO = datosRow.COMENTARIO;\n      this.COD_DISTRITO = datosRow.COD_DISTRITO;\n      this.DES_CANTON = datosRow.DES_CANTON;\n      this.REFERENCIA_FOTO = datosRow.REFERENCIA_FOTO;\n      this.FEC_INGRESO = datosRow.FEC_INGRESO;\n      this.CMSDATA = atob(datosRow.CMSDATA);\n      this.CMSDATA = JSON.parse(this.CMSDATA);\n\n      //carga el Avatar\n      this.cargaAvatar();\n    },\n\n    // carga las filas a Editar\n    addFilasDet: function() {\n      var filas = [];\n      filas.push({\n        NOMBRE: \"COD_COMPANIA\",\n        VALOR1: \"\",\n        VALOR2: \"\",\n        CDATA: \"0\"\n      });\n      filas.push({ NOMBRE: \"COD_CLIENTE\", VALOR1: \"\", VALOR2: \"\", CDATA: \"0\" });\n      filas.push({\n        NOMBRE: \"NUM_IDENTIFICACION\",\n        VALOR1: \"\",\n        VALOR2: \"\",\n        CDATA: \"0\"\n      });\n      filas.push({ NOMBRE: \"NOM_CLIENTE\", VALOR1: \"\", VALOR2: \"\", CDATA: \"0\" });\n      filas.push({ NOMBRE: \"DIR_EMAIL\", VALOR1: \"\", VALOR2: \"\", CDATA: \"0\" });\n      filas.push({ NOMBRE: \"IND_ESTADO\", VALOR1: \"\", VALOR2: \"\", CDATA: \"0\" });\n      filas.push({ NOMBRE: \"NUM_CELULAR\", VALOR1: \"\", VALOR2: \"\", CDATA: \"0\" });\n      filas.push({\n        NOMBRE: \"COD_PROVINCIA\",\n        VALOR1: \"\",\n        VALOR2: \"\",\n        CDATA: \"0\"\n      });\n      filas.push({ NOMBRE: \"COD_CANTON\", VALOR1: \"\", VALOR2: \"\", CDATA: \"0\" });\n      filas.push({\n        NOMBRE: \"FEC_INGRESO\",\n        VALOR1: \"\",\n        VALOR2: \"YYYY-MM-DD\",\n        CDATA: \"0\"\n      });\n      filas.push({\n        NOMBRE:\n          \"DEMOS.ERP_K_GENERAL.ERP_F_GETCANTON(COD_PAIS ,COD_PROVINCIA,COD_CANTON) AS DES_CANTON\",\n        VALOR1: \"\",\n        VALOR2: \"\",\n        CDATA: \"0\"\n      });\n      filas.push({\n        NOMBRE: \"COD_DISTRITO\",\n        VALOR1: \"\",\n        VALOR2: \"\",\n        CDATA: \"0\"\n      });\n      filas.push({\n        NOMBRE:\n          \"DEMOS.ERP_K_GENERAL.ERP_F_GETDISTRITO(COD_PAIS ,COD_PROVINCIA,COD_CANTON,COD_DISTRITO) AS DES_DISTRITO\",\n        VALOR1: \"\",\n        VALOR2: \"\",\n        CDATA: \"0\"\n      });\n      filas.push({ NOMBRE: \"COMENTARIO\", VALOR1: \"\", VALOR2: \"\", CDATA: \"0\" });\n      filas.push({\n        NOMBRE: \"REFERENCIA_FOTO\",\n        VALOR1: \"\",\n        VALOR2: \"\",\n        CDATA: \"0\"\n      });\n      filas.push({\n        NOMBRE:\n          \"DBPMS.CMS_K_IMAGE_MANAGER.CRM_P_GET_CMSINFO(\" +\n          datos6001.CMSDATA6001[0].EntidadCodigo +\n          \",\" +\n          datos6001.CMSDATA6001[0].LlaveExterna +\n          \",\" +\n          datos6001.CMSDATA6001[0].NumNivel +\n          \" ) AS CMSDATA\",\n        VALOR1: \"\",\n        VALOR2: \"\",\n        CDATA: \"0\"\n      });\n      filas.push({\n        NOMBRE: \"DES_OBSERVACIONES\",\n        VALOR1: \"\",\n        VALOR2: \"\",\n        CDATA: \"0\"\n      });\n\n      this.filastxt = divilib.filaArraytoStrintg(filas, \"N\");\n    },\n    /// busca dato para el edit\n    buscarCliente: function(dinamicKey) {\n      var header = {\n        MODO: \"JJ\",\n        OBJECTID: \"6001\",\n        CREDENCIAL: +this.getProfile.credencial,\n        USERNAME: +this.getProfile.username,\n        REGISTROSXPAGINA: \"200\",\n        PAGINA: \"1\",\n        ORDERBY: \"COD_CLIENTE\"\n      };\n      this.headertxt = divilib.GetHeaderString(header);\n\n      var origenUrl = \"O\";\n      // agrego las filas\n      this.addFilasDet();\n      var parametros = [];\n      var parametro1 = {\n        NOMBRE: \"\",\n        OPERADOR: \"=\",\n        VALOR1: \"\",\n        VALOR2: \"\",\n        CDATA: \"0\"\n      };\n\n      dinamicKey.forEach(function callback(item) {\n        if (item.valor.length > 0) {\n          parametro1 = {\n            NOMBRE: item.nombre,\n            OPERADOR: \"=\",\n            VALOR1: item.valor,\n            VALOR2: \"\",\n            CDATA: \"0\"\n          };\n          parametros.push(parametro1);\n        }\n      });\n\n      //entrega arreglo de parametros recibe texto de parametros\n      this.paramtxt = divilib.paramArraytoStrintg(parametros);\n\n      // cargo la peticion texto\n      //bien\n      var petTxt = {\n        header: this.headertxt,\n        parametros: this.paramtxt,\n        filas: this.filastxt\n      };\n      this.$store.commit(\"mutsetURL\", \"O\");\n      this.$store.commit(\"mutSetPeticiontxt\", petTxt);\n      var pedido = {\n        dml: \"JJ\", //SJ\n        credencial: this.getProfile.credencial,\n        formatoenvio: \"N\",\n        formatorecibe: \"N\",\n        indicador: \"2\", //select\n        origenUrl: origenUrl\n      };\n\n      //cambia a acDsoaPrueba // acDsoa\n\n      this.$store.dispatch(\"acDsoa\", pedido);\n\n      this.datosJson = {\n        indicadorDML: \"U\",\n        locallaststrParametros: this.locallaststrParametros\n      };\n      this.$parent.indicadorDML = \"U\";\n      this.$parent.activaEdit = true; // enciende los datos de Edicion\n    },\n\n    //cuando digita un valor el sistema debe ir por la descripcion\n    postchange6003: function() {\n      var header = {\n        MODO: \"JJ\",\n        OBJECTID: objectId,\n        CREDENCIAL: this.getProfile.credencial,\n        USERNAME: this.getProfile.username,\n        REGISTROSXPAGINA: \"200\",\n        PAGINA: \"1\",\n        ORDERBY: \"COD_CLIENTE\"\n      };\n      this.headertxt = divilib.GetHeaderString(header);\n\n      var origenUrl = \"O\";\n      // agrego las filas\n      this.addFilasDet();\n      var parametros = [];\n      var parametro1 = {\n        NOMBRE: \"\",\n        OPERADOR: \"=\",\n        VALOR1: \"\",\n        VALOR2: \"\",\n        CDATA: \"0\"\n      };\n\n      dinamicKey.forEach(function callback(item) {\n        if (item.valor.length > 0) {\n          parametro1 = {\n            NOMBRE: item.nombre,\n            OPERADOR: \"=\",\n            VALOR1: item.valor,\n            VALOR2: \"\",\n            CDATA: \"0\"\n          };\n          parametros.push(parametro1);\n        }\n      });\n\n      //entrega arreglo de parametros recibe texto de parametros\n      this.paramtxt = divilib.paramArraytoStrintg(parametros);\n\n      // cargo la peticion texto\n      //bien\n      var petTxt = {\n        header: this.headertxt,\n        parametros: this.paramtxt,\n        filas: this.filastxt\n      };\n\n      this.$store.commit(\"mutsetURL\", \"O\");\n      this.$store.commit(\"mutSetPeticiontxt\", petTxt);\n\n      var pedido = {\n        dml: \"JJ\",\n        credencial: \"1235666\",\n        formatoenvio: \"N\",\n        formatorecibe: \"N\",\n        indicador: \"2\",\n        origenUrl: origenUrl\n      };\n\n      this.$store.dispatch(\"acDsoa\", pedido);\n\n      this.datosJson = {\n        indicadorDML: \"U\",\n        locallaststrParametros: this.locallaststrParametros\n      };\n      this.$parent.indicadorDML = \"U\";\n      this.$parent.activaEdit = true; // enciende los datos de Edicion\n    },\n\n    //// METODOS DE CMS SOLO SI LLEVA DOCUMENTOS EL MANTENIMIENTO\n    //CARGA EL DOCUMENTO RELACIONADO AVATAR, CONTRATO ETC\n\n    /*\n\t\tconsole.log(\"cargando datos  CONSTANTES cms \",this.CMSDATA6001);\n\t\tconsole.log(\"cargando datos CONSTANTES cms \",this.CMSDATA6001[0].LlaveExterna);\n   */\n    cargaAvatar() {\n      let respuestaCMS = [\n        {\n          Referencia: this.REFERENCIA_FOTO,\n          LlaveExterna: this.CMSDATA[0].LlaveExterna,\n          NumNivel: this.CMSDATA[0].NumNivel,\n          NumDoc: this.CMSDATA[0].NumDoc\n        }\n      ];\n\n      eventBus.$emit(\"cargaDoc\", respuestaCMS);\n      console.log(\"LO QUE VA ENVIAR \", respuestaCMS);\n    },\n\n    llamaCargarAvatar() {\n      this.activaUpload = true;\n\n      let respuestaCMS = [\n        {\n          Referencia: 0, //this.REFERENCIA_FOTO,\n          LlaveExterna: this.CMSDATA[0].LlaveExterna,\n          NumNivel: this.CMSDATA[0].NumNivel,\n          NumDoc: this.CMSDATA[0].NumDoc\n        }\n      ];\n\n      eventBus.$emit(\"cargaDocUpload\", respuestaCMS);\n    }\n  } // fin de  methods\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.add-new-data-sidebar {\n  /deep/ .vs-sidebar--background {\n    z-index: 52010;\n  }\n\n  /deep/ .vs-sidebar {\n    z-index: 52010;\n    width: 80%;\n    max-width: 90vw;\n  }\n}\n</style>\n"]}]}