{"remainingRequest":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\src\\divisoft\\filtrosDivisoft.vue?vue&type=style&index=0&id=bc50cece&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\src\\divisoft\\filtrosDivisoft.vue","mtime":1604601624348},{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\css-loader\\index.js","mtime":1604601568517},{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1604601615300},{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\postcss-loader\\src\\index.js","mtime":1604601594460},{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1604601606015},{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1604601561321},{"path":"C:\\Users\\Renan Galvan\\Desktop\\sincronizados_git\\tavo_nov_2020\\tavo\\node_modules\\vue-loader\\lib\\index.js","mtime":1604601615297}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.add-new-data-sidebar {\r\n    /deep/ .vs-sidebar--background {\r\n        z-index: 52010;\r\n    }\r\n\r\n    /deep/ .vs-sidebar {\r\n        z-index: 52010;\r\n        width: 50%;\r\n        max-width: 90vw;\r\n    }\r\n}\r\n",{"version":3,"sources":["filtrosDivisoft.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4MA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"filtrosDivisoft.vue","sourceRoot":"src/divisoft","sourcesContent":["<!-- =========================================================================================\r\n  File Name: AddNewDataSidebar.vue\r\n  Description: Add New Data - Sidebar component\r\n  ----------------------------------------------------------------------------------------\r\n  Item Name: Vuesax Admin - VueJS Dashboard Admin Template\r\n  Author: Pixinvent\r\n  Author URL: http://www.themeforest.net/user/pixinvent\r\n========================================================================================== -->\r\n \r\n<template>\r\n<div id=\"data-list-list-view\" class=\"vx-col md:w-1/2 w-full mb-base\">\r\n\r\n    <vs-sidebar click-not-close position-right parent=\"body\" default-index=\"1\" color=\"primary\" class=\"add-new-data-sidebar items-no-padding\" spacer v-model=\"isSidebarActiveLocal\">\r\n        <div class=\"mt-6 flex items-center justify-between px-6\">\r\n            <h4>Nueva Busqueda</h4>\r\n            {{ObjectID}}\r\n            <feather-icon icon=\"XIcon\" @click.stop=\"isSidebarActiveLocal = false\" class=\"cursor-pointer\"></feather-icon>\r\n        </div>\r\n        <vs-divider class=\"mb-0\"></vs-divider>\r\n        <VuePerfectScrollbar class=\"scroll-area--data-list-add-new pt-4 pb-6\">\r\n            <div class=\"p-6\">\r\n                <!-- CAMPOS BUSQUEDA -->\r\n                <table class=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th scope=\"col\">Campo</th>\r\n                            <th scope=\"col\">Operador</th>\r\n                            <th scope=\"col\">Valor</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr :key=\"indextr\" v-for=\"(item, indextr) in filtros\">\r\n                            <td>{{item.NOMBRE_CAMPO}}</td>\r\n                            <td>\r\n                                <select class=\"custom-select\" id=\"inputGroupSelect01\" v-model=\" item.OPERADOR\">\r\n                                    <option :key=\"item2.TIPO\" :value=\"item2.TIPO\" :text=\"item2.LABEL\" v-for=\"item2 in item.TIPO_FILTRO\">{{item2.LABEL}}</option>\r\n                                </select>\r\n                            </td>\r\n                            <td>\r\n                                <input type=\"text\" class=\"form-control\" placeholder=\"Ingrese el valor\" v-model=\"item.VALOR\" />\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <button type=\"submit\" class=\"btn btn-primary\" @click=\"ejecutaBusqueda\">Buscar</button>\r\n            </div>\r\n        </VuePerfectScrollbar>\r\n    </vs-sidebar>\r\n</div>\r\n</template>\r\n\r\n \r\n<script>\r\nimport VuePerfectScrollbar from \"vue-perfect-scrollbar\";\r\nimport * as divilib from \"@/divisoftlibs/utilDivisoftJS.js\";\r\n//import { mapState } from \"vuex\";\r\n\r\nexport default {\r\n    props: {\r\n        header: {\r\n            // header Es recibido del padre\r\n            type: String,\r\n            required: true\r\n        },\r\n\r\n        filtros: {\r\n            // filtros por tabla  es para armar los campos que son buscadores\r\n            type: Array,\r\n            required: true\r\n        },\r\n\r\n        isSidebarActive: {\r\n            type: Boolean,\r\n            required: true\r\n        },\r\n        filas: {\r\n            // filtros por tabla, un xml listo de las mismas filas del padre.\r\n            type: String,\r\n            required: true\r\n        },\r\n        ObjectID: {\r\n            // filtros por tabla, un xml listo de las mismas filas del padre.\r\n            type: Number,\r\n            required: false\r\n        }\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            datosaqui: true,\r\n            parametros: [],\r\n\r\n            paramtxt: \"\",\r\n            locallastheader: \"\", //guarda el ultimo header de este objeto\r\n            locallaststrParametros: \"\", //guarda el ultimo  parametros de este objeto\r\n            locallaststrFilas: \"\" //guarda el ultimo filas de este objeto\r\n        };\r\n    },\r\n    computed: {\r\n        isSidebarActiveLocal: {\r\n            get() {\r\n                return this.isSidebarActive;\r\n            },\r\n            set(val) {\r\n                if (!val) {\r\n                    this.$emit(\"closeSidebar\");\r\n                    //this.initValues();\r\n                }\r\n            }\r\n        },\r\n        getProfile() {\r\n            return this.$store.state.dsoaLogin.profile[0];\r\n        },\r\n    },\r\n    methods: {\r\n        //TRAE DATOS PARA MOSTRAR EN TABLA\r\n\r\n        ejecutaBusqueda: function () {\r\n            var origenUrl = \"O\";\r\n\r\n            if (this.getProfile.Username == null) {\r\n                this.$vs.notify({\r\n                    title: \"Informe de Procedimiento Almacenado\",\r\n                    time: 6000,\r\n                    text: \"Usuario No esta Identificado\",\r\n                    color: \"warning\"\r\n                });\r\n                this.$emit('closeSidebar');\r\n            }\r\n            if (this.getProfile.Credencial == null) {\r\n                this.$vs.notify({\r\n                    title: \"Informe de Procedimiento Almacenado\",\r\n                    time: 6000,\r\n                    text: \"No tiene Autorizacion de Ejecucion o Credencial No presente \",\r\n                    color: \"warning\"\r\n                });\r\n                this.$emit('closeSidebar');\r\n                reurn;\r\n            }\r\n\r\n            // PREPARANDO PARAMETROS\r\n            // recorro los  parametros y sus Valores\r\n\r\n            //agrego los parametros\r\n            let parametros = [];\r\n\r\n            let parametro1 = {}; \r\n\r\n            //var xmlParametros = \"\";\r\n            let  contador = 0;\r\n            this.filtros.forEach(function callback(item) {\r\n                if (item.VALOR.length > 0) {\r\n                    parametro1 = {\r\n                        NOMBRE: item.NOMBRE_INTERNO,\r\n                        OPERADOR: item.OPERADOR,\r\n                        VALOR1: item.VALOR,\r\n                        VALOR2: \"\",\r\n                        CDATA: \"0\"\r\n                    };\r\n                    parametros.push(parametro1);\r\n                    contador++;\r\n                }\r\n                // tu iterador\r\n            });\r\n            //entrega arreglo de parametros recibe texto de parametros\r\n            this.paramtxt = divilib.paramArraytoStrintg(parametros);\r\n            // de add parametros\r\n            this.$store.commit(\"MUTSETURL\", \"O\");\r\n            // carga los parametros\r\n            var petFiltro = {\r\n                header: this.header,\r\n                parametros: this.paramtxt,\r\n                filas: this.filas\r\n            };\r\n            this.$store.commit(\"MUTSETPETICIONTXT\", petFiltro);\r\n\r\n            var pedido = {\r\n                dml: \"JJ\",\r\n                Credencial: this.getProfile.Credencial,\r\n                 ObjectId: this.ObjectID,\r\n                formatoenvio: \"N\",\r\n                formatorecibe: \"N\",\r\n                indicador: \"1\", // CRUD\r\n                origenUrl: origenUrl\r\n            };\r\n \r\n            //cambia a acDsoaPrueba // acDsoa\r\n            this.$store.dispatch(\"acDsoa\", pedido);\r\n\r\n            this.locallastheader = this.header;\r\n            this.locallaststrParametros = this.paramtxt;\r\n            this.locallaststrFilas = this.filas;\r\n\r\n            this.$emit(\"ajustaUltimoParam\", this.paramtxt);\r\n            this.$emit(\"closeSidebar\");\r\n        } // fin de  metodo\r\n    }, // fin de  methods\r\n    components: {\r\n        VuePerfectScrollbar\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.add-new-data-sidebar {\r\n    /deep/ .vs-sidebar--background {\r\n        z-index: 52010;\r\n    }\r\n\r\n    /deep/ .vs-sidebar {\r\n        z-index: 52010;\r\n        width: 50%;\r\n        max-width: 90vw;\r\n    }\r\n}\r\n</style>\r\n"]}]}