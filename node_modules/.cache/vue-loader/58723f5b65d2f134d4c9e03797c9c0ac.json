{"remainingRequest":"D:\\proyetos2020vue\\TAVOCR\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\proyetos2020vue\\TAVOCR\\src\\divisoft\\divisoftBpm\\BpmInbox.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\proyetos2020vue\\TAVOCR\\src\\divisoft\\divisoftBpm\\BpmInbox.vue","mtime":1588465710000},{"path":"D:\\proyetos2020vue\\TAVOCR\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\proyetos2020vue\\TAVOCR\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\proyetos2020vue\\TAVOCR\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\proyetos2020vue\\TAVOCR\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\nimport { mapState } from \"vuex\"; //, mapMutations, mapActions\nimport { eventBus } from \"@/main\"; // para que se hablen los componentes  \nimport bpmSidebar from \"./BpmSidebar.vue\";\nimport atiendeSimple from \"./BpmEdit.vue\";\n //import bpmItem from \"./BpmItem.vue\";\nimport VuePerfectScrollbar from \"vue-perfect-scrollbar\";\nimport CryptoJS from 'crypto-js';\nimport proceSP  from \"@/divisoft/storeProcDivisoft.vue\";\n\nimport moduleDbpm from \"@/store/dBpm/moduleDbpm.js\";\n\nexport default {\n  components: \n  {\n   atiendeSimple,\n   //bpmItem,\n    bpmSidebar, \n    VuePerfectScrollbar,\n    proceSP\n  },\n\n  created() {\n    //registro el modulo para que este disponible en Store\n\n    this.$store.registerModule(\"StoreBpm\", moduleDbpm);\n    this.setSidebarWidth();\n\n    this.$store.commit(\"StoreBpm/UPDATE_MAIL_FILTER\", this.$route.params.filter); // Update Mail Filter\n\n   this.$store.dispatch(\"StoreBpm/fetchEmails\", {\n      filter: this.$route.params.filter\n    }); // Fetch Emails From API\n\n    this.$store.dispatch(\"StoreBpm/fetchMeta\"); // Fetch Unread Mails\n    this.$store.dispatch(\"StoreBpm/fetchTags\"); // Fetch Mail Tags\n\n    /// crea un bus para atender los procedimientos\n     eventBus.$on(\"datosProcedure\", (respuestaProc, objectoId) => {\n         \n         //console.log(\"lo que llega FINAL\",respuestaProc);\n\n             let error=0;\n             let tareas=\"\";\n             let mensaje = \"Proceso Exitoso\"; \n                //console.log(\"respondeaaa 501\",respuestaProc)\n\n              if (objectoId == \"501\" ||objectoId == \"526\")\n                 { \n                            \n                            tareas=respuestaProc.replace(\"<![CDATA[\",\"\");\n                            tareas=tareas.replace(\"]]>\",\"\");\n                            tareas=tareas.replace(\"<data>\",\"\");\n                            tareas=tareas.replace(\"<rows>\",\"\");\n                            tareas=tareas.replace(\"</data>\",\"\");\n                            tareas=tareas.replace(\"</rows>\",\"\");\n \n\n                        if (objectoId == \"501\" )                             \n                            { \n                            this.misTares=[];  \n                            if (tareas.length>100)\n                              this.misTares=JSON.parse(tareas);\n                            else\n                            this.misTares=[]; \n                            }                             \n                      if (objectoId == \"526\") \n                          this.misCampos=JSON.parse(tareas);\n\n                  } \n \n                    if (objectoId == \"501\" )    \n                      if (this.misTares.length==0)\n                      { \n                        this.$vs.notify({\n                        title:\"Informe de Procedimiento Almacenado\",\n                        time: 6000,\n                        text:\"No se encontraron Procesos\",\n                        color:\"success\"});\n                    }\n                 /*if (objectoId == \"526\" )    \n                      if (this.misTares.length==0)\n                      { \n                        this.$vs.notify({\n                        title:\"Informe de Procedimiento Almacenado\",\n                        time: 6000,\n                        text:\"No se encontraron Procesos\",\n                        color:\"success\"});\n                    } */  \n              \n            //   \n    \n    });\n\n  },\n  beforeDestroy() {\n    this.$store.unregisterModule(\"StoreBpm\");\n  },\n  mounted() {\n    this.traerLocalStorage();\n    this.$store.dispatch(\"StoreBpm/setEmailSearchQuery\", \"\"); \n    \n  },\n \n \n  data() {\n\n    return {\n      profile:[],\n      profileText:\"\",\n      areDeTrabajo:\"0\",\n      activaProce:false,\n      SectionBpm:\"U\",\n      activaEditSimple:false,\n      editKey:1,\n\n      misTares:[\n    {\n        \"ROWNUM\":\"1\",\n        \"ID\":0,\n        \"ID_ENTIDAD\":0,\n        \"DESCRIPCION\":\"\",\n        \"ID_USUARIO\":\"\",\n        \"NOMBRE\":\"\",\n        \"NUM_HILO\":\"02\",\n        \"HORAS_ATRASO\":0.00,\n        \"ESTADO\":\"0\",\n        \"ASIGNACION\":\"0\",\n        \"DES_ENTIDAD\":\"0\",\n        \"INICIADOR\":\"0\",\n        \"NUM_DPTO\":\"0\",\n        \"REFERENCIA\":\"0\"\n    }],\n      misCampos:[], \n\n      // FIN DIVI\n      openMailId: null,\n      selectedMails: [],\n      isSidebarActive: false,\n      showThread: false,\n      clickNotClose: true,\n      isEmailSidebarActive: true,\n      settings: {\n        maxScrollbarLength: 60,\n        wheelSpeed: 0.3\n      }, \n      //crypt\n      key : '82f2ceed4c503896c8a291e560bd4325', // change to your key\n      iv : 'sinasinasisinaaa', // change to your iv\n      \n    };\n  },\n  watch: {\n    misCampos() \n    {\n        this.activaEditSimple=true;\n        this.editKey++;\n     //  alert(\"mis watch  campos\"+JSON.stringify(this.misCampos).length);\n        this.activaEditSimple=true;\n       // eventBus.$emit(\"cargaTarea\", this.misCampos);\n    },\n    areDeTrabajo() \n    {\n       \n        this.callMisTareas(this.areDeTrabajo);\n    },\n    isSidebarActive(value) {\n    \n      if (!value) this.showThread = false;    \n    },\n\n    bpmFilter() {\n      \n       this.SectionBpm=this.$route.params.filter;\n       this.callMisTareas(this.areDeTrabajo); \n    },\n\n    windowWidth() {\n      this.setSidebarWidth();\n    }\n\n  },\n  computed: {  \n    respuestaXML() { \n        return this.$store.state.procRESPUESTAXML;  \n    },\n    bpmFilter() {\n      return this.$route.params.filter;\n    },\n    areasBpm() {\n      return this.$store.state.StoreBpm.profile.Parametros;\n    },\n    \n    cprofile: {\n      get() {\n        return this.$store.state.StoreBpm.profile;\n         \n      },\n      set(val) {\n        this.$store.dispatch(\"StoreBpm/setProfile\", val);\n       \n      }\n    },\n\n     \n    searchQuery: {\n      get() {\n        return this.$store.state.StoreBpm.mailSearchQuery;\n      },\n      set(val) {\n        this.$store.dispatch(\"StoreBpm/setEmailSearchQuery\", val);\n      }\n    },\n     \n    mails() {\n      return this.$store.getters[\"StoreBpm/filteredMails\"];\n    },\n    selectAllIcon() {\n      return this.selectedMails.length === this.mails.length\n        ? \"icon-check\"\n        : \"icon-minus\";\n    },\n    scrollbarTag() {\n      return this.$store.getters.scrollbarTag;\n    },\n    isMailSelected() {\n      return mailId => this.selectedMails.indexOf(mailId) !== -1;\n    },\n    windowWidth() {\n      return this.$store.state.windowWidth;\n    }\n  },\n\n  // METHODS   \n  methods: {\n    aesDencrypt(txt) {\n      const cipher = CryptoJS.AES.decrypt(txt, CryptoJS.enc.Utf8.parse(this.key), {\n        iv: CryptoJS.enc.Utf8.parse(this.iv),\n        mode: CryptoJS.mode.CBC\n      })\n\n      return CryptoJS.enc.Utf8.stringify(cipher).toString()\n    },\n\n    atiendeTarea(philo,philoActivo,pdpto) {\n      //LLAMA BUS \n    //  alert(philo+\"  \"+philoActivo+\"  \"+pdpto);\n\n      let datosProceso=[{\n          hilo:philo,\n          hiloActivo:philoActivo,\n          dpto:pdpto\n\n      }]\n     this.callTareaAtender(datosProceso)\n     \n    },\n    ///RECUERA LA CONEXION \n    traerLocalStorage(){\n      //local storage\n      console.log(\"profile guardado\",this.cprofile)\n      let profileGuardado=this.cprofile;\n      if (profileGuardado!=null)\n         profileGuardado=this.cprofile[0];\n\n\n      if (profileGuardado.Credencial==\"0\" ||profileGuardado.Credencial==\"\" || profileGuardado.Credencial==null)\n      {\n      if (localStorage.getItem('profile')){\n\n         let profileText = localStorage.getItem('profile');\n             profileText = atob(profileText); \n\n             \n\n             console.log(\"PROFILE profile\", profileText);\n       \n        this.profile  = JSON.parse( profileText);\n\n        let credencial = localStorage.getItem('paseKey');\n\n  //console.log(\"la credencial conseguida es \",credencial )\n        //se desencripta credencial\n         credencial = this.aesDencrypt(credencial) ;\n         console.log(\"la credencial conseguida es \",credencial )\n        this.profile.Credencial =  credencial ;\n\n        console.log(\"profile\", profileText );\n\n        //this.$store.dispatch(\"StoreBpm/setProfile\", val);\n        this.$store.commit(\"StoreBpm/SET_MUTSETPROFILE\",  this.profile); // Update Mail Filter\n       // this.$store.dispatch(\"StoreBpm/setProfile\", {profile: }); // Fetch Emails From API \n         \n     \n      }else{\n        this.$router.push('/pages/login').catch(() => {})\n      }\n     }   \n     else \n     alert(this.profile.Credencial)\n\n    },\n\n    updateOpenMail(mailId) {\n      this.openMailId = mailId;\n      this.isSidebarActive = true;\n    },\n     \n    removeSelectedMail(ProcesId) {\n      alert(ProcesId);\n       \n    },\n    moveTo(to) {\n       alert(to);\n    },\n    moveCurrentTo(to) {\n      this.selectedMails = [this.openMailId];\n      this.moveTo(to);\n    },\n    updateMarkUnread() {\n      const payload = { emailIds: this.selectedMails, unreadFlag: true };\n      this.$store.dispatch(\"StoreBpm/setUnread\", payload);\n      this.selectedMails = [];\n    },\n    removeOpenMail() {\n      this.selectedMails = [this.openMailId];\n      this.moveTo(\"trashed\");\n      this.isSidebarActive = false;\n    },\n     \n       \n    closeMailViewSidebar() {\n      this.isSidebarActive = false;\n    },\n    setSidebarWidth() {\n      if (this.windowWidth < 992) {\n        this.isEmailSidebarActive = this.clickNotClose = false;\n      } else {\n        this.isEmailSidebarActive = this.clickNotClose = true;\n      }\n    },\n    toggleEmailSidebar(value = false) {\n      if (!value) {\n        this.closeMailViewSidebar();\n        if (this.clickNotClose) {\n          return;\n        }\n      }\n      this.isEmailSidebarActive = value;\n    },\n\n\n/////////////////////////////////////////////////////////////////////////////\n  callMisTareas(areaControlada) \n  {  //ERP_DISTRITOS \n // Consigue las tareas o procesos del usuario tiene pendiente\n\n     let Credencial = localStorage.getItem('paseKey'); \n        //se desencripta credencial\n      Credencial = this.aesDencrypt(Credencial) ; \n        \n   let profileGuardado=this.cprofile;\n   \n   try{  \n      if (profileGuardado.Credencial>\"0\") \n            profileGuardado=this.cprofile;\n      \n   }\n\n   catch(error) {\n       profileGuardado=this.cprofile[0];\n         \n     }\n\n  let camposTareas={\n        Credencial:Credencial,\n        ObjectId:\"501\",   \n         DML:'SJM',\n         tipoRespuestaProc:\"X\",\n       Username:profileGuardado.Username, \n       interfase:\"I\", \n       camposProce:[{\n                  \"NOMBRE_CAMPO\": \"PARAM1\",\n                  \"NOMBRE_INTERNO\": \"PARAM1\",\n                  \"VALOR\": profileGuardado.Username,\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"1\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                },\n                {\n                  \"NOMBRE_CAMPO\": \"PARAM2\",\n                  \"NOMBRE_INTERNO\": \"PARAM2\",\n                  \"VALOR\": this.SectionBpm,\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"2\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                },\n               \n\n                {\n                  \"NOMBRE_CAMPO\": \"PARAM3\",\n                  \"NOMBRE_INTERNO\": \"PARAM3\",\n                   \"VALOR\": areaControlada,\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"2\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                },\n                {\n                  \"NOMBRE_CAMPO\": \"PARAM4\",\n                  \"NOMBRE_INTERNO\": \"PARAM4\",\n                   \"VALOR\": \"\",\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"2\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                },\n                {\n                  \"NOMBRE_CAMPO\": \"PARAM5\",\n                  \"NOMBRE_INTERNO\": \"PARAM5\",\n                    \"VALOR\": \"\",\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"2\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                },\n                {\n                  \"NOMBRE_CAMPO\": \"PARAM6\",\n                  \"NOMBRE_INTERNO\": \"PARAM6\",\n                   \"VALOR\": \"\",\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"2\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                },\n                {\n                  \"NOMBRE_CAMPO\": \"PARAM7\",\n                  \"NOMBRE_INTERNO\": \"PARAM7\",\n                    \"VALOR\": \"\",\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"2\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                },\n                {\n                  \"NOMBRE_CAMPO\": \"PARAM8\",\n                  \"NOMBRE_INTERNO\": \"PARAM8\",\n                   \"VALOR\": \"\",\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"2\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                },\n                {\n                  \"NOMBRE_CAMPO\": \"PARAM9\",\n                  \"NOMBRE_INTERNO\": \"PARAM9\",\n                  \"VALOR\": \"\",\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"2\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                } \n              ]\n        };\n        \n       this.activaProce=false;\n       eventBus.$emit(\"cargaStoreProcedure\", camposTareas);  \n    }, \n\n///////////////////////////////////////////////////////////////////\n\n callTareaAtender(datosProceso) \n  {  //ERP_DISTRITOS \n // Consigue las tareas o procesos del usuario tiene pendiente\nconsole.log(\"datos PARA RECUPERAR TAREA\",JSON.stringify(datosProceso));\n\n     let Credencial = localStorage.getItem('paseKey'); \n        //se desencripta credencial\n      Credencial = this.aesDencrypt(Credencial) ; \n        \n   let profileGuardado=this.cprofile;\n   \n   try{  \n      if (profileGuardado.Credencial>\"0\") \n            profileGuardado=this.cprofile;\n      \n   }\n\n   catch(error) {\n       profileGuardado=this.cprofile[0];\n         \n     } \n \n\n  let camposTareas={\n        Credencial:Credencial,\n        ObjectId:\"526\",   \n        DML:'SJM',\n       tipoRespuestaProc:\"X\",\n       Username:profileGuardado.Username, \n       interfase:\"I\", \n\n       camposProce:[{\n                  \"NOMBRE_CAMPO\": \"PARAM1\",\n                  \"NOMBRE_INTERNO\": \"PARAM1\",\n                  \"VALOR\":datosProceso[0].hilo,\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"1\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                },\n                {\n                  \"NOMBRE_CAMPO\": \"PARAM2\",\n                  \"NOMBRE_INTERNO\": \"PARAM2\",\n                  \"VALOR\":datosProceso[0].dpto,\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"2\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                }, \n\n                {\n                  \"NOMBRE_CAMPO\": \"PARAM3\",\n                  \"NOMBRE_INTERNO\": \"PARAM3\",\n                   \"VALOR\":datosProceso[0].hiloActivo,\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"2\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                } , \n\n                {\n                  \"NOMBRE_CAMPO\": \"PARAM4\",\n                  \"NOMBRE_INTERNO\": \"PARAM4\",\n                   \"VALOR\":datosProceso[0].hiloActivo,\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"2\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                } \n              ]\n        };\n        \n       console.log(\"datos PARA RECUPERAR TAREA\",JSON.stringify(camposTareas));\n       this.activaProce=false;\n       eventBus.$emit(\"cargaStoreProcedure\", camposTareas);  \n    },   \n\n\n  }, //  FIN DE METHODS\n  \n};\n\n\n",{"version":3,"sources":["BpmInbox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;;;AAIA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA","file":"BpmInbox.vue","sourceRoot":"src/divisoft/divisoftBpm","sourcesContent":["<!-- =========================================================================================\n    File Name: Email.vue\n    Description: Email Application (Inbox)\n    ----------------------------------------------------------------------------------------\n    Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\n      Author: Pixinvent\n    Author URL: http://www.themeforest.net/user/pixinvent\n========================================================================================== -->\n\n\n<template>  \n  <div   id=\"email-app\"    class=\"border border-solid d-theme-border-grey-light rounded relative overflow-hidden\"  >\n \n     <atiendeSimple v-show=\"activaEditSimple\"  :key=\"editKey\" :datosTarea=\"misCampos\" @closeSidebar=\"activaEditSimple = false\"  />\n      \n    <vs-sidebar\n    v-show=\"!activaEditSimple\"\n      class=\"items-no-padding\"\n      parent=\"#email-app\"\n      :click-not-close=\"clickNotClose\"\n      :hidden-background=\"clickNotClose\"\n      v-model=\"isEmailSidebarActive\"\n\n    > \n      <bpm-sidebar\n       v-show=\"!activaEditSimple\"\n\n        @closeSidebar=\"toggleEmailSidebar\"\n        :bpmFilter=\"bpmFilter\"\n      /> \n    </vs-sidebar>\n\n \n    <div\n      :class=\"{'sidebar-spacer': clickNotClose}\"\n      class=\"no-scroll-content border border-solid d-theme-border-grey-light border-r-0 border-t-0 border-b-0\"\n    >\n      <!-- SEARCH BAR -->  \n    \n \n<div class=\"flex border d-theme-dark-bg items-center\">\n        \n         <li  :key=\"index\"  v-for=\"(item, index) in areasBpm\"     v-show=\"!activaEditSimple\">\n              <vs-radio v-model=\"areDeTrabajo\" \n                :vs-value=\"item.IdEntidad\">{{item.NombreEntidad+\"  \"}}</vs-radio>\n         </li>\n                                          \n     </div>\n\n      <div class=\"flex border d-theme-dark-bg items-center\">\n        <feather-icon\n          class=\"md:inline-flex lg:hidden ml-4 mr-4 cursor-pointer\"\n          icon=\"icon-search\"\n          @click.stop=\"toggleEmailSidebar(true)\"\n        />\n\n        <vs-input\n          icon-no-border\n          icon=\"icon-search\"\n          size=\"large\"\n          icon-pack=\"feather\"\n          placeholder=\"Search Mail\"\n          v-model=\"searchQuery\"\n          class=\"vs-input-no-border vs-input-no-shdow-focus w-full\"\n            v-show=\"!activaEditSimple\"\n        />\n      </div>\n\n     \n  \n\n      <!-- EMAILS LIST -->   <!--  AQUI RECORRE LOS CORREOS    Y LLAMA EL CONSTRUCTOR DE CORREO EN PAGINA PRINCIPAL -->\n     \n      <component\n        :is=\"scrollbarTag\"\n        class=\"email-content-scroll-area\"\n        :settings=\"settings\"\n        ref=\"mailListPS\"\n        :key=\"$vs.rtl\"\n\n         v-show=\"!activaEditSimple\"\n      >\n       <!--  AQUI RECORRE LOS CORREOS    Y LLAMA EL CONSTRUCTOR DE CORREO EN PAGINA PRINCIPAL -->\n        <transition-group name=\"list-enter-up\" class=\"email__mails\" tag=\"ul\" appear>\n\n      \n          <li\n            class=\"cursor-pointer email__mail-item\"\n            v-for=\"(proceso, index) in misTares\"\n            :key=\"proceso.ID\"\n            \n            :style=\"{transitionDelay: (index * 0.1) + 's'}\"\n          >\n\n                  \n      <template>\n          <div class=\"mail__mail-item sm:px-4 px-2 py-6\" >\n \n            <!-- MAIL ROW 2 : MSG & ACTIONS -->\n              <div class=\"flex w-full\"> \n                  <div class=\"mail__message truncate ml-3\">\n                      <div class=\"flex border d-theme-dark-bg items-center\">\n                      <div class=\"vx-col md:w-1/3 w-full\">\n                      <vs-button line-origin=\"left\" color=\"dark\" type=\"line\" @click=\"atiendeTarea(proceso.NUM_HILO,proceso.ID,proceso.NUM_DPTO)\" >\n                        <span>Proceso#:{{ proceso.NUM_HILO  }}</span>\n                        </vs-button>\n                      </div>   \n                          <vs-button radius color=\"dark\" type=\"line\" icon=\"person_add\"><span> Usuario que Reporto:</span>\n                            <span> {{ proceso.INICIADOR  }}</span>\n                        </vs-button>\n                      \n                      <div class=\"mail-item__meta flex items-center\">\n                        \n                        <span>Asignado:{{ proceso.ASIGNACION }}</span>\n                      </div>\n                      <div class=\"vx-col md:w-1/4 w-full\">\n                        \n                      </div>  \n                      \n\n                  </div>     \n                  </div>\n              </div>\n              <!-- /MAIL ROW 2 -->\n              <!-- MAIL ROW 1 : META -->\n              <div class=\"flex w-full\">\n                \n                  <div class=\"flex w-full justify-between items-start\">\n                      <div class=\"mail__details\">\n                          \n\n                            <vs-avatar color=\"dark\" icon=\"filter_vintage\"/>\n                          \n                          <vs-button line-origin=\"left\" color=\"dark\" type=\"line\"  @click=\"atiendeTarea(proceso.NUM_HILO,proceso.ID,proceso.NUM_DPTO)\" >{{ proceso.DESCRIPCION}}</vs-button>\n                          \n                          \n                      </div>\n\n                      <div class=\"mail-item__meta flex items-center\">\n                          <span>Estado:{{ proceso.ESTADO }}</span>\n                      </div>\n                  </div>\n\n\n\n              </div>\n              <!-- /MAIL ROW 1 -->\n\n          </div>\n      </template>\n          </li>\n\n        </transition-group>\n      </component>\n\n                                            \n        <!--  Seccion Html para  agregar llamado a Procedimiento almacenado   6007 -->\n        <table class=\"table\">   \n              <tbody>        \n              <tr> \n           \n                    <td> \n                         <proceSP v-show=\"activaProce\"  /> \n                    </td> \n                   <td> \n                         \n                    </td> \n \n\n                 </tr>   \n                </tbody> \n            </table>  \n        <!-- FIN DE PROCEDIMIENTO ALMACENADO  REPLACECODIGOOBJECT  -->   \n    </div> \n\n  </div>\n</template>\n\n<script>\n\n\nimport { mapState } from \"vuex\"; //, mapMutations, mapActions\nimport { eventBus } from \"@/main\"; // para que se hablen los componentes  \nimport bpmSidebar from \"./BpmSidebar.vue\";\nimport atiendeSimple from \"./BpmEdit.vue\";\n //import bpmItem from \"./BpmItem.vue\";\nimport VuePerfectScrollbar from \"vue-perfect-scrollbar\";\nimport CryptoJS from 'crypto-js';\nimport proceSP  from \"@/divisoft/storeProcDivisoft.vue\";\n\nimport moduleDbpm from \"@/store/dBpm/moduleDbpm.js\";\n\nexport default {\n  components: \n  {\n   atiendeSimple,\n   //bpmItem,\n    bpmSidebar, \n    VuePerfectScrollbar,\n    proceSP\n  },\n\n  created() {\n    //registro el modulo para que este disponible en Store\n\n    this.$store.registerModule(\"StoreBpm\", moduleDbpm);\n    this.setSidebarWidth();\n\n    this.$store.commit(\"StoreBpm/UPDATE_MAIL_FILTER\", this.$route.params.filter); // Update Mail Filter\n\n   this.$store.dispatch(\"StoreBpm/fetchEmails\", {\n      filter: this.$route.params.filter\n    }); // Fetch Emails From API\n\n    this.$store.dispatch(\"StoreBpm/fetchMeta\"); // Fetch Unread Mails\n    this.$store.dispatch(\"StoreBpm/fetchTags\"); // Fetch Mail Tags\n\n    /// crea un bus para atender los procedimientos\n     eventBus.$on(\"datosProcedure\", (respuestaProc, objectoId) => {\n         \n         //console.log(\"lo que llega FINAL\",respuestaProc);\n\n             let error=0;\n             let tareas=\"\";\n             let mensaje = \"Proceso Exitoso\"; \n                //console.log(\"respondeaaa 501\",respuestaProc)\n\n              if (objectoId == \"501\" ||objectoId == \"526\")\n                 { \n                            \n                            tareas=respuestaProc.replace(\"<![CDATA[\",\"\");\n                            tareas=tareas.replace(\"]]>\",\"\");\n                            tareas=tareas.replace(\"<data>\",\"\");\n                            tareas=tareas.replace(\"<rows>\",\"\");\n                            tareas=tareas.replace(\"</data>\",\"\");\n                            tareas=tareas.replace(\"</rows>\",\"\");\n \n\n                        if (objectoId == \"501\" )                             \n                            { \n                            this.misTares=[];  \n                            if (tareas.length>100)\n                              this.misTares=JSON.parse(tareas);\n                            else\n                            this.misTares=[]; \n                            }                             \n                      if (objectoId == \"526\") \n                          this.misCampos=JSON.parse(tareas);\n\n                  } \n \n                    if (objectoId == \"501\" )    \n                      if (this.misTares.length==0)\n                      { \n                        this.$vs.notify({\n                        title:\"Informe de Procedimiento Almacenado\",\n                        time: 6000,\n                        text:\"No se encontraron Procesos\",\n                        color:\"success\"});\n                    }\n                 /*if (objectoId == \"526\" )    \n                      if (this.misTares.length==0)\n                      { \n                        this.$vs.notify({\n                        title:\"Informe de Procedimiento Almacenado\",\n                        time: 6000,\n                        text:\"No se encontraron Procesos\",\n                        color:\"success\"});\n                    } */  \n              \n            //   \n    \n    });\n\n  },\n  beforeDestroy() {\n    this.$store.unregisterModule(\"StoreBpm\");\n  },\n  mounted() {\n    this.traerLocalStorage();\n    this.$store.dispatch(\"StoreBpm/setEmailSearchQuery\", \"\"); \n    \n  },\n \n \n  data() {\n\n    return {\n      profile:[],\n      profileText:\"\",\n      areDeTrabajo:\"0\",\n      activaProce:false,\n      SectionBpm:\"U\",\n      activaEditSimple:false,\n      editKey:1,\n\n      misTares:[\n    {\n        \"ROWNUM\":\"1\",\n        \"ID\":0,\n        \"ID_ENTIDAD\":0,\n        \"DESCRIPCION\":\"\",\n        \"ID_USUARIO\":\"\",\n        \"NOMBRE\":\"\",\n        \"NUM_HILO\":\"02\",\n        \"HORAS_ATRASO\":0.00,\n        \"ESTADO\":\"0\",\n        \"ASIGNACION\":\"0\",\n        \"DES_ENTIDAD\":\"0\",\n        \"INICIADOR\":\"0\",\n        \"NUM_DPTO\":\"0\",\n        \"REFERENCIA\":\"0\"\n    }],\n      misCampos:[], \n\n      // FIN DIVI\n      openMailId: null,\n      selectedMails: [],\n      isSidebarActive: false,\n      showThread: false,\n      clickNotClose: true,\n      isEmailSidebarActive: true,\n      settings: {\n        maxScrollbarLength: 60,\n        wheelSpeed: 0.3\n      }, \n      //crypt\n      key : '82f2ceed4c503896c8a291e560bd4325', // change to your key\n      iv : 'sinasinasisinaaa', // change to your iv\n      \n    };\n  },\n  watch: {\n    misCampos() \n    {\n        this.activaEditSimple=true;\n        this.editKey++;\n     //  alert(\"mis watch  campos\"+JSON.stringify(this.misCampos).length);\n        this.activaEditSimple=true;\n       // eventBus.$emit(\"cargaTarea\", this.misCampos);\n    },\n    areDeTrabajo() \n    {\n       \n        this.callMisTareas(this.areDeTrabajo);\n    },\n    isSidebarActive(value) {\n    \n      if (!value) this.showThread = false;    \n    },\n\n    bpmFilter() {\n      \n       this.SectionBpm=this.$route.params.filter;\n       this.callMisTareas(this.areDeTrabajo); \n    },\n\n    windowWidth() {\n      this.setSidebarWidth();\n    }\n\n  },\n  computed: {  \n    respuestaXML() { \n        return this.$store.state.procRESPUESTAXML;  \n    },\n    bpmFilter() {\n      return this.$route.params.filter;\n    },\n    areasBpm() {\n      return this.$store.state.StoreBpm.profile.Parametros;\n    },\n    \n    cprofile: {\n      get() {\n        return this.$store.state.StoreBpm.profile;\n         \n      },\n      set(val) {\n        this.$store.dispatch(\"StoreBpm/setProfile\", val);\n       \n      }\n    },\n\n     \n    searchQuery: {\n      get() {\n        return this.$store.state.StoreBpm.mailSearchQuery;\n      },\n      set(val) {\n        this.$store.dispatch(\"StoreBpm/setEmailSearchQuery\", val);\n      }\n    },\n     \n    mails() {\n      return this.$store.getters[\"StoreBpm/filteredMails\"];\n    },\n    selectAllIcon() {\n      return this.selectedMails.length === this.mails.length\n        ? \"icon-check\"\n        : \"icon-minus\";\n    },\n    scrollbarTag() {\n      return this.$store.getters.scrollbarTag;\n    },\n    isMailSelected() {\n      return mailId => this.selectedMails.indexOf(mailId) !== -1;\n    },\n    windowWidth() {\n      return this.$store.state.windowWidth;\n    }\n  },\n\n  // METHODS   \n  methods: {\n    aesDencrypt(txt) {\n      const cipher = CryptoJS.AES.decrypt(txt, CryptoJS.enc.Utf8.parse(this.key), {\n        iv: CryptoJS.enc.Utf8.parse(this.iv),\n        mode: CryptoJS.mode.CBC\n      })\n\n      return CryptoJS.enc.Utf8.stringify(cipher).toString()\n    },\n\n    atiendeTarea(philo,philoActivo,pdpto) {\n      //LLAMA BUS \n    //  alert(philo+\"  \"+philoActivo+\"  \"+pdpto);\n\n      let datosProceso=[{\n          hilo:philo,\n          hiloActivo:philoActivo,\n          dpto:pdpto\n\n      }]\n     this.callTareaAtender(datosProceso)\n     \n    },\n    ///RECUERA LA CONEXION \n    traerLocalStorage(){\n      //local storage\n      console.log(\"profile guardado\",this.cprofile)\n      let profileGuardado=this.cprofile;\n      if (profileGuardado!=null)\n         profileGuardado=this.cprofile[0];\n\n\n      if (profileGuardado.Credencial==\"0\" ||profileGuardado.Credencial==\"\" || profileGuardado.Credencial==null)\n      {\n      if (localStorage.getItem('profile')){\n\n         let profileText = localStorage.getItem('profile');\n             profileText = atob(profileText); \n\n             \n\n             console.log(\"PROFILE profile\", profileText);\n       \n        this.profile  = JSON.parse( profileText);\n\n        let credencial = localStorage.getItem('paseKey');\n\n  //console.log(\"la credencial conseguida es \",credencial )\n        //se desencripta credencial\n         credencial = this.aesDencrypt(credencial) ;\n         console.log(\"la credencial conseguida es \",credencial )\n        this.profile.Credencial =  credencial ;\n\n        console.log(\"profile\", profileText );\n\n        //this.$store.dispatch(\"StoreBpm/setProfile\", val);\n        this.$store.commit(\"StoreBpm/SET_MUTSETPROFILE\",  this.profile); // Update Mail Filter\n       // this.$store.dispatch(\"StoreBpm/setProfile\", {profile: }); // Fetch Emails From API \n         \n     \n      }else{\n        this.$router.push('/pages/login').catch(() => {})\n      }\n     }   \n     else \n     alert(this.profile.Credencial)\n\n    },\n\n    updateOpenMail(mailId) {\n      this.openMailId = mailId;\n      this.isSidebarActive = true;\n    },\n     \n    removeSelectedMail(ProcesId) {\n      alert(ProcesId);\n       \n    },\n    moveTo(to) {\n       alert(to);\n    },\n    moveCurrentTo(to) {\n      this.selectedMails = [this.openMailId];\n      this.moveTo(to);\n    },\n    updateMarkUnread() {\n      const payload = { emailIds: this.selectedMails, unreadFlag: true };\n      this.$store.dispatch(\"StoreBpm/setUnread\", payload);\n      this.selectedMails = [];\n    },\n    removeOpenMail() {\n      this.selectedMails = [this.openMailId];\n      this.moveTo(\"trashed\");\n      this.isSidebarActive = false;\n    },\n     \n       \n    closeMailViewSidebar() {\n      this.isSidebarActive = false;\n    },\n    setSidebarWidth() {\n      if (this.windowWidth < 992) {\n        this.isEmailSidebarActive = this.clickNotClose = false;\n      } else {\n        this.isEmailSidebarActive = this.clickNotClose = true;\n      }\n    },\n    toggleEmailSidebar(value = false) {\n      if (!value) {\n        this.closeMailViewSidebar();\n        if (this.clickNotClose) {\n          return;\n        }\n      }\n      this.isEmailSidebarActive = value;\n    },\n\n\n/////////////////////////////////////////////////////////////////////////////\n  callMisTareas(areaControlada) \n  {  //ERP_DISTRITOS \n // Consigue las tareas o procesos del usuario tiene pendiente\n\n     let Credencial = localStorage.getItem('paseKey'); \n        //se desencripta credencial\n      Credencial = this.aesDencrypt(Credencial) ; \n        \n   let profileGuardado=this.cprofile;\n   \n   try{  \n      if (profileGuardado.Credencial>\"0\") \n            profileGuardado=this.cprofile;\n      \n   }\n\n   catch(error) {\n       profileGuardado=this.cprofile[0];\n         \n     }\n\n  let camposTareas={\n        Credencial:Credencial,\n        ObjectId:\"501\",   \n         DML:'SJM',\n         tipoRespuestaProc:\"X\",\n       Username:profileGuardado.Username, \n       interfase:\"I\", \n       camposProce:[{\n                  \"NOMBRE_CAMPO\": \"PARAM1\",\n                  \"NOMBRE_INTERNO\": \"PARAM1\",\n                  \"VALOR\": profileGuardado.Username,\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"1\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                },\n                {\n                  \"NOMBRE_CAMPO\": \"PARAM2\",\n                  \"NOMBRE_INTERNO\": \"PARAM2\",\n                  \"VALOR\": this.SectionBpm,\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"2\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                },\n               \n\n                {\n                  \"NOMBRE_CAMPO\": \"PARAM3\",\n                  \"NOMBRE_INTERNO\": \"PARAM3\",\n                   \"VALOR\": areaControlada,\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"2\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                },\n                {\n                  \"NOMBRE_CAMPO\": \"PARAM4\",\n                  \"NOMBRE_INTERNO\": \"PARAM4\",\n                   \"VALOR\": \"\",\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"2\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                },\n                {\n                  \"NOMBRE_CAMPO\": \"PARAM5\",\n                  \"NOMBRE_INTERNO\": \"PARAM5\",\n                    \"VALOR\": \"\",\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"2\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                },\n                {\n                  \"NOMBRE_CAMPO\": \"PARAM6\",\n                  \"NOMBRE_INTERNO\": \"PARAM6\",\n                   \"VALOR\": \"\",\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"2\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                },\n                {\n                  \"NOMBRE_CAMPO\": \"PARAM7\",\n                  \"NOMBRE_INTERNO\": \"PARAM7\",\n                    \"VALOR\": \"\",\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"2\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                },\n                {\n                  \"NOMBRE_CAMPO\": \"PARAM8\",\n                  \"NOMBRE_INTERNO\": \"PARAM8\",\n                   \"VALOR\": \"\",\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"2\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                },\n                {\n                  \"NOMBRE_CAMPO\": \"PARAM9\",\n                  \"NOMBRE_INTERNO\": \"PARAM9\",\n                  \"VALOR\": \"\",\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"2\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                } \n              ]\n        };\n        \n       this.activaProce=false;\n       eventBus.$emit(\"cargaStoreProcedure\", camposTareas);  \n    }, \n\n///////////////////////////////////////////////////////////////////\n\n callTareaAtender(datosProceso) \n  {  //ERP_DISTRITOS \n // Consigue las tareas o procesos del usuario tiene pendiente\nconsole.log(\"datos PARA RECUPERAR TAREA\",JSON.stringify(datosProceso));\n\n     let Credencial = localStorage.getItem('paseKey'); \n        //se desencripta credencial\n      Credencial = this.aesDencrypt(Credencial) ; \n        \n   let profileGuardado=this.cprofile;\n   \n   try{  \n      if (profileGuardado.Credencial>\"0\") \n            profileGuardado=this.cprofile;\n      \n   }\n\n   catch(error) {\n       profileGuardado=this.cprofile[0];\n         \n     } \n \n\n  let camposTareas={\n        Credencial:Credencial,\n        ObjectId:\"526\",   \n        DML:'SJM',\n       tipoRespuestaProc:\"X\",\n       Username:profileGuardado.Username, \n       interfase:\"I\", \n\n       camposProce:[{\n                  \"NOMBRE_CAMPO\": \"PARAM1\",\n                  \"NOMBRE_INTERNO\": \"PARAM1\",\n                  \"VALOR\":datosProceso[0].hilo,\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"1\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                },\n                {\n                  \"NOMBRE_CAMPO\": \"PARAM2\",\n                  \"NOMBRE_INTERNO\": \"PARAM2\",\n                  \"VALOR\":datosProceso[0].dpto,\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"2\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                }, \n\n                {\n                  \"NOMBRE_CAMPO\": \"PARAM3\",\n                  \"NOMBRE_INTERNO\": \"PARAM3\",\n                   \"VALOR\":datosProceso[0].hiloActivo,\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"2\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                } , \n\n                {\n                  \"NOMBRE_CAMPO\": \"PARAM4\",\n                  \"NOMBRE_INTERNO\": \"PARAM4\",\n                   \"VALOR\":datosProceso[0].hiloActivo,\n                  \"OPERADOR\":\"DINAMICA\",\n                  \"TIPO\": \"2\",\n                  \"FORMATO\": \"\",\n                  \"MIN\": \"\",\n                  \"MAX\": \"\",\n                  \"PLACEHOLDER\": \"\",\n                  \"VALORES\": []\n                } \n              ]\n        };\n        \n       console.log(\"datos PARA RECUPERAR TAREA\",JSON.stringify(camposTareas));\n       this.activaProce=false;\n       eventBus.$emit(\"cargaStoreProcedure\", camposTareas);  \n    },   \n\n\n  }, //  FIN DE METHODS\n  \n};\n\n\n</script>\n\n\n<style lang=\"scss\">\n  @import \"@/assets/scss/vuexy/apps/dbpms.scss\";\n</style>"]}]}