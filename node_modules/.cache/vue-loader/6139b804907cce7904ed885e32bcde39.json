{"remainingRequest":"C:\\Users\\Renan Galvan\\Desktop\\trabajos_divisoft\\tavo\\divisoftpage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Renan Galvan\\Desktop\\trabajos_divisoft\\tavo\\divisoftpage\\src\\views\\components\\extra-components\\import-export\\Export.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Renan Galvan\\Desktop\\trabajos_divisoft\\tavo\\divisoftpage\\src\\views\\components\\extra-components\\import-export\\Export.vue","mtime":1589568908208},{"path":"C:\\Users\\Renan Galvan\\Desktop\\trabajos_divisoft\\tavo\\divisoftpage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Renan Galvan\\Desktop\\trabajos_divisoft\\tavo\\divisoftpage\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Renan Galvan\\Desktop\\trabajos_divisoft\\tavo\\divisoftpage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Renan Galvan\\Desktop\\trabajos_divisoft\\tavo\\divisoftpage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport vSelect from \"vue-select\";\nimport * as datos6001 from \"./divi6001.js\";\nimport * as divilib from \"@//divisoftlibs/utilDivisoftJS.js\";\nexport default {\n  components: {\n    vSelect\n  },\n  beforeMount() {\n    //DEFINE COLUMNAS DE LA TABLA\n    this.columnDefs = datos6001.columnDefs;\n    this.headerTitle = datos6001.columnTitle;\n    this.headerVal = datos6001.columnTitle;\n\n    var defaultdatos = datos6001.datosDefault;\n    this.$store.commit(\"MUTSETDATOSDEFAULT\", defaultdatos);\n  },\n      // Cuando se monta la aplicacion\n    mounted() {\n        this.buscarDatos();\n    },\n  data() {\n    return {\n      //promt\n      activePrompt: false,\n\n      //export\n      fileName: \"\",\n      formats: [\"xlsx\", \"csv\", \"txt\"],\n      cellAutoWidth: true,\n      selectedFormat: \"xlsx\",\n      headerTitle: [], //[\"Id\", \"Email\", \"Username\", \"Name\", \"Website\"],\n      headerVal: [], //[\"id\", \"email\", \"username\", \"name\", \"website\"],\n\n\n\n      //data grid\n      users: [\n        {\n          id: 1,\n          name: \"Leanne Graham\",\n          username: \"Bret\",\n          email: \"Sincere@april.biz\",\n          website: \"hildegard.org\"\n        },\n        {\n          id: 2,\n          name: \"Ervin Howell\",\n          username: \"Antonette\",\n          email: \"Shanna@melissa.tv\",\n          website: \"anastasia.net\"\n        },\n        {\n          id: 3,\n          name: \"Clementine Bauch\",\n          username: \"Samantha\",\n          email: \"Nathan@yesenia.net\",\n          website: \"ramiro.info\"\n        },\n        {\n          id: 4,\n          name: \"Patricia Lebsack\",\n          username: \"Karianne\",\n          email: \"Julianne.OConner@kory.org\",\n          website: \"kale.biz\"\n        },\n        {\n          id: 5,\n          name: \"Chelsey Dietrich\",\n          username: \"Kamren\",\n          email: \"Lucio_Hettinger@annie.ca\",\n          website: \"demarco.info\"\n        },\n        {\n          id: 6,\n          name: \"Mrs. Dennis Schulist\",\n          username: \"Leopoldo_Corkery\",\n          email: \"Karley_Dach@jasper.info\",\n          website: \"ola.org\"\n        },\n        {\n          id: 7,\n          name: \"Kurtis Weissnat\",\n          username: \"Elwyn.Skiles\",\n          email: \"Telly.Hoeger@billy.biz\",\n          website: \"elvis.io\"\n        },\n        {\n          id: 8,\n          name: \"Nicholas Runolfsdottir V\",\n          username: \"Maxime_Nienow\",\n          email: \"Sherwood@rosamond.me\",\n          website: \"jacynthe.com\"\n        },\n        {\n          id: 9,\n          name: \"Glenna Reichert\",\n          username: \"Delphine\",\n          email: \"Chaim_McDermott@dana.io\",\n          website: \"conrad.com\"\n        },\n        {\n          id: 10,\n          name: \"Clementina DuBuque\",\n          username: \"Moriah.Stanton\",\n          email: \"Rey.Padberg@karina.biz\",\n          website: \"ambrose.net\"\n        }\n      ]\n    };\n  },\n\n  computed: {\n    getDdatosRow: {\n      get() {\n        //return this.$store.state.datosGridPhp.rows;\n        return this.$store.state.datosGrid.rows; //llena la tabla con los datos obtenidos\n      }\n    }\n  },\n  methods: {\n    exportToExcel() {\n      import(\"@/vendor/Export2Excel\").then(excel => {\n        const list = this.getDdatosRow; //users;\n        const data = this.formatObj(list);//this.formatJson(this.headerVal, list);\n        \n        excel.export_json_to_excel({\n          header: this.headerTitle,\n          data,\n          filename: this.fileName,\n          autoWidth: this.cellAutoWidth,\n          bookType: this.selectedFormat\n        });\n        this.clearFields();\n      });\n    },\n\n    formatObj(list){\n    var datos = JSON.parse(list);\n\n    datos.forEach( function(valor, indice, array) {\n      console.log(\"En el Ã­ndice \" + indice + \" hay este valor: \" + valor);\n    });\n\n\n    },\n\n\n\n\n    formatJson(filterVal, jsonData) {\n      return jsonData.map(v =>\n        filterVal.map(j => {\n          // Add col name which needs to be translated\n          // if (j === 'timestamp') {\n          //   return parseTime(v[j])\n          // } else {\n          //   return v[j]\n          // }\n        \n        return v[j];\n        })\n      );\n    },\n    clearFields() {\n      this.filename = \"\";\n      this.cellAutoWidth = true;\n      this.selectedFormat = \"xlsx\";\n    },\n\n     //TRAE DATOS PARA MOSTRAR en el Grid\n        buscarDatos: function() {\n            var origenUrl = \"O\";\n            var header = {\n                MODO: \"JJ\",\n                OBJECTID: \"6001\",\n                CREDENCIAL: \"b03cf0067b5a1bfa3363314c59695781\",\n                USERNAME: \"CMENESES\",\n                REGISTROSXPAGINA: \"5\",\n                PAGINA: \"1\",\n                ORDERBY: \"COD_CLIENTE\"\n            };\n            this.headertxt = divilib.GetHeaderString(header);\n            // arma la encabezado peticion\n            // agrego las filas\n            this.addFilas();\n            \n            \n          // RegistroNuevo Gen_CAMPOS_GRID(3)\n             var parametros = []; \n      //  FIN DE LLAVE FIJA\n  \n\n            //entrega arreglo de parametros recibe texto de parametros\n            this.paramtxt = divilib.paramArraytoStrintg(parametros);\n            //}\n            // cargo la peticion texto\n            var petTxt = { header: this.headertxt, parametros: this.paramtxt, filas: this.filastxt };\n\n            this.$store.commit(\"MUTSETURL\", \"O\");\n            this.$store.commit(\"MUTSETPETICIONTXT\", petTxt); \n            \n            var pedido = {\n                dml: \"JJ\",\n                credencial: \"b03cf0067b5a1bfa3363314c59695781\",\n                formatoenvio: \"N\",\n                formatorecibe: \"N\",\n                indicador: \"1\", //select\n                origenUrl: origenUrl\n            };\n\n            //cambia a acDsoaPrueba // acDsoa\n            this.$store.dispatch(\"acDsoa\", pedido);\n\n            //carga la ultima peticion  header parametros y addFilas\n            this.locallastheader = this.headertxt;\n            this.locallaststrParametros = this.paramtxt;\n            this.locallaststrFilas = this.filastxt;\n        },\n          // addFilas Gen_CAMPOS_GRID(1)\n        addFilas: function() {\n            var filas = [];\n            filas.push({ NOMBRE: \"COD_COMPANIA\", VALOR1: \"\", VALOR2: \"\", CDATA: \"0\" }); \n            filas.push({ NOMBRE: \"COD_CLIENTE\", VALOR1: \"\", VALOR2: \"\", CDATA: \"0\" }); \n            filas.push({ NOMBRE: \"NOM_CLIENTE\", VALOR1: \"\", VALOR2: \"\", CDATA: \"0\" }); \n            filas.push({ NOMBRE: \"TIP_IDENTIFICACION\", VALOR1: \"\", VALOR2: \"\", CDATA: \"0\" }); \n            filas.push({ NOMBRE: \"NUM_IDENTIFICACION\", VALOR1: \"\", VALOR2: \"\", CDATA: \"0\" }); \n        },\n  }\n};\n",{"version":3,"sources":["Export.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Export.vue","sourceRoot":"src/views/components/extra-components/import-export","sourcesContent":["<template>\n  <vx-card>\n    <vs-prompt\n      title=\"Export To Excel\"\n      class=\"export-options\"\n      @cancle=\"clearFields\"\n      @accept=\"exportToExcel\"\n      accept-text=\"Export\"\n      @close=\"clearFields\"\n      :active.sync=\"activePrompt\"\n    >\n      <vs-input v-model=\"fileName\" placeholder=\"Enter File Name..\" class=\"w-full\" />\n      <v-select v-model=\"selectedFormat\" :options=\"formats\" class=\"my-4\" />\n      <div class=\"flex\">\n        <span class=\"mr-4\">Cell Auto Width:</span>\n        <vs-switch v-model=\"cellAutoWidth\">Cell Auto Width</vs-switch>\n      </div>\n    </vs-prompt>\n{{getDdatosRow}}\n    <div class=\"export-table\">\n      <vs-table :data=\"users\" search>\n        <template slot=\"header\">\n          <vs-button @click=\"activePrompt=true\">Export</vs-button>\n        </template>\n\n        <template slot=\"thead\">\n          <vs-th>Email</vs-th>\n          <vs-th>Name</vs-th>\n          <vs-th>Website</vs-th>\n          <vs-th>Nro</vs-th>\n        </template>\n\n        <template >\n          <vs-tr :key=\"valor.COD_CLIENTE\" v-for=\"(valor) in getDdatosRow\">\n            <vs-td>{{ valor.DIR_EMAIL }}</vs-td>\n            <vs-td>{{ valor.NOM_CLIENTE }}</vs-td>\n            <vs-td>{{ valor.NUM_TELEFONO }}</vs-td>\n            <vs-td>{{ valor.COD_CLIENTE }}</vs-td>\n          </vs-tr>\n        </template>\n      </vs-table>\n    </div>\n  </vx-card>\n</template>\n\n<script>\nimport vSelect from \"vue-select\";\nimport * as datos6001 from \"./divi6001.js\";\nimport * as divilib from \"@//divisoftlibs/utilDivisoftJS.js\";\nexport default {\n  components: {\n    vSelect\n  },\n  beforeMount() {\n    //DEFINE COLUMNAS DE LA TABLA\n    this.columnDefs = datos6001.columnDefs;\n    this.headerTitle = datos6001.columnTitle;\n    this.headerVal = datos6001.columnTitle;\n\n    var defaultdatos = datos6001.datosDefault;\n    this.$store.commit(\"MUTSETDATOSDEFAULT\", defaultdatos);\n  },\n      // Cuando se monta la aplicacion\n    mounted() {\n        this.buscarDatos();\n    },\n  data() {\n    return {\n      //promt\n      activePrompt: false,\n\n      //export\n      fileName: \"\",\n      formats: [\"xlsx\", \"csv\", \"txt\"],\n      cellAutoWidth: true,\n      selectedFormat: \"xlsx\",\n      headerTitle: [], //[\"Id\", \"Email\", \"Username\", \"Name\", \"Website\"],\n      headerVal: [], //[\"id\", \"email\", \"username\", \"name\", \"website\"],\n\n\n\n      //data grid\n      users: [\n        {\n          id: 1,\n          name: \"Leanne Graham\",\n          username: \"Bret\",\n          email: \"Sincere@april.biz\",\n          website: \"hildegard.org\"\n        },\n        {\n          id: 2,\n          name: \"Ervin Howell\",\n          username: \"Antonette\",\n          email: \"Shanna@melissa.tv\",\n          website: \"anastasia.net\"\n        },\n        {\n          id: 3,\n          name: \"Clementine Bauch\",\n          username: \"Samantha\",\n          email: \"Nathan@yesenia.net\",\n          website: \"ramiro.info\"\n        },\n        {\n          id: 4,\n          name: \"Patricia Lebsack\",\n          username: \"Karianne\",\n          email: \"Julianne.OConner@kory.org\",\n          website: \"kale.biz\"\n        },\n        {\n          id: 5,\n          name: \"Chelsey Dietrich\",\n          username: \"Kamren\",\n          email: \"Lucio_Hettinger@annie.ca\",\n          website: \"demarco.info\"\n        },\n        {\n          id: 6,\n          name: \"Mrs. Dennis Schulist\",\n          username: \"Leopoldo_Corkery\",\n          email: \"Karley_Dach@jasper.info\",\n          website: \"ola.org\"\n        },\n        {\n          id: 7,\n          name: \"Kurtis Weissnat\",\n          username: \"Elwyn.Skiles\",\n          email: \"Telly.Hoeger@billy.biz\",\n          website: \"elvis.io\"\n        },\n        {\n          id: 8,\n          name: \"Nicholas Runolfsdottir V\",\n          username: \"Maxime_Nienow\",\n          email: \"Sherwood@rosamond.me\",\n          website: \"jacynthe.com\"\n        },\n        {\n          id: 9,\n          name: \"Glenna Reichert\",\n          username: \"Delphine\",\n          email: \"Chaim_McDermott@dana.io\",\n          website: \"conrad.com\"\n        },\n        {\n          id: 10,\n          name: \"Clementina DuBuque\",\n          username: \"Moriah.Stanton\",\n          email: \"Rey.Padberg@karina.biz\",\n          website: \"ambrose.net\"\n        }\n      ]\n    };\n  },\n\n  computed: {\n    getDdatosRow: {\n      get() {\n        //return this.$store.state.datosGridPhp.rows;\n        return this.$store.state.datosGrid.rows; //llena la tabla con los datos obtenidos\n      }\n    }\n  },\n  methods: {\n    exportToExcel() {\n      import(\"@/vendor/Export2Excel\").then(excel => {\n        const list = this.getDdatosRow; //users;\n        const data = this.formatObj(list);//this.formatJson(this.headerVal, list);\n        \n        excel.export_json_to_excel({\n          header: this.headerTitle,\n          data,\n          filename: this.fileName,\n          autoWidth: this.cellAutoWidth,\n          bookType: this.selectedFormat\n        });\n        this.clearFields();\n      });\n    },\n\n    formatObj(list){\n    var datos = JSON.parse(list);\n\n    datos.forEach( function(valor, indice, array) {\n      console.log(\"En el Ã­ndice \" + indice + \" hay este valor: \" + valor);\n    });\n\n\n    },\n\n\n\n\n    formatJson(filterVal, jsonData) {\n      return jsonData.map(v =>\n        filterVal.map(j => {\n          // Add col name which needs to be translated\n          // if (j === 'timestamp') {\n          //   return parseTime(v[j])\n          // } else {\n          //   return v[j]\n          // }\n        \n        return v[j];\n        })\n      );\n    },\n    clearFields() {\n      this.filename = \"\";\n      this.cellAutoWidth = true;\n      this.selectedFormat = \"xlsx\";\n    },\n\n     //TRAE DATOS PARA MOSTRAR en el Grid\n        buscarDatos: function() {\n            var origenUrl = \"O\";\n            var header = {\n                MODO: \"JJ\",\n                OBJECTID: \"6001\",\n                CREDENCIAL: \"b03cf0067b5a1bfa3363314c59695781\",\n                USERNAME: \"CMENESES\",\n                REGISTROSXPAGINA: \"5\",\n                PAGINA: \"1\",\n                ORDERBY: \"COD_CLIENTE\"\n            };\n            this.headertxt = divilib.GetHeaderString(header);\n            // arma la encabezado peticion\n            // agrego las filas\n            this.addFilas();\n            \n            \n          // RegistroNuevo Gen_CAMPOS_GRID(3)\n             var parametros = []; \n      //  FIN DE LLAVE FIJA\n  \n\n            //entrega arreglo de parametros recibe texto de parametros\n            this.paramtxt = divilib.paramArraytoStrintg(parametros);\n            //}\n            // cargo la peticion texto\n            var petTxt = { header: this.headertxt, parametros: this.paramtxt, filas: this.filastxt };\n\n            this.$store.commit(\"MUTSETURL\", \"O\");\n            this.$store.commit(\"MUTSETPETICIONTXT\", petTxt); \n            \n            var pedido = {\n                dml: \"JJ\",\n                credencial: \"b03cf0067b5a1bfa3363314c59695781\",\n                formatoenvio: \"N\",\n                formatorecibe: \"N\",\n                indicador: \"1\", //select\n                origenUrl: origenUrl\n            };\n\n            //cambia a acDsoaPrueba // acDsoa\n            this.$store.dispatch(\"acDsoa\", pedido);\n\n            //carga la ultima peticion  header parametros y addFilas\n            this.locallastheader = this.headertxt;\n            this.locallaststrParametros = this.paramtxt;\n            this.locallaststrFilas = this.filastxt;\n        },\n          // addFilas Gen_CAMPOS_GRID(1)\n        addFilas: function() {\n            var filas = [];\n            filas.push({ NOMBRE: \"COD_COMPANIA\", VALOR1: \"\", VALOR2: \"\", CDATA: \"0\" }); \n            filas.push({ NOMBRE: \"COD_CLIENTE\", VALOR1: \"\", VALOR2: \"\", CDATA: \"0\" }); \n            filas.push({ NOMBRE: \"NOM_CLIENTE\", VALOR1: \"\", VALOR2: \"\", CDATA: \"0\" }); \n            filas.push({ NOMBRE: \"TIP_IDENTIFICACION\", VALOR1: \"\", VALOR2: \"\", CDATA: \"0\" }); \n            filas.push({ NOMBRE: \"NUM_IDENTIFICACION\", VALOR1: \"\", VALOR2: \"\", CDATA: \"0\" }); \n        },\n  }\n};\n</script>\n"]}]}