{"remainingRequest":"C:\\proyetos2020vue\\v1.3\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\proyetos2020vue\\v1.3\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\proyetos2020vue\\v1.3\\src\\App.vue","mtime":1597271076710},{"path":"C:\\proyetos2020vue\\v1.3\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\proyetos2020vue\\v1.3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\proyetos2020vue\\v1.3\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n    mapActions\n} from \"vuex\";\nimport themeConfig from '@/../themeConfig.js'\nimport jwt from '@/http/requests/auth/jwt/index.js'\n//import io from 'socket.io-client';\nimport {\n    mapState\n} from \"vuex\";\nimport * as divilib from \"@/divisoftlibs/utilDivisoftJS.js\";\n\nexport default {\n \n    data() {\n\n        return {\n            vueAppClasses: [],\n             tokenChat:\"\",\n           \n        }\n    },\n    computed: {\n        getProfile() {\n            return this.$store.state.dsoaLogin.profile;\n        },\n        getTokenChat() {\n            return this.$store.state.dsoaLogin.token;\n\n        },\n        \n    },\n\n    watch: {\n        '$store.state.theme'(val) {\n            this.toggleClassInBody(val)\n        },\n        '$vs.rtl'(val) {\n            document.documentElement.setAttribute('dir', val ? 'rtl' : 'ltr')\n        },\n        \"getTokenChat\": function () {\n            return;\n\n        },\n         \n         \n\n    },\n    methods: {\n        ...mapActions({\n            login: \"dsoaLogin/login\",\n            loginchat: \"dsoaLogin/acLoginChat\",\n            logout: \"dsoaLogin/logout\"\n\n        }), \n      exit() {\n        this.$socket.emit('logout', this.$store.getters['dsoaLogin/user'].username);\n        this.$socket.disconnect();\n        this.logout();\n      }, \n\n        toggleClassInBody(className) {\n            if (className === 'dark') {\n                if (document.body.className.match('theme-semi-dark')) document.body.classList.remove('theme-semi-dark')\n                document.body.classList.add('theme-dark')\n            } else if (className === 'semi-dark') {\n                if (document.body.className.match('theme-dark')) document.body.classList.remove('theme-dark')\n                document.body.classList.add('theme-semi-dark')\n            } else {\n                if (document.body.className.match('theme-dark')) document.body.classList.remove('theme-dark')\n                if (document.body.className.match('theme-semi-dark')) document.body.classList.remove('theme-semi-dark')\n            }\n        },\n        setAppClasses(classesStr) {\n            this.vueAppClasses.push(classesStr)\n        },\n        handleWindowResize() {\n            this.$store.commit('UPDATE_WINDOW_WIDTH', window.innerWidth)\n\n            // Set --vh property\n            document.documentElement.style.setProperty('--vh', `${window.innerHeight * 0.01}px`)\n        },\n        handleScroll() {\n            this.$store.commit('UPDATE_WINDOW_SCROLL_Y', window.scrollY)\n        },\n\n     ////////////CHAT \n        traerLocalStorage() {\n\n            //local storage  \n            let profile = divilib.traerLocalStorage();\n\n            console.log(\"CHAT PROFILE RECUPERADO\",profile);\n            //let token   = divilib.traerLocalStorageTOKEN(); \n            console.log(\"CHAT  TOKEN RECUPERADO\",JSON.stringify(token));\n\n            let Credencial = this.getProfile[0].Credencial;\n\n            console.log(\"token Chat\",token[0].tokenCHAT+\"  y \"+profile.Credencial )\n\n\n            this.tokenChat=this.getTokenChat;\n\n            if (this.tokenChat)\n                if (this.tokenChat.length<10)\n                \n                   this.tokenChat= localStorage.getItem('profile');\n            \n    \n            if ((profile.Credencial == \"0\" && Credencial == \"0\") ||(token[0].tokenCHAT == \"0\"  && this.tokenChat==\"\"))\n              { \n                    \n                this.$router.push('/pages/login').catch(() => {})\n               } \n            else\n                if (profile.Credencial > \"0\" && Credencial == \"0\") \n                  {\n                    \n                     this.$store.commit(\"dsoaLogin/MUTSETPROFILE\", profile);\n                     \n                     this.$store.commit(\"dsoaLogin/MUTSETRESPUESTALOGINCHAT\", token);\n                     console.log(\"cargando el TOKENCHAT CON \",this.tokenChat)\n                     this.$store.commit(\"dsoaLogin/MUTSETTOKEN\", this.tokenChat);\n                    } \n                  else\n                    if   (this.tokenChat)\n                    {\n                        this.$store.commit(\"dsoaLogin/MUTSETTOKEN\", this.tokenChat);\n                        \n                     }\n\n\n            // reperar STORE TOKEN \n        },\n\n\n    },\n    mounted() {\n\n        this.toggleClassInBody(themeConfig.theme)\n        this.$store.commit('UPDATE_WINDOW_WIDTH', window.innerWidth)\n\n       // this.traerLocalStorage()\n\n        const vh = window.innerHeight * 0.01\n        // Then we set the value in the --vh custom property to the root of the document\n        document.documentElement.style.setProperty('--vh', `${vh}px`)\n  \n        try {  \n             this.$socket.connect();   \n        } catch (error) {\n            console.log(\"Error al Conectar al Socket App.vue \"+error);\n        } \n        \n\n    },\n\n    async created() {\n\n        // jwt\n        //jwt.init()\n \n        const dir = this.$vs.rtl ? 'rtl' : 'ltr'\n        document.documentElement.setAttribute('dir', dir)\n\n        window.addEventListener('resize', this.handleWindowResize)\n        window.addEventListener('scroll', this.handleScroll)\n\n        // Auth0\n        //try       { await this.$auth.renewTokens() } catch (e) { console.error(e) }\n\n    },\n    destroyed() {\n        window.removeEventListener('resize', this.handleWindowResize)\n        window.removeEventListener('scroll', this.handleScroll)\n\n    }\n}\n",{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;AAGA;;AAEA;AACA;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<!-- =========================================================================================\n  File Name: App.vue\n  Description: Main vue file - APP\n  ----------------------------------------------------------------------------------------\n  Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\n  Author: Pixinvent\n  Author URL: http://www.themeforest.net/user/pixinvent\n========================================================================================== -->\n\n<template>\n<div id=\"app\" :class=\"vueAppClasses\">\n    TOKEN CHAT:{{getTokenChat}}\n\n    <router-view @setAppClasses=\"setAppClasses\" />\n</div>\n</template>\n\n<script>\nimport {\n    mapActions\n} from \"vuex\";\nimport themeConfig from '@/../themeConfig.js'\nimport jwt from '@/http/requests/auth/jwt/index.js'\n//import io from 'socket.io-client';\nimport {\n    mapState\n} from \"vuex\";\nimport * as divilib from \"@/divisoftlibs/utilDivisoftJS.js\";\n\nexport default {\n \n    data() {\n\n        return {\n            vueAppClasses: [],\n             tokenChat:\"\",\n           \n        }\n    },\n    computed: {\n        getProfile() {\n            return this.$store.state.dsoaLogin.profile;\n        },\n        getTokenChat() {\n            return this.$store.state.dsoaLogin.token;\n\n        },\n        \n    },\n\n    watch: {\n        '$store.state.theme'(val) {\n            this.toggleClassInBody(val)\n        },\n        '$vs.rtl'(val) {\n            document.documentElement.setAttribute('dir', val ? 'rtl' : 'ltr')\n        },\n        \"getTokenChat\": function () {\n            return;\n\n        },\n         \n         \n\n    },\n    methods: {\n        ...mapActions({\n            login: \"dsoaLogin/login\",\n            loginchat: \"dsoaLogin/acLoginChat\",\n            logout: \"dsoaLogin/logout\"\n\n        }), \n      exit() {\n        this.$socket.emit('logout', this.$store.getters['dsoaLogin/user'].username);\n        this.$socket.disconnect();\n        this.logout();\n      }, \n\n        toggleClassInBody(className) {\n            if (className === 'dark') {\n                if (document.body.className.match('theme-semi-dark')) document.body.classList.remove('theme-semi-dark')\n                document.body.classList.add('theme-dark')\n            } else if (className === 'semi-dark') {\n                if (document.body.className.match('theme-dark')) document.body.classList.remove('theme-dark')\n                document.body.classList.add('theme-semi-dark')\n            } else {\n                if (document.body.className.match('theme-dark')) document.body.classList.remove('theme-dark')\n                if (document.body.className.match('theme-semi-dark')) document.body.classList.remove('theme-semi-dark')\n            }\n        },\n        setAppClasses(classesStr) {\n            this.vueAppClasses.push(classesStr)\n        },\n        handleWindowResize() {\n            this.$store.commit('UPDATE_WINDOW_WIDTH', window.innerWidth)\n\n            // Set --vh property\n            document.documentElement.style.setProperty('--vh', `${window.innerHeight * 0.01}px`)\n        },\n        handleScroll() {\n            this.$store.commit('UPDATE_WINDOW_SCROLL_Y', window.scrollY)\n        },\n\n     ////////////CHAT \n        traerLocalStorage() {\n\n            //local storage  \n            let profile = divilib.traerLocalStorage();\n\n            console.log(\"CHAT PROFILE RECUPERADO\",profile);\n            //let token   = divilib.traerLocalStorageTOKEN(); \n            console.log(\"CHAT  TOKEN RECUPERADO\",JSON.stringify(token));\n\n            let Credencial = this.getProfile[0].Credencial;\n\n            console.log(\"token Chat\",token[0].tokenCHAT+\"  y \"+profile.Credencial )\n\n\n            this.tokenChat=this.getTokenChat;\n\n            if (this.tokenChat)\n                if (this.tokenChat.length<10)\n                \n                   this.tokenChat= localStorage.getItem('profile');\n            \n    \n            if ((profile.Credencial == \"0\" && Credencial == \"0\") ||(token[0].tokenCHAT == \"0\"  && this.tokenChat==\"\"))\n              { \n                    \n                this.$router.push('/pages/login').catch(() => {})\n               } \n            else\n                if (profile.Credencial > \"0\" && Credencial == \"0\") \n                  {\n                    \n                     this.$store.commit(\"dsoaLogin/MUTSETPROFILE\", profile);\n                     \n                     this.$store.commit(\"dsoaLogin/MUTSETRESPUESTALOGINCHAT\", token);\n                     console.log(\"cargando el TOKENCHAT CON \",this.tokenChat)\n                     this.$store.commit(\"dsoaLogin/MUTSETTOKEN\", this.tokenChat);\n                    } \n                  else\n                    if   (this.tokenChat)\n                    {\n                        this.$store.commit(\"dsoaLogin/MUTSETTOKEN\", this.tokenChat);\n                        \n                     }\n\n\n            // reperar STORE TOKEN \n        },\n\n\n    },\n    mounted() {\n\n        this.toggleClassInBody(themeConfig.theme)\n        this.$store.commit('UPDATE_WINDOW_WIDTH', window.innerWidth)\n\n       // this.traerLocalStorage()\n\n        const vh = window.innerHeight * 0.01\n        // Then we set the value in the --vh custom property to the root of the document\n        document.documentElement.style.setProperty('--vh', `${vh}px`)\n  \n        try {  \n             this.$socket.connect();   \n        } catch (error) {\n            console.log(\"Error al Conectar al Socket App.vue \"+error);\n        } \n        \n\n    },\n\n    async created() {\n\n        // jwt\n        //jwt.init()\n \n        const dir = this.$vs.rtl ? 'rtl' : 'ltr'\n        document.documentElement.setAttribute('dir', dir)\n\n        window.addEventListener('resize', this.handleWindowResize)\n        window.addEventListener('scroll', this.handleScroll)\n\n        // Auth0\n        //try       { await this.$auth.renewTokens() } catch (e) { console.error(e) }\n\n    },\n    destroyed() {\n        window.removeEventListener('resize', this.handleWindowResize)\n        window.removeEventListener('scroll', this.handleScroll)\n\n    }\n}\n</script>\n"]}]}