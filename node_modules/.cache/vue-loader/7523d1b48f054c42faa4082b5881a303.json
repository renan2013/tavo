{"remainingRequest":"D:\\proyetos2020vue\\TAVOCR\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\proyetos2020vue\\TAVOCR\\src\\views\\pages\\login\\LoginDsoa.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\proyetos2020vue\\TAVOCR\\src\\views\\pages\\login\\LoginDsoa.vue","mtime":1602957339927},{"path":"D:\\proyetos2020vue\\TAVOCR\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\proyetos2020vue\\TAVOCR\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\proyetos2020vue\\TAVOCR\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\proyetos2020vue\\TAVOCR\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\proyetos2020vue\\TAVOCR\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.disabled {\n    pointer-events: none;\n    opacity: 0.6;\n}\n",{"version":3,"sources":["LoginDsoa.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkSA;AACA;AACA;AACA","file":"LoginDsoa.vue","sourceRoot":"src/views/pages/login","sourcesContent":["<!-- =========================================================================================\n    File Name: LoginDsoa.vue\n    Description: Login Dsoa\n    ----------------------------------------------------------------------------------------\n========================================================================================== -->\n\n<template>\n<div>\n    <br />\n\n    <vs-alert :active=\"inputValid\" :color=\"AlertColor\" class=\"text-dark mt-5\"> {{mensajeLogin}} </vs-alert>\n \n    <vs-input v-validate=\"'required|min:1'\" data-vv-validate-on=\"blur\" name=\"email\" icon-no-border icon=\"icon icon-user\" icon-pack=\"feather\" label-placeholder=\"Usuario\" v-model=\"username\" class=\"w-full\" />\n    <span class=\"text-danger text-sm\">{{ errors.first('email') }}</span>\n    <br />\n    <vs-input data-vv-validate-on=\"blur\" v-validate=\"'required|min:1|max:15'\" type=\"password\" name=\"password\" icon-no-border icon=\"icon icon-lock\" icon-pack=\"feather\" label-placeholder=\"Contrase침a\" v-model=\"password\" class=\"w-full mt-6\" v-on:change=\"onchangeConsiguePass\" />\n    <span class=\"text-danger text-sm\">{{ errors.first('password') }}</span>\n\n    <div class=\"flex flex-wrap justify-between my-5\">\n        <vs-button v-show=\"username\" :disabled=\"!validateUsername\" @click=\"inicioSesion('U')\" color=\"rgb(11, 189, 135)\" type=\"flat\">Olvidar Contrase침a</vs-button>\n    </div>\n\n    <div class=\"flex flex-wrap justify-between mb-3\">\n        <vs-button type=\"border\" @click=\"registerUser\">Registrarse</vs-button>\n        <vs-button :disabled=\"!validateForm\" @click=\"inicioSesionPrevia('L')\">Ingresar</vs-button>\n    </div>\n</div>\n</template>\n\n<script>\nimport * as divilib from \"@/divisoftlibs/utilDivisoftJS.js\";\nimport router from '@/router'\n\nexport default {\n    data() {\n        return {\n            action:\"L\",\n            username: \"TAVO2020\",\n            password: \"123456\", // en B64  RrQK8n/T0OM=\n            checkbox_remember_me: false,\n            paramtxt: \"\",\n            headertxt: \"\",\n            AlertColor: \"primary\",\n            mensajeLogin: \"\"\n        };\n    },\n\n    created() {\n        //BUSCA IP\n         \n        this.$store.commit(\"dsoaLogin/MUTSETENCRIPTA\", \"\");\n        this.$store.dispatch(\"dsoaLogin/acLoginGetip\");\n        \n    },\n\n    watch: {\n        \"getEncripta\":function () {\n          \n          if (this.getEncripta.length>5)\n              this.inicioSesion(this.action,this.getEncripta);\n        },\n\n        \"getProfile\": function () {\n\n            \n\n            if (this.getProfile.Celular > \"0\")\n                router.push('/pages/forgot-password').catch(() => {})\n            else\n                this.$vs.notify({\n                    title: 'GoP informa',\n\n                    text: \"Usuario No Existe o no Tiene Celular registrado \",\n                    iconPack: \"feather\",\n                    icon: \"icon-alert-circle\",\n                    color: \"warning\"\n                });\n\n        },\n\n        // SI HAY PROMPT\n        \"getErrorLogin\": function () {\n\n            if (this.getErrorLogin != \"0\")\n\n                if (this.getErrorLogin == \"1002\") {\n                    this.mensajeLogin = \"Hay un proceso de Recuperacion de Clave Iniciado, Debe de Concluirlo \";\n\n                    this.$vs.notify({\n                        title: 'GoP informa',\n                        text: \"Hay un proceso de Recuperacion de Clave Iniciado, Debe de Concluirlo \",\n                        iconPack: \"feather\",\n                        icon: \"icon-alert-circle\",\n                        color: \"warning\"\n                    });\n                }\n            else {\n                this.$vs.notify({\n                    title: 'GoP informa',\n\n                    text: \"Se ha producido un error en Login \",\n                    iconPack: \"feather\",\n                    icon: \"icon-alert-circle\",\n                    color: \"warning\"\n                });\n            }\n\n        }\n    },\n    computed: { \n        inputValid() {\n\n            if (this.getErrorLogin > \"0\") {\n\n                this.AlertColor = \"danger\"\n\n                if (this.getErrorLogin == \"1002\")\n                    this.mensajeLogin = \"Hay un proceso de Recuperacion de Clave Iniciado, Debe de Concluirlo \";\n                else\n                    this.mensajeLogin = \"Error en el Ingreso Credenciales Invalidas\";\n\n                return true\n\n            } else {\n                return false\n            }\n        },\n        getRuta() {\n            return process.env.VUE_APP_ENCRIPTA\n        },\n        // recupera el profile\n        getProfile() {\n            return this.$store.state.profile;\n        },\n        // escucha si el login  respondio error \n        getErrorLogin() {\n            return this.$store.state.dsoaLogin.errorProfile;\n        },\n\n        validateForm() {\n            return !this.errors.any() && this.email !== \"\" && this.password !== \"\";\n        },\n        validateUsername() {\n            return !this.errors.any() && this.email !== \"\";\n        },\n        getPublicIp() {\n            return this.$store.state.dsoaLogin.myPublicIP;\n        },\n        getEncripta() {\n\n            return this.$store.state.dsoaLogin.respuestaEncriptado;\n        }\n    },\n    methods: {\n        inicioSesionPrevia: function (indicadorTipoLogin)\n         {\n\n            this.action=indicadorTipoLogin; \n            this.$store.dispatch(\"dsoaLogin/acLoginEncripta\", this.password);\n\n         },\n        onchangeConsiguePass() {\n            //GO_SHOPMARCA\n           // this.$store.dispatch(\"dsoaLogin/acLoginEncripta\", this.password);\n\n        }, // METODO busca clave\n\n\n        //funci칩n para iniciar sesi칩n\n        inicioSesion: function (indicadorTipoLogin,clave) {\n            var origenUrl = \"O\";\n            \n\n            var header = {\n                MODO: \"E\",\n                OBJECTID: \"97\",\n                CREDENCIAL: \"REPLACECREDENCIAL\",\n                USERNAME: this.username,\n                REGISTROSXPAGINA: \"\",\n                PAGINA: \"\",\n                ORDERBY: \"\"\n            };\n\n            //crea SdtLogin\n            var SdtLogin = {\n                action: indicadorTipoLogin,\n                username: this.username,\n                password: clave,\n                direccionIP: this.getPublicIp,\n                conexionADM: \"security\",\n                credencial: \"REPLACECREDENCIAL\",\n                celular: \"\",\n                email: \"\",\n                nombre: \"\",\n                empresa: \"100003\",\n                passwordOld: \"\",\n                keySecurity: \"\"\n            };\n            if (clave.length < 5) {\n                 \n                this.$vs.notify({\n                    title: \"Login\",\n                    text: \"Clave no Correcta\",\n                    iconPack: \"feather\",\n                    icon: \"icon-alert-circle\",\n                    color: \"warning\"\n                });\n\n                return false;\n            }\n\n            var loginR = divilib.GetSdtLoginString(SdtLogin);\n \n\n            //crea parametros\n            var parametros = [];\n            var parametro1 = {\n                NOMBRE: \"XML_SOLICITUD\",\n                OPERADOR: \"=\",\n                VALOR1: loginR,\n                VALOR2: \"\",\n                CDATA: \"1\"\n            };\n            parametros.push(parametro1);\n\n            //entrega arreglo de parametros recibe texto de parametros\n            this.paramtxt = divilib.paramArraytoStrintg(parametros);\n            this.headertxt = divilib.GetHeaderString(header);\n\n            //Crea peticion\n            var petTxt = {\n                header: this.headertxt,\n                parametros: this.paramtxt,\n                filas: \"\"\n            };\n\n            this.$store.commit(\"dsoaLogin/MUTSETURL\", \"O\");\n            this.$store.commit(\"dsoaLogin/MUTSETPETICIONTXT\", petTxt);\n\n            //agregar usuario a la hora\n            var horaNumerico = Date.now();\n            console.log(\"The time elapsed in millisecond is: \" + horaNumerico);\n\n            //Crea pedido\n            var pedido = {\n                dml: \"E\",\n                ObjectId: \"97\",\n                credencial: horaNumerico,\n                formatoenvio: \"N\",\n                formatorecibe: \"N\",\n                indicador: \"6\", //LOGIN\n                origenUrl: origenUrl,\n                tipoLogin: indicadorTipoLogin\n\n            };\n            //llama action\n             \n            this.$store.commit(\"dsoaLogin/MUTSETENCRIPTA\", \"\");\n            this.$store.dispatch(\"dsoaLogin/acLoginDsoa\", pedido);\n\n            \n        },\n\n        checkLogin() {\n            // If user is already logged in notify\n            if (this.$store.state.dsoaLogin.isUserLoggedIn()) {\n                // Close animation if passed as payload\n                // this.$vs.loading.close()\n\n                this.$vs.notify({\n                    title: \"Login Attempt\",\n                    text: \"You are already logged in!\",\n                    iconPack: \"feather\",\n                    icon: \"icon-alert-circle\",\n                    color: \"warning\"\n                });\n\n                return false;\n            }\n            return true;\n        },\n\n        registerUser() {\n            this.$router.push(\"/pages/register\").catch(() => {});\n        }\n    }\n};\n</script>\n\n<style>\n.disabled {\n    pointer-events: none;\n    opacity: 0.6;\n}\n</style>\n"]}]}