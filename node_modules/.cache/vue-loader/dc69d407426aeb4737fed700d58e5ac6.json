{"remainingRequest":"E:\\Oficina\\PROYECTO TAVO\\TAVOCR\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Oficina\\PROYECTO TAVO\\TAVOCR\\src\\divisoft\\filtrosDivisoft.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Oficina\\PROYECTO TAVO\\TAVOCR\\src\\divisoft\\filtrosDivisoft.vue","mtime":1600980942000},{"path":"E:\\Oficina\\PROYECTO TAVO\\TAVOCR\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\Oficina\\PROYECTO TAVO\\TAVOCR\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Oficina\\PROYECTO TAVO\\TAVOCR\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport VuePerfectScrollbar from \"vue-perfect-scrollbar\";\nimport * as divilib from \"@/divisoftlibs/utilDivisoftJS.js\";\n//import { mapState } from \"vuex\";\n\nexport default {\n    props: {\n        header: {\n            // header Es recibido del padre\n            type: String,\n            required: true\n        },\n\n        filtros: {\n            // filtros por tabla  es para armar los campos que son buscadores\n            type: Array,\n            required: true\n        },\n\n        isSidebarActive: {\n            type: Boolean,\n            required: true\n        },\n        filas: {\n            // filtros por tabla, un xml listo de las mismas filas del padre.\n            type: String,\n            required: true\n        },\n        ObjectID: {\n            // filtros por tabla, un xml listo de las mismas filas del padre.\n            type: Number,\n            required: false\n        }\n    },\n\n    data() {\n        return {\n            datosaqui: true,\n            parametros: [],\n\n            paramtxt: \"\",\n            locallastheader: \"\", //guarda el ultimo header de este objeto\n            locallaststrParametros: \"\", //guarda el ultimo  parametros de este objeto\n            locallaststrFilas: \"\" //guarda el ultimo filas de este objeto\n        };\n    },\n    computed: {\n        isSidebarActiveLocal: {\n            get() {\n                return this.isSidebarActive;\n            },\n            set(val) {\n                if (!val) {\n                    this.$emit(\"closeSidebar\");\n                    //this.initValues();\n                }\n            }\n        },\n        getProfile() {\n            return this.$store.state.dsoaLogin.profile[0];\n        },\n    },\n    methods: {\n        //TRAE DATOS PARA MOSTRAR EN TABLA\n\n        ejecutaBusqueda: function () {\n            var origenUrl = \"O\";\n\n            if (this.getProfile.Username == null) {\n                this.$vs.notify({\n                    title: \"Informe de Procedimiento Almacenado\",\n                    time: 6000,\n                    text: \"Usuario No esta Identificado\",\n                    color: \"warning\"\n                });\n                this.$emit('closeSidebar');\n            }\n            if (this.getProfile.Credencial == null) {\n                this.$vs.notify({\n                    title: \"Informe de Procedimiento Almacenado\",\n                    time: 6000,\n                    text: \"No tiene Autorizacion de Ejecucion o Credencial No presente \",\n                    color: \"warning\"\n                });\n                this.$emit('closeSidebar');\n                reurn;\n            }\n\n            // PREPARANDO PARAMETROS\n            // recorro los  parametros y sus Valores\n\n            //agrego los parametros\n            let parametros = [];\n\n            let parametro1 = {}; \n\n            //var xmlParametros = \"\";\n            let  contador = 0;\n            this.filtros.forEach(function callback(item) {\n                if (item.VALOR.length > 0) {\n                    parametro1 = {\n                        NOMBRE: item.NOMBRE_INTERNO,\n                        OPERADOR: item.OPERADOR,\n                        VALOR1: item.VALOR,\n                        VALOR2: \"\",\n                        CDATA: \"0\"\n                    };\n                    parametros.push(parametro1);\n                    contador++;\n                }\n                // tu iterador\n            });\n            //entrega arreglo de parametros recibe texto de parametros\n            this.paramtxt = divilib.paramArraytoStrintg(parametros);\n            // de add parametros\n            this.$store.commit(\"MUTSETURL\", \"O\");\n            // carga los parametros\n            var petFiltro = {\n                header: this.header,\n                parametros: this.paramtxt,\n                filas: this.filas\n            };\n            this.$store.commit(\"MUTSETPETICIONTXT\", petFiltro);\n\n            var pedido = {\n                dml: \"JJ\",\n                Credencial: this.getProfile.Credencial,\n                 ObjectId: this.ObjectID,\n                formatoenvio: \"N\",\n                formatorecibe: \"N\",\n                indicador: \"1\", // CRUD\n                origenUrl: origenUrl\n            };\n \n            //cambia a acDsoaPrueba // acDsoa\n            this.$store.dispatch(\"acDsoa\", pedido);\n\n            this.locallastheader = this.header;\n            this.locallaststrParametros = this.paramtxt;\n            this.locallaststrFilas = this.filas;\n\n            this.$emit(\"ajustaUltimoParam\", this.paramtxt);\n            this.$emit(\"closeSidebar\");\n        } // fin de  metodo\n    }, // fin de  methods\n    components: {\n        VuePerfectScrollbar\n    }\n};\n",{"version":3,"sources":["filtrosDivisoft.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"filtrosDivisoft.vue","sourceRoot":"src/divisoft","sourcesContent":["<!-- =========================================================================================\n  File Name: AddNewDataSidebar.vue\n  Description: Add New Data - Sidebar component\n  ----------------------------------------------------------------------------------------\n  Item Name: Vuesax Admin - VueJS Dashboard Admin Template\n  Author: Pixinvent\n  Author URL: http://www.themeforest.net/user/pixinvent\n========================================================================================== -->\n \n<template>\n<div id=\"data-list-list-view\" class=\"vx-col md:w-1/2 w-full mb-base\">\n\n    <vs-sidebar click-not-close position-right parent=\"body\" default-index=\"1\" color=\"primary\" class=\"add-new-data-sidebar items-no-padding\" spacer v-model=\"isSidebarActiveLocal\">\n        <div class=\"mt-6 flex items-center justify-between px-6\">\n            <h4>Nueva Busqueda</h4>\n            {{ObjectID}}\n            <feather-icon icon=\"XIcon\" @click.stop=\"isSidebarActiveLocal = false\" class=\"cursor-pointer\"></feather-icon>\n        </div>\n        <vs-divider class=\"mb-0\"></vs-divider>\n        <VuePerfectScrollbar class=\"scroll-area--data-list-add-new pt-4 pb-6\">\n            <div class=\"p-6\">\n                <!-- CAMPOS BUSQUEDA -->\n                <table class=\"table\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\">Campo</th>\n                            <th scope=\"col\">Operador</th>\n                            <th scope=\"col\">Valor</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr :key=\"indextr\" v-for=\"(item, indextr) in filtros\">\n                            <td>{{item.NOMBRE_CAMPO}}</td>\n                            <td>\n                                <select class=\"custom-select\" id=\"inputGroupSelect01\" v-model=\" item.OPERADOR\">\n                                    <option :key=\"item2.TIPO\" :value=\"item2.TIPO\" :text=\"item2.LABEL\" v-for=\"item2 in item.TIPO_FILTRO\">{{item2.LABEL}}</option>\n                                </select>\n                            </td>\n                            <td>\n                                <input type=\"text\" class=\"form-control\" placeholder=\"Ingrese el valor\" v-model=\"item.VALOR\" />\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n                <button type=\"submit\" class=\"btn btn-primary\" @click=\"ejecutaBusqueda\">Buscar</button>\n            </div>\n        </VuePerfectScrollbar>\n    </vs-sidebar>\n</div>\n</template>\n\n \n<script>\nimport VuePerfectScrollbar from \"vue-perfect-scrollbar\";\nimport * as divilib from \"@/divisoftlibs/utilDivisoftJS.js\";\n//import { mapState } from \"vuex\";\n\nexport default {\n    props: {\n        header: {\n            // header Es recibido del padre\n            type: String,\n            required: true\n        },\n\n        filtros: {\n            // filtros por tabla  es para armar los campos que son buscadores\n            type: Array,\n            required: true\n        },\n\n        isSidebarActive: {\n            type: Boolean,\n            required: true\n        },\n        filas: {\n            // filtros por tabla, un xml listo de las mismas filas del padre.\n            type: String,\n            required: true\n        },\n        ObjectID: {\n            // filtros por tabla, un xml listo de las mismas filas del padre.\n            type: Number,\n            required: false\n        }\n    },\n\n    data() {\n        return {\n            datosaqui: true,\n            parametros: [],\n\n            paramtxt: \"\",\n            locallastheader: \"\", //guarda el ultimo header de este objeto\n            locallaststrParametros: \"\", //guarda el ultimo  parametros de este objeto\n            locallaststrFilas: \"\" //guarda el ultimo filas de este objeto\n        };\n    },\n    computed: {\n        isSidebarActiveLocal: {\n            get() {\n                return this.isSidebarActive;\n            },\n            set(val) {\n                if (!val) {\n                    this.$emit(\"closeSidebar\");\n                    //this.initValues();\n                }\n            }\n        },\n        getProfile() {\n            return this.$store.state.dsoaLogin.profile[0];\n        },\n    },\n    methods: {\n        //TRAE DATOS PARA MOSTRAR EN TABLA\n\n        ejecutaBusqueda: function () {\n            var origenUrl = \"O\";\n\n            if (this.getProfile.Username == null) {\n                this.$vs.notify({\n                    title: \"Informe de Procedimiento Almacenado\",\n                    time: 6000,\n                    text: \"Usuario No esta Identificado\",\n                    color: \"warning\"\n                });\n                this.$emit('closeSidebar');\n            }\n            if (this.getProfile.Credencial == null) {\n                this.$vs.notify({\n                    title: \"Informe de Procedimiento Almacenado\",\n                    time: 6000,\n                    text: \"No tiene Autorizacion de Ejecucion o Credencial No presente \",\n                    color: \"warning\"\n                });\n                this.$emit('closeSidebar');\n                reurn;\n            }\n\n            // PREPARANDO PARAMETROS\n            // recorro los  parametros y sus Valores\n\n            //agrego los parametros\n            let parametros = [];\n\n            let parametro1 = {}; \n\n            //var xmlParametros = \"\";\n            let  contador = 0;\n            this.filtros.forEach(function callback(item) {\n                if (item.VALOR.length > 0) {\n                    parametro1 = {\n                        NOMBRE: item.NOMBRE_INTERNO,\n                        OPERADOR: item.OPERADOR,\n                        VALOR1: item.VALOR,\n                        VALOR2: \"\",\n                        CDATA: \"0\"\n                    };\n                    parametros.push(parametro1);\n                    contador++;\n                }\n                // tu iterador\n            });\n            //entrega arreglo de parametros recibe texto de parametros\n            this.paramtxt = divilib.paramArraytoStrintg(parametros);\n            // de add parametros\n            this.$store.commit(\"MUTSETURL\", \"O\");\n            // carga los parametros\n            var petFiltro = {\n                header: this.header,\n                parametros: this.paramtxt,\n                filas: this.filas\n            };\n            this.$store.commit(\"MUTSETPETICIONTXT\", petFiltro);\n\n            var pedido = {\n                dml: \"JJ\",\n                Credencial: this.getProfile.Credencial,\n                 ObjectId: this.ObjectID,\n                formatoenvio: \"N\",\n                formatorecibe: \"N\",\n                indicador: \"1\", // CRUD\n                origenUrl: origenUrl\n            };\n \n            //cambia a acDsoaPrueba // acDsoa\n            this.$store.dispatch(\"acDsoa\", pedido);\n\n            this.locallastheader = this.header;\n            this.locallaststrParametros = this.paramtxt;\n            this.locallaststrFilas = this.filas;\n\n            this.$emit(\"ajustaUltimoParam\", this.paramtxt);\n            this.$emit(\"closeSidebar\");\n        } // fin de  metodo\n    }, // fin de  methods\n    components: {\n        VuePerfectScrollbar\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.add-new-data-sidebar {\n    /deep/ .vs-sidebar--background {\n        z-index: 52010;\n    }\n\n    /deep/ .vs-sidebar {\n        z-index: 52010;\n        width: 50%;\n        max-width: 90vw;\n    }\n}\n</style>\n"]}]}