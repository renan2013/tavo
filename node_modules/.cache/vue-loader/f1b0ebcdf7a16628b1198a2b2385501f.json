{"remainingRequest":"D:\\proyetos2020vue\\v1.3\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\proyetos2020vue\\v1.3\\src\\views\\pages\\login\\OlvidarClave.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\proyetos2020vue\\v1.3\\src\\views\\pages\\login\\OlvidarClave.vue","mtime":1593014025442},{"path":"D:\\proyetos2020vue\\v1.3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\proyetos2020vue\\v1.3\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\proyetos2020vue\\v1.3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\proyetos2020vue\\v1.3\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport * as divilib from \"@/divisoftlibs/utilDivisoftJS.js\";\n\nexport default {\n    created()\n    {\n        this.CUATRODIGITOS=\"**\"+this.getProfile.Celular.substring(6,8);\n        this.NUM_CELULAR=this.getProfile.Celular;\n\n        this.ID_USUARIO=this.getProfile.Username;\n\n    },\n\n      watch: {\n\n      \"getProfile\": function () {\n\n           if (this.getProfile.Credencial==\"R_CORRECTO\"  )\n           { \n            \n\n\n            this.$vs.notify({\n                 title: 'GoP informa', \n                 text: \"Se le ha enviado un Email a su correo Registrado\",\n                 iconPack: \"feather\",\n                 icon: \"icon-alert-circle\",\n                 color: \"success\"\n              });\n                          this.mensajeLogin=\"Se le ha enviado un Email a su correo Registrado\";\n                }\n                \n          },\n \n          // SI HAY PROMPT\n          \"getErrorLogin\": function () {\n\n              if (this.getErrorLogin != \"0\") \n              \n                this.$vs.notify({\n               title: 'GoP informa',\n               \n                text: \"Se ha producido un error en Login \",\n                iconPack: \"feather\",\n                icon: \"icon-alert-circle\",\n                color: \"warning\"\n              });\n               \n \n          }\n     },\n    data() {\n        return {\n            //se carga con un computado o un prop desde el otro componente\n            celular: \"****-\",\n            ID_USUARIO: \"\",\n            CUATRODIGITOS:\"\",\n            NUM_CELULAR: \"\",\n            RECUPERAR:false,\n             mensajeLogin:\"...\",\n              AlertColor:\"primary\",\n        };\n    },\n    computed: {\n\n    inputValid() { \n       if (this.getProfile.Credencial==\"R_CORRECTO\"  ) {\n          this.AlertColor=\"success\"\n         this.mensajeLogin=\"Se le ha enviado un Email a su correo Registrado\"\n         \n\n      } else \n      {\n         this.mensajeLogin=\"Error en el ejecutar las acciones de recuperacion de clave\"\n         this.AlertColor=\"warning\"\n         return false;\n      }\n       return true\n    },\n\n         getProfile() {\n            return this.$store.state.dsoaLogin.profile;\n        },\n        getErrorLogin() {\n           return this.$store.state.dsoaLogin.errorProfile;\n         },\n        validateForm() {\n            return !this.errors.any() && this.NUM_CELULAR !== ''\n        }\n    },\n    methods: {\n        //función para iniciar sesión\n        onchangeVerificaCelular() {\n             if (this.CUATRODIGITOS== this.NUM_CELULAR.substring(4,8) )\n                 this.RECUPERAR=true;\n             else\n               this.RECUPERAR=false;\n            \n\n        },\n\n     recuperarClave: function (indicadorTipoLogin)  {\n              //función para iniciar sesión\n       this.mensajeLogin=\"Procesando....\"       \n      var origenUrl = \"O\"; \n      this.password = \"NA\"; //A en B64 \n      var header = {\n        MODO: \"E\",\n        OBJECTID: \"97\",\n        CREDENCIAL: \"REPLACECREDENCIAL\",\n        USERNAME: this.username,\n        REGISTROSXPAGINA: \"\",\n        PAGINA: \"\",\n        ORDERBY: \"\"\n      };\n\n      //crea SdtLogin\n      var SdtLogin = {\n        action: indicadorTipoLogin,\n        username: this.ID_USUARIO,\n        password: \"NA\",\n        direccionIP: this.getPublicIp,\n        conexionADM: \"security\",\n        credencial: \"NA\",\n        celular: \"\",\n        email: \"\",\n        nombre: \"\",\n        empresa: \"\",\n        passwordOld: \"\",\n        keySecurity: \"\"\n      };\n\n      var loginR = divilib.GetSdtLoginString(SdtLogin);\n\n      //crea parametros\n      var parametros = [];\n\n      var parametro1 = {\n                NOMBRE: \"XML_SOLICITUD\",\n                OPERADOR: \"=\",\n                VALOR1: loginR,\n                VALOR2: \"\",\n                CDATA: \"1\"\n      };\n      parametros.push(parametro1);\n\n      //entrega arreglo de parametros recibe texto de parametros\n      this.paramtxt = divilib.paramArraytoStrintg(parametros);\n      this.headertxt = divilib.GetHeaderString(header);\n\n      //Crea peticion\n      var petTxt = {\n        header: this.headertxt,\n        parametros: this.paramtxt,\n        filas: \"\"\n      };\n\n      this.$store.commit(\"dsoaLogin/MUTSETURL\", \"O\");\n      this.$store.commit(\"dsoaLogin/MUTSETPETICIONTXT\", petTxt);\n\n      //agregar usuario a la hora\n      var horaNumerico = Date.now();\n      console.log(\"The time elapsed in millisecond is: \" + horaNumerico);\n     \n\n      //Crea pedido\n      var pedido = {\n        dml: \"E\",\n        ObjectId: \"97\",\n        credencial: horaNumerico,\n        formatoenvio: \"N\",\n        formatorecibe: \"N\",\n        indicador: \"6\", //LOGIN\n        origenUrl: origenUrl,\n        tipoLogin: indicadorTipoLogin\n\n      }; \n      //llama action\n      this.$store.dispatch(\"dsoaLogin/acLoginDsoa\", pedido);\n    },\n    }\n};\n",{"version":3,"sources":["OlvidarClave.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"OlvidarClave.vue","sourceRoot":"src/views/pages/login","sourcesContent":["<!-- =========================================================================================\n    File Name: ForgotPassword.vue\n    Description: FOrgot Password Page\n    ----------------------------------------------------------------------------------------\n    Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\n      Author: Pixinvent\n    Author URL: http://www.themeforest.net/user/pixinvent\n========================================================================================== -->\n<template>\n<div class=\"h-screen flex w-full bg-img\">\n    <div class=\"vx-col w-4/5 sm:w-4/5 md:w-3/5 lg:w-3/4 xl:w-3/5 mx-auto self-center\">\n        <vx-card>\n            <div slot=\"no-body\" class=\"full-page-bg-color\">\n                <div class=\"vx-row\">\n                    <div class=\"vx-col hidden sm:hidden md:hidden lg:block lg:w-1/2 mx-auto self-center\">\n                        <img src=\"@/assets/images/pages/forgot-password.png\" alt=\"login\" class=\"mx-auto\" />\n                    </div>\n                     \n                    <div class=\"vx-col sm:w-full md:w-full lg:w-1/2 mx-auto self-center d-theme-dark-bg\">\n                        <div class=\"p-8\">\n                            <div class=\"vx-card__title mb-8\">\n                                <div>\n                                      <vs-alert v-show=\"mensajeLogin\" :active=\"inputValid\" :color=\"AlertColor\"  class=\"text-dark mt-5\"> {{mensajeLogin}} </vs-alert>\n                                      <br/>\n                                      <br/>\n                                      <br/>\n                                 </div>\n                                <h4 class=\"mb-4\">Recuperar contraseña</h4>\n                                <p>Le enviaremos las instrucciones para realizar el cambio de clave al correo electrónico asociado a su cuenta.</p>\n                            </div>\n                            <span class=\"input-group-text\">{{ID_USUARIO}}</span>\n                           \n                            <br>\n                            <div class=\"input-group mb-3\">\n                                <p>Ingrese los últimos 4 digitos del número celular asociado a su cuenta que Termina segun los 2 ultimos digitos</p>\n                                <div class=\"input-group-prepend\">\n                                    <span class=\"input-group-text\">{{celular}}</span>\n                                </div>\n                                <vs-input v-validate=\"'required|max:4|numeric'\" size=\"default\"\n                                 data-vv-validate-on=\"blur\" name=\"NUM_CELULAR\" \n                                 v-model=\"CUATRODIGITOS\" \n                                  v-on:change=\"onchangeVerificaCelular\"\n                                 class=\"w-1/3\" />\n                            </div>\n\n                            <span class=\"text-danger text-sm\">{{ errors.first('numCel') }}</span>\n                            <br /> <br />\n                            <vs-button type=\"border\" to=\"/pages/login\" class=\"px-4 w-full md:w-auto\">Regresar al Login</vs-button>\n                            <vs-button class=\"float-right px-4 w-full md:w-auto mt-3 mb-8 md:mt-0 md:mb-0\" :disabled=\"!validateForm || !RECUPERAR\" @click=\"recuperarClave('R')\">Recuperar Contraseña</vs-button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </vx-card>\n    </div>\n</div>\n</template>\n\n<script>\nimport * as divilib from \"@/divisoftlibs/utilDivisoftJS.js\";\n\nexport default {\n    created()\n    {\n        this.CUATRODIGITOS=\"**\"+this.getProfile.Celular.substring(6,8);\n        this.NUM_CELULAR=this.getProfile.Celular;\n\n        this.ID_USUARIO=this.getProfile.Username;\n\n    },\n\n      watch: {\n\n      \"getProfile\": function () {\n\n           if (this.getProfile.Credencial==\"R_CORRECTO\"  )\n           { \n            \n\n\n            this.$vs.notify({\n                 title: 'GoP informa', \n                 text: \"Se le ha enviado un Email a su correo Registrado\",\n                 iconPack: \"feather\",\n                 icon: \"icon-alert-circle\",\n                 color: \"success\"\n              });\n                          this.mensajeLogin=\"Se le ha enviado un Email a su correo Registrado\";\n                }\n                \n          },\n \n          // SI HAY PROMPT\n          \"getErrorLogin\": function () {\n\n              if (this.getErrorLogin != \"0\") \n              \n                this.$vs.notify({\n               title: 'GoP informa',\n               \n                text: \"Se ha producido un error en Login \",\n                iconPack: \"feather\",\n                icon: \"icon-alert-circle\",\n                color: \"warning\"\n              });\n               \n \n          }\n     },\n    data() {\n        return {\n            //se carga con un computado o un prop desde el otro componente\n            celular: \"****-\",\n            ID_USUARIO: \"\",\n            CUATRODIGITOS:\"\",\n            NUM_CELULAR: \"\",\n            RECUPERAR:false,\n             mensajeLogin:\"...\",\n              AlertColor:\"primary\",\n        };\n    },\n    computed: {\n\n    inputValid() { \n       if (this.getProfile.Credencial==\"R_CORRECTO\"  ) {\n          this.AlertColor=\"success\"\n         this.mensajeLogin=\"Se le ha enviado un Email a su correo Registrado\"\n         \n\n      } else \n      {\n         this.mensajeLogin=\"Error en el ejecutar las acciones de recuperacion de clave\"\n         this.AlertColor=\"warning\"\n         return false;\n      }\n       return true\n    },\n\n         getProfile() {\n            return this.$store.state.dsoaLogin.profile;\n        },\n        getErrorLogin() {\n           return this.$store.state.dsoaLogin.errorProfile;\n         },\n        validateForm() {\n            return !this.errors.any() && this.NUM_CELULAR !== ''\n        }\n    },\n    methods: {\n        //función para iniciar sesión\n        onchangeVerificaCelular() {\n             if (this.CUATRODIGITOS== this.NUM_CELULAR.substring(4,8) )\n                 this.RECUPERAR=true;\n             else\n               this.RECUPERAR=false;\n            \n\n        },\n\n     recuperarClave: function (indicadorTipoLogin)  {\n              //función para iniciar sesión\n       this.mensajeLogin=\"Procesando....\"       \n      var origenUrl = \"O\"; \n      this.password = \"NA\"; //A en B64 \n      var header = {\n        MODO: \"E\",\n        OBJECTID: \"97\",\n        CREDENCIAL: \"REPLACECREDENCIAL\",\n        USERNAME: this.username,\n        REGISTROSXPAGINA: \"\",\n        PAGINA: \"\",\n        ORDERBY: \"\"\n      };\n\n      //crea SdtLogin\n      var SdtLogin = {\n        action: indicadorTipoLogin,\n        username: this.ID_USUARIO,\n        password: \"NA\",\n        direccionIP: this.getPublicIp,\n        conexionADM: \"security\",\n        credencial: \"NA\",\n        celular: \"\",\n        email: \"\",\n        nombre: \"\",\n        empresa: \"\",\n        passwordOld: \"\",\n        keySecurity: \"\"\n      };\n\n      var loginR = divilib.GetSdtLoginString(SdtLogin);\n\n      //crea parametros\n      var parametros = [];\n\n      var parametro1 = {\n                NOMBRE: \"XML_SOLICITUD\",\n                OPERADOR: \"=\",\n                VALOR1: loginR,\n                VALOR2: \"\",\n                CDATA: \"1\"\n      };\n      parametros.push(parametro1);\n\n      //entrega arreglo de parametros recibe texto de parametros\n      this.paramtxt = divilib.paramArraytoStrintg(parametros);\n      this.headertxt = divilib.GetHeaderString(header);\n\n      //Crea peticion\n      var petTxt = {\n        header: this.headertxt,\n        parametros: this.paramtxt,\n        filas: \"\"\n      };\n\n      this.$store.commit(\"dsoaLogin/MUTSETURL\", \"O\");\n      this.$store.commit(\"dsoaLogin/MUTSETPETICIONTXT\", petTxt);\n\n      //agregar usuario a la hora\n      var horaNumerico = Date.now();\n      console.log(\"The time elapsed in millisecond is: \" + horaNumerico);\n     \n\n      //Crea pedido\n      var pedido = {\n        dml: \"E\",\n        ObjectId: \"97\",\n        credencial: horaNumerico,\n        formatoenvio: \"N\",\n        formatorecibe: \"N\",\n        indicador: \"6\", //LOGIN\n        origenUrl: origenUrl,\n        tipoLogin: indicadorTipoLogin\n\n      }; \n      //llama action\n      this.$store.dispatch(\"dsoaLogin/acLoginDsoa\", pedido);\n    },\n    }\n};\n</script>\n\n<style>\n.disabled {\n  pointer-events: none;\n  opacity: 0.6;\n}\n</style>\n"]}]}