{"remainingRequest":"E:\\Oficina\\PROYECTO TAVO\\TAVOCR\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Oficina\\PROYECTO TAVO\\TAVOCR\\src\\layouts\\components\\navbar\\components\\ProfileDropDown.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Oficina\\PROYECTO TAVO\\TAVOCR\\src\\layouts\\components\\navbar\\components\\ProfileDropDown.vue","mtime":1604014010041},{"path":"E:\\Oficina\\PROYECTO TAVO\\TAVOCR\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Oficina\\PROYECTO TAVO\\TAVOCR\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Oficina\\PROYECTO TAVO\\TAVOCR\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\Oficina\\PROYECTO TAVO\\TAVOCR\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Oficina\\PROYECTO TAVO\\TAVOCR\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapState } from \"vuex\";\nimport * as divilib from \"@/divisoftlibs/utilDivisoftJS.js\";\nimport { mapActions } from \"vuex\";\n\nexport default {\n  data() {\n    return {\n      key: \"RU5WSUFET0RFU0RFREVTREVMT0dJTg==aaa\",\n      ruta: \"/pages/reset-password/\",\n      rolBitWeb: \"TAVO_MENSAJERIA\",\n    };\n  },\n  computed: {\n    activeUserInfo() {\n      return this.$store.state.AppActiveUser;\n    },\n\n    getProfile() {\n      return this.$store.state.dsoaLogin.profile;\n    },\n\n    // BUSCA SI EL ROL EN ROLBITWEB EXISTE DEVUELVE UN VALOR DIFERENTE A -1\n    getRolBitWeb() {\n      return this.$store.getters[\"dsoaLogin/buscaRol\"](this.rolBitWeb);\n    },\n  },\n  methods: {\n    ...mapActions({\n      logout: \"dsoaLogin/logout\",\n    }),\n\n    llamaCambioClave() {\n      let momentoActual = new Date();\n      let fecha = momentoActual.getDay();\n      let hora = momentoActual.getHours();\n      let minuto = momentoActual.getMinutes();\n      let segundo = momentoActual.getSeconds();\n\n      fecha += \"-\" + hora + \"-\" + minuto + \"-\" + segundo;\n\n      let clave = this.key + btoa(fecha);\n\n      this.$store.commit(\"dsoaLogin/MUTSETCLAVECONTROL\", clave);\n      clave = this.ruta + this.key + btoa(fecha);\n      this.$router.push(clave).catch(() => {});\n    },\n    //cerrar sesion\n    logout() {\n      var defaultProfile = divilib.profile;\n      var usuario = this.getProfile[0].Username;\n\n      console.log(\"desconentando a \", usuario);\n\n      // SALE DEL CHAT\n\n      // borra los TOKENS\n      localStorage.removeItem(\"tokenStore\");\n      //limpio el token de chat\n\n      this.$store.commit(\"dsoaLogin/MUTLOGOUTCHAT\");\n      this.$store.commit(\"dsoaLogin/MUTSETCLEANTOKEN\");\n\n      this.$store.commit(\"dsoaLogin/MUTSETPROFILE\", defaultProfile);\n\n      // Change role on logout. Same value as initialRole of acj.js\n      this.$acl.change(\"admin\");\n      localStorage.removeItem(\"profile\");\n      localStorage.removeItem(\"paseKey\");\n\n      // This is just for demo Purpose. If user clicks on logout -> redirect\n      this.$router.push(\"/pages/login\").catch(() => {});\n\n      this.$socket.emit(\"logout\", usuario);\n      this.$socket.disconnect();\n    },\n    gourl() {\n      //window.location.href = \"http://www.google.com\"; //Will take you to Google.\n      window.open(\"http://bitweb.tavocr.com/\"); //This will open Google in a new window.\n    },\n  },\n};\n",{"version":3,"sources":["ProfileDropDown.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProfileDropDown.vue","sourceRoot":"src/layouts/components/navbar/components","sourcesContent":["<template>\n  <div class=\"the-navbar__user-meta flex items-center\">\n    <div class=\"text-right leading-tight hidden sm:block\">\n      <p class=\"font-semibold\">{{ getProfile[0].Username }}</p>\n    </div>\n\n    <!--:src=\"getProfile[0].Avatar\"-->\n    <vs-dropdown vs-custom-content vs-trigger-click class=\"cursor-pointer\">\n      <div class=\"con-img ml-3\">\n        <img\n          key=\"onlineImg\"\n          src=\"@/assets/images/pages/rosebox.jpg\"\n          alt=\"user-img\"\n          width=\"40\"\n          height=\"40\"\n          class=\"rounded-full shadow-md cursor-pointer block\"\n        />\n      </div>\n\n      <vs-dropdown-menu class=\"vx-navbar-dropdown\">\n        <ul style=\"min-width: 9rem\">\n          <li\n            class=\"flex py-2 px-4 cursor-pointer hover:bg-primary hover:text-white\"\n            @click=\"$router.push('/apps/user/user-view/258').catch(() => {})\"\n          >\n            <feather-icon icon=\"UserIcon\" svgClasses=\"w-4 h-4\" />\n            <span class=\"ml-2\">Perfil</span>\n          </li>\n\n          <li\n            v-if=\"getRolBitWeb >= 0\"\n            class=\"flex py-2 px-4 cursor-pointer hover:bg-primary hover:text-white\"\n            @click=\"gourl\"\n          >\n            <feather-icon icon=\"LogOutIcon\" svgClasses=\"w-4 h-4\" />\n            <span class=\"ml-2\">BitWeb</span>\n          </li>\n\n          <li\n            class=\"flex py-2 px-4 cursor-pointer hover:bg-primary hover:text-white\"\n            @click=\"$router.push('/apps/chat/0').catch(() => {})\"\n          >\n            <feather-icon icon=\"MessageSquareIcon\" svgClasses=\"w-4 h-4\" />\n            <span class=\"ml-2\">Chat</span>\n          </li>\n\n          <li\n            class=\"flex py-2 px-4 cursor-pointer hover:bg-primary hover:text-white\"\n            @click=\"llamaCambioClave()\"\n          >\n            <feather-icon icon=\"HeartIcon\" svgClasses=\"w-4 h-4\" />\n            <span class=\"ml-2\">Cambiar Clave</span>\n          </li>\n\n          <vs-divider class=\"m-1\" />\n\n          <li\n            class=\"flex py-2 px-4 cursor-pointer hover:bg-primary hover:text-white\"\n            @click=\"logout\"\n          >\n            <feather-icon icon=\"LogOutIcon\" svgClasses=\"w-4 h-4\" />\n            <span class=\"ml-2\">Salir</span>\n          </li>\n        </ul>\n      </vs-dropdown-menu>\n    </vs-dropdown>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport * as divilib from \"@/divisoftlibs/utilDivisoftJS.js\";\nimport { mapActions } from \"vuex\";\n\nexport default {\n  data() {\n    return {\n      key: \"RU5WSUFET0RFU0RFREVTREVMT0dJTg==aaa\",\n      ruta: \"/pages/reset-password/\",\n      rolBitWeb: \"TAVO_MENSAJERIA\",\n    };\n  },\n  computed: {\n    activeUserInfo() {\n      return this.$store.state.AppActiveUser;\n    },\n\n    getProfile() {\n      return this.$store.state.dsoaLogin.profile;\n    },\n\n    // BUSCA SI EL ROL EN ROLBITWEB EXISTE DEVUELVE UN VALOR DIFERENTE A -1\n    getRolBitWeb() {\n      return this.$store.getters[\"dsoaLogin/buscaRol\"](this.rolBitWeb);\n    },\n  },\n  methods: {\n    ...mapActions({\n      logout: \"dsoaLogin/logout\",\n    }),\n\n    llamaCambioClave() {\n      let momentoActual = new Date();\n      let fecha = momentoActual.getDay();\n      let hora = momentoActual.getHours();\n      let minuto = momentoActual.getMinutes();\n      let segundo = momentoActual.getSeconds();\n\n      fecha += \"-\" + hora + \"-\" + minuto + \"-\" + segundo;\n\n      let clave = this.key + btoa(fecha);\n\n      this.$store.commit(\"dsoaLogin/MUTSETCLAVECONTROL\", clave);\n      clave = this.ruta + this.key + btoa(fecha);\n      this.$router.push(clave).catch(() => {});\n    },\n    //cerrar sesion\n    logout() {\n      var defaultProfile = divilib.profile;\n      var usuario = this.getProfile[0].Username;\n\n      console.log(\"desconentando a \", usuario);\n\n      // SALE DEL CHAT\n\n      // borra los TOKENS\n      localStorage.removeItem(\"tokenStore\");\n      //limpio el token de chat\n\n      this.$store.commit(\"dsoaLogin/MUTLOGOUTCHAT\");\n      this.$store.commit(\"dsoaLogin/MUTSETCLEANTOKEN\");\n\n      this.$store.commit(\"dsoaLogin/MUTSETPROFILE\", defaultProfile);\n\n      // Change role on logout. Same value as initialRole of acj.js\n      this.$acl.change(\"admin\");\n      localStorage.removeItem(\"profile\");\n      localStorage.removeItem(\"paseKey\");\n\n      // This is just for demo Purpose. If user clicks on logout -> redirect\n      this.$router.push(\"/pages/login\").catch(() => {});\n\n      this.$socket.emit(\"logout\", usuario);\n      this.$socket.disconnect();\n    },\n    gourl() {\n      //window.location.href = \"http://www.google.com\"; //Will take you to Google.\n      window.open(\"http://bitweb.tavocr.com/\"); //This will open Google in a new window.\n    },\n  },\n};\n</script>\n"]}]}